function cov_28vd6s0pkc(){var path="C:\\Users\\Dell\\Desktop\\new\\models\\album.js";var hash="fd4b26d0d04caba65a3cd0d22214150416f2df5c";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\Dell\\Desktop\\new\\models\\album.js",statementMap:{"0":{start:{line:1,column:17},end:{line:1,column:36}},"1":{start:{line:2,column:13},end:{line:2,column:28}},"2":{start:{line:3,column:15},end:{line:3,column:42}},"3":{start:{line:4,column:31},end:{line:4,column:53}},"4":{start:{line:6,column:22},end:{line:6,column:50}},"5":{start:{line:9,column:18},end:{line:46,column:2}},"6":{start:{line:48,column:0},end:{line:82,column:1}},"7":{start:{line:49,column:4},end:{line:49,column:17}},"8":{start:{line:52,column:4},end:{line:81,column:9}},"9":{start:{line:54,column:8},end:{line:58,column:9}},"10":{start:{line:55,column:12},end:{line:55,column:36}},"11":{start:{line:56,column:12},end:{line:56,column:47}},"12":{start:{line:59,column:8},end:{line:74,column:9}},"13":{start:{line:60,column:12},end:{line:60,column:32}},"14":{start:{line:61,column:12},end:{line:67,column:15}},"15":{start:{line:62,column:16},end:{line:62,column:36}},"16":{start:{line:63,column:16},end:{line:63,column:50}},"17":{start:{line:65,column:16},end:{line:65,column:37}},"18":{start:{line:66,column:16},end:{line:66,column:41}},"19":{start:{line:70,column:12},end:{line:70,column:34}},"20":{start:{line:71,column:12},end:{line:71,column:44}},"21":{start:{line:72,column:12},end:{line:72,column:52}},"22":{start:{line:75,column:8},end:{line:75,column:30}},"23":{start:{line:76,column:8},end:{line:76,column:17}},"24":{start:{line:78,column:8},end:{line:78,column:25}},"25":{start:{line:79,column:8},end:{line:79,column:35}},"26":{start:{line:89,column:12},end:{line:89,column:49}},"27":{start:{line:92,column:0},end:{line:92,column:25}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:48,column:37},end:{line:48,column:38}},loc:{start:{line:48,column:66},end:{line:82,column:1}},line:48},"1":{name:"(anonymous_1)",decl:{start:{line:52,column:48},end:{line:52,column:49}},loc:{start:{line:52,column:59},end:{line:77,column:5}},line:52},"2":{name:"(anonymous_2)",decl:{start:{line:61,column:57},end:{line:61,column:58}},loc:{start:{line:61,column:66},end:{line:64,column:13}},line:61},"3":{name:"(anonymous_3)",decl:{start:{line:64,column:21},end:{line:64,column:22}},loc:{start:{line:64,column:28},end:{line:67,column:13}},line:64},"4":{name:"(anonymous_4)",decl:{start:{line:77,column:13},end:{line:77,column:14}},loc:{start:{line:77,column:22},end:{line:80,column:5}},line:77}},branchMap:{"0":{loc:{start:{line:54,column:8},end:{line:58,column:9}},type:"if",locations:[{start:{line:54,column:8},end:{line:58,column:9}},{start:{line:54,column:8},end:{line:58,column:9}}],line:54},"1":{loc:{start:{line:59,column:8},end:{line:74,column:9}},type:"if",locations:[{start:{line:59,column:8},end:{line:74,column:9}},{start:{line:59,column:8},end:{line:74,column:9}}],line:59}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0},b:{"0":[0,0],"1":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"fd4b26d0d04caba65a3cd0d22214150416f2df5c"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];cov_28vd6s0pkc=function(){return actualCoverage;};return actualCoverage;}cov_28vd6s0pkc();const mongoose=(cov_28vd6s0pkc().s[0]++,require("mongoose"));const Schema=(cov_28vd6s0pkc().s[1]++,mongoose.Schema);var ObjectID=(cov_28vd6s0pkc().s[2]++,require('mongodb').ObjectID);var{images,ImagesSchema}=(cov_28vd6s0pkc().s[3]++,require("./images.js"));// images model
//var { artist } = require("../models/artists.js");
const defaultModule=(cov_28vd6s0pkc().s[4]++,require("./../defaultimage"));var AlbumSchema=(cov_28vd6s0pkc().s[5]++,new mongoose.Schema({albumName:{type:String,required:true,trim:true,unique:true},image:{type:ImagesSchema,required:true,default:defaultModule.defaultImage._doc},artistId:{type:mongoose.Schema.Types.ObjectId,ref:"artists"},tracks:[{type:mongoose.Schema.Types.ObjectId,ref:"track"}],rating:{type:Number,default:null,required:false,min:1,max:10},likes:{type:Number,default:0,required:true,min:0}}));cov_28vd6s0pkc().s[6]++;AlbumSchema.statics.deletebyartist=function(artistid,albumid){cov_28vd6s0pkc().f[0]++;cov_28vd6s0pkc().s[7]++;album=this;// artistid = new ObjectID(artistid);
cov_28vd6s0pkc().s[8]++;return album.findOne({_id:albumid}).then(Album=>{cov_28vd6s0pkc().f[1]++;cov_28vd6s0pkc().s[9]++;if(!Album){cov_28vd6s0pkc().b[0][0]++;cov_28vd6s0pkc().s[10]++;console.log("not album");cov_28vd6s0pkc().s[11]++;return Promise.reject("not album");}else{cov_28vd6s0pkc().b[0][1]++;}cov_28vd6s0pkc().s[12]++;if(Album.artistId.toString()===artistid){cov_28vd6s0pkc().b[1][0]++;cov_28vd6s0pkc().s[13]++;console.log("ukpl");cov_28vd6s0pkc().s[14]++;return album.findByIdAndRemove(albumid).then(alb=>{cov_28vd6s0pkc().f[2]++;cov_28vd6s0pkc().s[15]++;console.log("kfho");cov_28vd6s0pkc().s[16]++;return Promise.resolve("deleted");}).catch(e=>{cov_28vd6s0pkc().f[3]++;cov_28vd6s0pkc().s[17]++;console.log("kfojf");cov_28vd6s0pkc().s[18]++;return Promise.reject(e);});}else{cov_28vd6s0pkc().b[1][1]++;cov_28vd6s0pkc().s[19]++;console.log(artistid);cov_28vd6s0pkc().s[20]++;console.log(Album.artistId._id);cov_28vd6s0pkc().s[21]++;return Promise.reject("not authorized");}cov_28vd6s0pkc().s[22]++;console.log("fejeif");cov_28vd6s0pkc().s[23]++;str="z";}).catch(err=>{cov_28vd6s0pkc().f[4]++;cov_28vd6s0pkc().s[24]++;console.log(err);cov_28vd6s0pkc().s[25]++;return Promise.reject(err);});};/*AlbumSchema.methods.findartistname = function () {
    alb = this;
    artid = alb.artistId;
    return artist.findById({artid});

}*/var album=(cov_28vd6s0pkc().s[26]++,mongoose.model('albums',AlbumSchema));cov_28vd6s0pkc().s[27]++;module.exports={album};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFsYnVtLmpzIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwicmVxdWlyZSIsIlNjaGVtYSIsIk9iamVjdElEIiwiaW1hZ2VzIiwiSW1hZ2VzU2NoZW1hIiwiZGVmYXVsdE1vZHVsZSIsIkFsYnVtU2NoZW1hIiwiYWxidW1OYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwidHJpbSIsInVuaXF1ZSIsImltYWdlIiwiZGVmYXVsdCIsImRlZmF1bHRJbWFnZSIsIl9kb2MiLCJhcnRpc3RJZCIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJ0cmFja3MiLCJyYXRpbmciLCJOdW1iZXIiLCJtaW4iLCJtYXgiLCJsaWtlcyIsInN0YXRpY3MiLCJkZWxldGVieWFydGlzdCIsImFydGlzdGlkIiwiYWxidW1pZCIsImFsYnVtIiwiZmluZE9uZSIsIl9pZCIsInRoZW4iLCJBbGJ1bSIsImNvbnNvbGUiLCJsb2ciLCJQcm9taXNlIiwicmVqZWN0IiwidG9TdHJpbmciLCJmaW5kQnlJZEFuZFJlbW92ZSIsImFsYiIsInJlc29sdmUiLCJjYXRjaCIsImUiLCJzdHIiLCJlcnIiLCJtb2RlbCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJrZ0hBQUEsS0FBTUEsQ0FBQUEsUUFBUSwwQkFBR0MsT0FBTyxDQUFDLFVBQUQsQ0FBVixDQUFkLENBQ0EsS0FBTUMsQ0FBQUEsTUFBTSwwQkFBQ0YsUUFBUSxDQUFDRSxNQUFWLENBQVosQ0FDQSxHQUFJQyxDQUFBQSxRQUFRLDBCQUFHRixPQUFPLENBQUMsU0FBRCxDQUFQLENBQW1CRSxRQUF0QixDQUFaLENBQ0EsR0FBSSxDQUFFQyxNQUFGLENBQVVDLFlBQVYsMkJBQTJCSixPQUFPLENBQUMsYUFBRCxDQUFsQyxDQUFKLENBQXVEO0FBQ3ZEO0FBQ0EsS0FBTUssQ0FBQUEsYUFBYSwwQkFBR0wsT0FBTyxDQUFDLG1CQUFELENBQVYsQ0FBbkIsQ0FHQSxHQUFJTSxDQUFBQSxXQUFXLDBCQUFHLEdBQUlQLENBQUFBLFFB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ZCxNQUFPVCxDQUFBQSxPQUFPLENBQUNDLE1BQVIsQ0FBZVEsR0FBZixDQUFQLENBQ0gsQ0E1Qk0sQ0FBUCxDQThCSCxDQWxDRCxDQW1DQTs7Ozs7R0FNQSxHQUFJaEIsQ0FBQUEsS0FBSywyQkFBR2hDLFFBQVEsQ0FBQ2lELEtBQVQsQ0FBZSxRQUFmLENBQXlCMUMsV0FBekIsQ0FBSCxDQUFULEMseUJBR0EyQyxNQUFNLENBQUNDLE9BQVAsQ0FBaUIsQ0FBQ25CLEtBQUQsQ0FBakIiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBtb25nb29zZSA9IHJlcXVpcmUoXCJtb25nb29zZVwiKTtcclxuY29uc3QgU2NoZW1hPW1vbmdvb3NlLlNjaGVtYTtcclxudmFyIE9iamVjdElEID0gcmVxdWlyZSgnbW9uZ29kYicpLk9iamVjdElEO1xyXG52YXIgeyBpbWFnZXMsIEltYWdlc1NjaGVtYSB9ID0gcmVxdWlyZShcIi4vaW1hZ2VzLmpzXCIpOyAvLyBpbWFnZXMgbW9kZWxcclxuLy92YXIgeyBhcnRpc3QgfSA9IHJlcXVpcmUoXCIuLi9tb2RlbHMvYXJ0aXN0cy5qc1wiKTtcclxuY29uc3QgZGVmYXVsdE1vZHVsZSA9IHJlcXVpcmUoXCIuLy4uL2RlZmF1bHRpbWFnZVwiKTtcclxuXHJcblxyXG52YXIgQWxidW1TY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcclxuICAgIGFsYnVtTmFtZToge1xyXG4gICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgICAgICB0cmltOiB0cnVlLFxyXG4gICAgICAgIHVuaXF1ZTogdHJ1ZVxyXG4gICAgfSxcclxuICAgIGltYWdlOiB7XHJcbiAgICAgICAgdHlwZTogSW1hZ2VzU2NoZW1hLFxyXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgICAgIGRlZmF1bHQ6IGRlZmF1bHRNb2R1bGUuZGVmYXVsdEltYWdlLl9kb2NcclxuICAgIH0sXHJcblxyXG4gICAgYXJ0aXN0SWQ6IHtcclxuICAgICAgICB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsXHJcbiAgICAgICAgcmVmOiBcImFydGlzdHNcIlxyXG4gICAgfSxcclxuICAgIHRyYWNrczogW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLFxyXG4gICAgICAgICAgICByZWY6IFwidHJhY2tcIlxyXG4gICAgICAgIH1cclxuICAgIF0sXHJcbiAgICByYXRpbmc6e1xyXG4gICAgICAgIHR5cGU6TnVtYmVyLFxyXG4gICAgICAgIGRlZmF1bHQ6bnVsbCxcclxuICAgICAgICByZXF1aXJlZDpmYWxzZSxcclxuICAgICAgICBtaW46MSxcclxuICAgICAgICBtYXg6MTAsXHJcbiAgXHJcbiAgICB9LFxyXG4gICAgbGlrZXM6e1xyXG4gICAgICB0eXBlOk51bWJlcixcclxuICAgICAgZGVmYXVsdDowLFxyXG4gICAgICByZXF1aXJlZDp0cnVlLFxyXG4gICAgICBtaW46MCxcclxuICAgIH0sXHJcbn0pXHJcblxyXG5BbGJ1bVNjaGVtYS5zdGF0aWNzLmRlbGV0ZWJ5YXJ0aXN0ID0gZnVuY3Rpb24gKGFydGlzdGlkLCBhbGJ1bWlkKSB7XHJcbiAgICBhbGJ1bSA9IHRoaXM7XHJcbiAgIC8vIGFydGlzdGlkID0gbmV3IE9iamVjdElEKGFydGlzdGlkKTtcclxuICAgIFxyXG4gICAgcmV0dXJuIGFsYnVtLmZpbmRPbmUoeyBfaWQ6IGFsYnVtaWQgfSkudGhlbigoQWxidW0pID0+IHtcclxuXHJcbiAgICAgICAgaWYgKCFBbGJ1bSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIm5vdCBhbGJ1bVwiKVxyXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXCJub3QgYWxidW1cIik7XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoQWxidW0uYXJ0aXN0SWQudG9TdHJpbmcoKSA9PT0gYXJ0aXN0aWQpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJ1a3BsXCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gYWxidW0uZmluZEJ5SWRBbmRSZW1vdmUoYWxidW1pZCkudGhlbigoYWxiKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImtmaG9cIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFwiZGVsZXRlZFwiKTtcclxuICAgICAgICAgICAgfSkuY2F0Y2goKGUpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwia2ZvamZcIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYXJ0aXN0aWQpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhBbGJ1bS5hcnRpc3RJZC5faWQpO1xyXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXCJub3QgYXV0aG9yaXplZFwiKTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiZmVqZWlmXCIpO1xyXG4gICAgICAgIHN0ciA9IFwielwiXHJcbiAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyKTtcclxuICAgIH0pXHJcbiAgICAgICAgO1xyXG59XHJcbi8qQWxidW1TY2hlbWEubWV0aG9kcy5maW5kYXJ0aXN0bmFtZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGFsYiA9IHRoaXM7XHJcbiAgICBhcnRpZCA9IGFsYi5hcnRpc3RJZDtcclxuICAgIHJldHVybiBhcnRpc3QuZmluZEJ5SWQoe2FydGlkfSk7XHJcblxyXG59Ki9cclxudmFyIGFsYnVtID0gbW9uZ29vc2UubW9kZWwoJ2FsYnVtcycsIEFsYnVtU2NoZW1hKTtcclxuXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHthbGJ1bX07Il19