function cov_tb3dtfwnu(){var path="C:\\Users\\Dell\\Desktop\\new\\Controllers\\UserController.js";var hash="32c2b4da5ed7b909aaf11547cb875e0cb551fb7f";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\Dell\\Desktop\\new\\Controllers\\UserController.js",statementMap:{"0":{start:{line:1,column:0},end:{line:1,column:33}},"1":{start:{line:4,column:19},end:{line:4,column:49}},"2":{start:{line:5,column:17},end:{line:5,column:38}},"3":{start:{line:6,column:15},end:{line:6,column:46}},"4":{start:{line:7,column:13},end:{line:7,column:46}},"5":{start:{line:9,column:17},end:{line:9,column:35}},"6":{start:{line:11,column:16},end:{line:11,column:34}},"7":{start:{line:12,column:15},end:{line:12,column:31}},"8":{start:{line:14,column:15},end:{line:14,column:32}},"9":{start:{line:15,column:15},end:{line:15,column:20}},"10":{start:{line:18,column:8},end:{line:18,column:25}},"11":{start:{line:20,column:12},end:{line:20,column:35}},"12":{start:{line:24,column:18},end:{line:24,column:70}},"13":{start:{line:25,column:11},end:{line:25,column:67}},"14":{start:{line:26,column:22},end:{line:26,column:79}},"15":{start:{line:27,column:20},end:{line:27,column:76}},"16":{start:{line:31,column:20},end:{line:37,column:2}},"17":{start:{line:70,column:0},end:{line:70,column:107}},"18":{start:{line:72,column:0},end:{line:145,column:3}},"19":{start:{line:73,column:4},end:{line:144,column:5}},"20":{start:{line:74,column:21},end:{line:74,column:43}},"21":{start:{line:75,column:27},end:{line:75,column:69}},"22":{start:{line:84,column:8},end:{line:87,column:9}},"23":{start:{line:86,column:10},end:{line:86,column:67}},"24":{start:{line:90,column:21},end:{line:99,column:14}},"25":{start:{line:101,column:8},end:{line:137,column:14}},"26":{start:{line:106,column:14},end:{line:106,column:20}},"27":{start:{line:107,column:13},end:{line:107,column:101}},"28":{start:{line:110,column:11},end:{line:110,column:26}},"29":{start:{line:111,column:11},end:{line:111,column:59}},"30":{start:{line:112,column:2},end:{line:112,column:20}},"31":{start:{line:113,column:18},end:{line:117,column:4}},"32":{start:{line:119,column:2},end:{line:128,column:3}},"33":{start:{line:120,column:3},end:{line:126,column:5}},"34":{start:{line:121,column:4},end:{line:121,column:23}},"35":{start:{line:122,column:3},end:{line:122,column:20}},"36":{start:{line:125,column:3},end:{line:125,column:19}},"37":{start:{line:131,column:12},end:{line:131,column:105}},"38":{start:{line:134,column:16},end:{line:134,column:33}},"39":{start:{line:135,column:16},end:{line:135,column:78}},"40":{start:{line:143,column:8},end:{line:143,column:31}},"41":{start:{line:167,column:0},end:{line:178,column:2}},"42":{start:{line:168,column:3},end:{line:177,column:6}},"43":{start:{line:169,column:8},end:{line:172,column:9}},"44":{start:{line:170,column:3},end:{line:170,column:42}},"45":{start:{line:171,column:12},end:{line:171,column:36}},"46":{start:{line:174,column:2},end:{line:174,column:56}},"47":{start:{line:176,column:8},end:{line:176,column:47}},"48":{start:{line:182,column:0},end:{line:208,column:3}},"49":{start:{line:183,column:4},end:{line:183,column:19}},"50":{start:{line:184,column:15},end:{line:184,column:54}},"51":{start:{line:185,column:4},end:{line:185,column:19}},"52":{start:{line:186,column:4},end:{line:203,column:7}},"53":{start:{line:187,column:8},end:{line:187,column:23}},"54":{start:{line:188,column:2},end:{line:199,column:3}},"55":{start:{line:190,column:3},end:{line:194,column:6}},"56":{start:{line:191,column:12},end:{line:191,column:27}},"57":{start:{line:192,column:12},end:{line:192,column:47}},"58":{start:{line:193,column:6},end:{line:193,column:21}},"59":{start:{line:198,column:3},end:{line:198,column:94}},"60":{start:{line:201,column:8},end:{line:201,column:23}},"61":{start:{line:202,column:8},end:{line:202,column:70}},"62":{start:{line:211,column:0},end:{line:225,column:2}},"63":{start:{line:212,column:16},end:{line:212,column:36}},"64":{start:{line:213,column:4},end:{line:216,column:5}},"65":{start:{line:215,column:8},end:{line:215,column:78}},"66":{start:{line:217,column:4},end:{line:224,column:6}},"67":{start:{line:218,column:8},end:{line:220,column:9}},"68":{start:{line:219,column:12},end:{line:219,column:35}},"69":{start:{line:221,column:8},end:{line:221,column:35}},"70":{start:{line:223,column:8},end:{line:223,column:31}},"71":{start:{line:265,column:0},end:{line:310,column:3}},"72":{start:{line:267,column:17},end:{line:267,column:31}},"73":{start:{line:269,column:4},end:{line:309,column:5}},"74":{start:{line:271,column:5},end:{line:303,column:8}},"75":{start:{line:273,column:11},end:{line:276,column:72}},"76":{start:{line:276,column:12},end:{line:276,column:71}},"77":{start:{line:279,column:13},end:{line:279,column:51}},"78":{start:{line:280,column:4},end:{line:302,column:6}},"79":{start:{line:282,column:13},end:{line:282,column:28}},"80":{start:{line:283,column:13},end:{line:283,column:68}},"81":{start:{line:284,column:20},end:{line:288,column:9}},"82":{start:{line:291,column:4},end:{line:301,column:10}},"83":{start:{line:292,column:5},end:{line:299,column:10}},"84":{start:{line:293,column:12},end:{line:293,column:31}},"85":{start:{line:294,column:8},end:{line:294,column:60}},"86":{start:{line:296,column:12},end:{line:296,column:61}},"87":{start:{line:298,column:8},end:{line:298,column:56}},"88":{start:{line:308,column:8},end:{line:308,column:60}},"89":{start:{line:337,column:0},end:{line:358,column:6}},"90":{start:{line:339,column:20},end:{line:339,column:40}},"91":{start:{line:342,column:14},end:{line:342,column:29}},"92":{start:{line:344,column:17},end:{line:344,column:39}},"93":{start:{line:345,column:23},end:{line:345,column:59}},"94":{start:{line:347,column:4},end:{line:356,column:71}},"95":{start:{line:349,column:7},end:{line:349,column:32}},"96":{start:{line:350,column:7},end:{line:350,column:33}},"97":{start:{line:351,column:7},end:{line:351,column:19}},"98":{start:{line:353,column:7},end:{line:353,column:68}},"99":{start:{line:356,column:20},end:{line:356,column:69}},"100":{start:{line:395,column:0},end:{line:426,column:3}},"101":{start:{line:397,column:11},end:{line:397,column:24}},"102":{start:{line:399,column:16},end:{line:399,column:36}},"103":{start:{line:400,column:4},end:{line:424,column:81}},"104":{start:{line:401,column:4},end:{line:403,column:5}},"105":{start:{line:402,column:8},end:{line:402,column:32}},"106":{start:{line:404,column:2},end:{line:404,column:18}},"107":{start:{line:406,column:2},end:{line:422,column:1}},"108":{start:{line:408,column:6},end:{line:408,column:70}},"109":{start:{line:410,column:7},end:{line:422,column:1}},"110":{start:{line:412,column:4},end:{line:412,column:104}},"111":{start:{line:417,column:4},end:{line:417,column:25}},"112":{start:{line:418,column:4},end:{line:418,column:16}},"113":{start:{line:419,column:4},end:{line:419,column:88}},"114":{start:{line:424,column:15},end:{line:424,column:79}},"115":{start:{line:476,column:0},end:{line:532,column:6}},"116":{start:{line:479,column:20},end:{line:479,column:33}},"117":{start:{line:481,column:23},end:{line:481,column:43}},"118":{start:{line:482,column:13},end:{line:531,column:89}},"119":{start:{line:484,column:16},end:{line:486,column:17}},"120":{start:{line:485,column:20},end:{line:485,column:44}},"121":{start:{line:487,column:14},end:{line:487,column:30}},"122":{start:{line:489,column:14},end:{line:528,column:13}},"123":{start:{line:491,column:18},end:{line:491,column:82}},"124":{start:{line:493,column:19},end:{line:528,column:13}},"125":{start:{line:495,column:16},end:{line:495,column:107}},"126":{start:{line:500,column:27},end:{line:500,column:37}},"127":{start:{line:501,column:26},end:{line:501,column:35}},"128":{start:{line:502,column:27},end:{line:502,column:97}},"129":{start:{line:503,column:16},end:{line:503,column:34}},"130":{start:{line:505,column:25},end:{line:505,column:40}},"131":{start:{line:506,column:25},end:{line:506,column:88}},"132":{start:{line:508,column:32},end:{line:512,column:21}},"133":{start:{line:514,column:16},end:{line:527,column:25}},"134":{start:{line:515,column:17},end:{line:525,column:17}},"135":{start:{line:517,column:24},end:{line:517,column:43}},"136":{start:{line:518,column:20},end:{line:518,column:77}},"137":{start:{line:523,column:24},end:{line:523,column:73}},"138":{start:{line:524,column:20},end:{line:524,column:124}},"139":{start:{line:531,column:23},end:{line:531,column:87}},"140":{start:{line:582,column:0},end:{line:608,column:3}},"141":{start:{line:583,column:15},end:{line:583,column:30}},"142":{start:{line:584,column:0},end:{line:606,column:1}},"143":{start:{line:585,column:4},end:{line:585,column:53}},"144":{start:{line:587,column:4},end:{line:601,column:1}},"145":{start:{line:588,column:6},end:{line:600,column:6}},"146":{start:{line:589,column:8},end:{line:592,column:9}},"147":{start:{line:590,column:3},end:{line:590,column:56}},"148":{start:{line:594,column:8},end:{line:594,column:28}},"149":{start:{line:595,column:8},end:{line:595,column:19}},"150":{start:{line:596,column:8},end:{line:596,column:98}},"151":{start:{line:598,column:7},end:{line:598,column:72}},"152":{start:{line:604,column:4},end:{line:604,column:79}},"153":{start:{line:614,column:0},end:{line:656,column:3}},"154":{start:{line:615,column:16},end:{line:615,column:36}},"155":{start:{line:616,column:4},end:{line:655,column:4}},"156":{start:{line:617,column:8},end:{line:619,column:9}},"157":{start:{line:618,column:12},end:{line:618,column:36}},"158":{start:{line:621,column:15},end:{line:621,column:32}},"159":{start:{line:622,column:4},end:{line:624,column:5}},"160":{start:{line:623,column:8},end:{line:623,column:58}},"161":{start:{line:625,column:4},end:{line:627,column:5}},"162":{start:{line:626,column:8},end:{line:626,column:50}},"163":{start:{line:628,column:4},end:{line:652,column:6}},"164":{start:{line:629,column:8},end:{line:631,column:9}},"165":{start:{line:630,column:12},end:{line:630,column:56}},"166":{start:{line:633,column:8},end:{line:647,column:10}},"167":{start:{line:634,column:8},end:{line:643,column:9}},"168":{start:{line:634,column:22},end:{line:634,column:23}},"169":{start:{line:636,column:12},end:{line:642,column:13}},"170":{start:{line:637,column:30},end:{line:637,column:53}},"171":{start:{line:638,column:16},end:{line:638,column:86}},"172":{start:{line:639,column:16},end:{line:639,column:72}},"173":{start:{line:640,column:16},end:{line:640,column:39}},"174":{start:{line:641,column:16},end:{line:641,column:22}},"175":{start:{line:644,column:8},end:{line:644,column:47}},"176":{start:{line:646,column:12},end:{line:646,column:58}},"177":{start:{line:651,column:8},end:{line:651,column:54}},"178":{start:{line:654,column:4},end:{line:654,column:48}},"179":{start:{line:665,column:0},end:{line:768,column:3}},"180":{start:{line:666,column:12},end:{line:666,column:32}},"181":{start:{line:667,column:2},end:{line:766,column:1}},"182":{start:{line:669,column:4},end:{line:669,column:82}},"183":{start:{line:672,column:0},end:{line:766,column:1}},"184":{start:{line:673,column:4},end:{line:673,column:53}},"185":{start:{line:675,column:5},end:{line:759,column:6}},"186":{start:{line:676,column:8},end:{line:679,column:9}},"187":{start:{line:678,column:3},end:{line:678,column:56}},"188":{start:{line:680,column:2},end:{line:694,column:7}},"189":{start:{line:682,column:20},end:{line:682,column:50}},"190":{start:{line:684,column:4},end:{line:692,column:5}},"191":{start:{line:686,column:23},end:{line:686,column:42}},"192":{start:{line:690,column:5},end:{line:690,column:72}},"193":{start:{line:695,column:3},end:{line:754,column:4}},"194":{start:{line:697,column:4},end:{line:753,column:6}},"195":{start:{line:698,column:3},end:{line:751,column:2}},"196":{start:{line:701,column:4},end:{line:701,column:58}},"197":{start:{line:707,column:8},end:{line:748,column:3}},"198":{start:{line:709,column:3},end:{line:714,column:4}},"199":{start:{line:712,column:4},end:{line:712,column:36}},"200":{start:{line:715,column:3},end:{line:726,column:4}},"201":{start:{line:718,column:4},end:{line:722,column:5}},"202":{start:{line:721,column:5},end:{line:721,column:62}},"203":{start:{line:725,column:4},end:{line:725,column:33}},"204":{start:{line:727,column:3},end:{line:732,column:4}},"205":{start:{line:730,column:5},end:{line:730,column:31}},"206":{start:{line:734,column:4},end:{line:736,column:7}},"207":{start:{line:735,column:8},end:{line:735,column:53}},"208":{start:{line:735,column:17},end:{line:735,column:53}},"209":{start:{line:746,column:3},end:{line:746,column:34}},"210":{start:{line:750,column:8},end:{line:750,column:47}},"211":{start:{line:757,column:8},end:{line:757,column:61}},"212":{start:{line:764,column:4},end:{line:764,column:86}},"213":{start:{line:775,column:1},end:{line:811,column:3}},"214":{start:{line:776,column:20},end:{line:776,column:40}},"215":{start:{line:777,column:20},end:{line:777,column:40}},"216":{start:{line:778,column:14},end:{line:778,column:34}},"217":{start:{line:779,column:4},end:{line:782,column:5}},"218":{start:{line:781,column:8},end:{line:781,column:56}},"219":{start:{line:783,column:4},end:{line:810,column:16}},"220":{start:{line:784,column:8},end:{line:787,column:9}},"221":{start:{line:786,column:12},end:{line:786,column:35}},"222":{start:{line:788,column:4},end:{line:788,column:35}},"223":{start:{line:789,column:15},end:{line:789,column:16}},"224":{start:{line:790,column:4},end:{line:809,column:23}},"225":{start:{line:791,column:8},end:{line:809,column:9}},"226":{start:{line:792,column:12},end:{line:792,column:76}},"227":{start:{line:793,column:12},end:{line:793,column:48}},"228":{start:{line:794,column:29},end:{line:794,column:51}},"229":{start:{line:795,column:35},end:{line:795,column:71}},"230":{start:{line:796,column:16},end:{line:796,column:40}},"231":{start:{line:797,column:16},end:{line:797,column:41}},"232":{start:{line:798,column:16},end:{line:798,column:28}},"233":{start:{line:799,column:16},end:{line:799,column:43}},"234":{start:{line:800,column:16},end:{line:800,column:25}},"235":{start:{line:801,column:16},end:{line:801,column:77}},"236":{start:{line:804,column:12},end:{line:804,column:39}},"237":{start:{line:805,column:12},end:{line:805,column:37}},"238":{start:{line:806,column:12},end:{line:806,column:53}},"239":{start:{line:807,column:12},end:{line:807,column:20}},"240":{start:{line:808,column:12},end:{line:808,column:69}},"241":{start:{line:823,column:1},end:{line:823,column:26}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:72,column:29},end:{line:72,column:30}},loc:{start:{line:72,column:49},end:{line:145,column:1}},line:72},"1":{name:"(anonymous_1)",decl:{start:{line:101,column:27},end:{line:101,column:28}},loc:{start:{line:101,column:36},end:{line:132,column:9}},line:101},"2":{name:"(anonymous_2)",decl:{start:{line:119,column:38},end:{line:119,column:39}},loc:{start:{line:119,column:63},end:{line:128,column:1}},line:119},"3":{name:"(anonymous_3)",decl:{start:{line:133,column:12},end:{line:133,column:13}},loc:{start:{line:133,column:21},end:{line:137,column:13}},line:133},"4":{name:"(anonymous_4)",decl:{start:{line:167,column:34},end:{line:167,column:35}},loc:{start:{line:167,column:47},end:{line:178,column:1}},line:167},"5":{name:"(anonymous_5)",decl:{start:{line:168,column:46},end:{line:168,column:47}},loc:{start:{line:168,column:56},end:{line:175,column:5}},line:168},"6":{name:"(anonymous_6)",decl:{start:{line:175,column:13},end:{line:175,column:14}},loc:{start:{line:175,column:20},end:{line:177,column:5}},line:175},"7":{name:"(anonymous_7)",decl:{start:{line:182,column:28},end:{line:182,column:29}},loc:{start:{line:182,column:48},end:{line:208,column:1}},line:182},"8":{name:"(anonymous_8)",decl:{start:{line:186,column:59},end:{line:186,column:60}},loc:{start:{line:186,column:69},end:{line:200,column:5}},line:186},"9":{name:"(anonymous_9)",decl:{start:{line:190,column:40},end:{line:190,column:41}},loc:{start:{line:190,column:51},end:{line:194,column:4}},line:190},"10":{name:"(anonymous_10)",decl:{start:{line:200,column:13},end:{line:200,column:14}},loc:{start:{line:200,column:20},end:{line:203,column:5}},line:200},"11":{name:"(anonymous_11)",decl:{start:{line:211,column:23},end:{line:211,column:24}},loc:{start:{line:211,column:36},end:{line:225,column:1}},line:211},"12":{name:"(anonymous_12)",decl:{start:{line:217,column:33},end:{line:217,column:34}},loc:{start:{line:217,column:43},end:{line:222,column:5}},line:217},"13":{name:"(anonymous_13)",decl:{start:{line:222,column:13},end:{line:222,column:14}},loc:{start:{line:222,column:20},end:{line:224,column:5}},line:222},"14":{name:"(anonymous_14)",decl:{start:{line:265,column:29},end:{line:265,column:30}},loc:{start:{line:265,column:49},end:{line:310,column:1}},line:265},"15":{name:"(anonymous_15)",decl:{start:{line:271,column:43},end:{line:271,column:44}},loc:{start:{line:271,column:51},end:{line:303,column:6}},line:271},"16":{name:"(anonymous_16)",decl:{start:{line:280,column:35},end:{line:280,column:36}},loc:{start:{line:280,column:44},end:{line:302,column:5}},line:280},"17":{name:"(anonymous_17)",decl:{start:{line:291,column:40},end:{line:291,column:41}},loc:{start:{line:291,column:65},end:{line:301,column:9}},line:291},"18":{name:"(anonymous_18)",decl:{start:{line:337,column:28},end:{line:337,column:29}},loc:{start:{line:337,column:45},end:{line:358,column:5}},line:337},"19":{name:"(anonymous_19)",decl:{start:{line:347,column:45},end:{line:347,column:46}},loc:{start:{line:347,column:53},end:{line:356,column:5}},line:347},"20":{name:"(anonymous_20)",decl:{start:{line:356,column:13},end:{line:356,column:14}},loc:{start:{line:356,column:19},end:{line:356,column:70}},line:356},"21":{name:"(anonymous_21)",decl:{start:{line:395,column:35},end:{line:395,column:36}},loc:{start:{line:395,column:55},end:{line:426,column:1}},line:395},"22":{name:"(anonymous_22)",decl:{start:{line:400,column:33},end:{line:400,column:34}},loc:{start:{line:400,column:43},end:{line:424,column:1}},line:400},"23":{name:"(anonymous_23)",decl:{start:{line:424,column:9},end:{line:424,column:10}},loc:{start:{line:424,column:14},end:{line:424,column:80}},line:424},"24":{name:"(anonymous_24)",decl:{start:{line:476,column:33},end:{line:476,column:34}},loc:{start:{line:477,column:0},end:{line:532,column:5}},line:477},"25":{name:"(anonymous_25)",decl:{start:{line:482,column:42},end:{line:482,column:43}},loc:{start:{line:483,column:13},end:{line:531,column:9}},line:483},"26":{name:"(anonymous_26)",decl:{start:{line:514,column:52},end:{line:514,column:53}},loc:{start:{line:514,column:77},end:{line:527,column:23}},line:514},"27":{name:"(anonymous_27)",decl:{start:{line:531,column:17},end:{line:531,column:18}},loc:{start:{line:531,column:22},end:{line:531,column:88}},line:531},"28":{name:"(anonymous_28)",decl:{start:{line:582,column:38},end:{line:582,column:39}},loc:{start:{line:582,column:55},end:{line:608,column:2}},line:582},"29":{name:"(anonymous_29)",decl:{start:{line:588,column:38},end:{line:588,column:39}},loc:{start:{line:588,column:46},end:{line:597,column:5}},line:588},"30":{name:"(anonymous_30)",decl:{start:{line:597,column:13},end:{line:597,column:14}},loc:{start:{line:597,column:20},end:{line:600,column:5}},line:597},"31":{name:"(anonymous_31)",decl:{start:{line:614,column:36},end:{line:614,column:37}},loc:{start:{line:614,column:47},end:{line:656,column:1}},line:614},"32":{name:"(anonymous_32)",decl:{start:{line:616,column:33},end:{line:616,column:34}},loc:{start:{line:616,column:41},end:{line:653,column:3}},line:616},"33":{name:"(anonymous_33)",decl:{start:{line:628,column:33},end:{line:628,column:34}},loc:{start:{line:628,column:46},end:{line:649,column:5}},line:628},"34":{name:"(anonymous_34)",decl:{start:{line:633,column:58},end:{line:633,column:59}},loc:{start:{line:633,column:78},end:{line:645,column:9}},line:633},"35":{name:"(anonymous_35)",decl:{start:{line:645,column:10},end:{line:645,column:11}},loc:{start:{line:645,column:15},end:{line:647,column:9}},line:645},"36":{name:"(anonymous_36)",decl:{start:{line:649,column:6},end:{line:649,column:7}},loc:{start:{line:649,column:11},end:{line:652,column:5}},line:649},"37":{name:"(anonymous_37)",decl:{start:{line:653,column:11},end:{line:653,column:12}},loc:{start:{line:653,column:16},end:{line:655,column:3}},line:653},"38":{name:"(anonymous_38)",decl:{start:{line:665,column:37},end:{line:665,column:38}},loc:{start:{line:665,column:49},end:{line:768,column:2}},line:665},"39":{name:"(anonymous_39)",decl:{start:{line:675,column:37},end:{line:675,column:38}},loc:{start:{line:675,column:45},end:{line:755,column:5}},line:675},"40":{name:"(anonymous_40)",decl:{start:{line:697,column:52},end:{line:697,column:53}},loc:{start:{line:697,column:65},end:{line:753,column:4}},line:697},"41":{name:"(anonymous_41)",decl:{start:{line:734,column:14},end:{line:734,column:15}},loc:{start:{line:734,column:34},end:{line:736,column:5}},line:734},"42":{name:"(anonymous_42)",decl:{start:{line:755,column:13},end:{line:755,column:14}},loc:{start:{line:755,column:20},end:{line:759,column:5}},line:755},"43":{name:"(anonymous_43)",decl:{start:{line:775,column:36},end:{line:775,column:37}},loc:{start:{line:775,column:53},end:{line:811,column:1}},line:775},"44":{name:"(anonymous_44)",decl:{start:{line:783,column:33},end:{line:783,column:34}},loc:{start:{line:783,column:43},end:{line:810,column:5}},line:783},"45":{name:"(anonymous_45)",decl:{start:{line:790,column:47},end:{line:790,column:48}},loc:{start:{line:790,column:68},end:{line:809,column:10}},line:790}},branchMap:{"0":{loc:{start:{line:84,column:8},end:{line:87,column:9}},type:"if",locations:[{start:{line:84,column:8},end:{line:87,column:9}},{start:{line:84,column:8},end:{line:87,column:9}}],line:84},"1":{loc:{start:{line:84,column:11},end:{line:84,column:92}},type:"binary-expr",locations:[{start:{line:84,column:11},end:{line:84,column:26}},{start:{line:84,column:28},end:{line:84,column:59}},{start:{line:84,column:61},end:{line:84,column:92}}],line:84},"2":{loc:{start:{line:120,column:3},end:{line:126,column:5}},type:"if",locations:[{start:{line:120,column:3},end:{line:126,column:5}},{start:{line:120,column:3},end:{line:126,column:5}}],line:120},"3":{loc:{start:{line:169,column:8},end:{line:172,column:9}},type:"if",locations:[{start:{line:169,column:8},end:{line:172,column:9}},{start:{line:169,column:8},end:{line:172,column:9}}],line:169},"4":{loc:{start:{line:188,column:2},end:{line:199,column:3}},type:"if",locations:[{start:{line:188,column:2},end:{line:199,column:3}},{start:{line:188,column:2},end:{line:199,column:3}}],line:188},"5":{loc:{start:{line:213,column:4},end:{line:216,column:5}},type:"if",locations:[{start:{line:213,column:4},end:{line:216,column:5}},{start:{line:213,column:4},end:{line:216,column:5}}],line:213},"6":{loc:{start:{line:218,column:8},end:{line:220,column:9}},type:"if",locations:[{start:{line:218,column:8},end:{line:220,column:9}},{start:{line:218,column:8},end:{line:220,column:9}}],line:218},"7":{loc:{start:{line:273,column:11},end:{line:276,column:72}},type:"if",locations:[{start:{line:273,column:11},end:{line:276,column:72}},{start:{line:273,column:11},end:{line:276,column:72}}],line:273},"8":{loc:{start:{line:292,column:5},end:{line:299,column:10}},type:"if",locations:[{start:{line:292,column:5},end:{line:299,column:10}},{start:{line:292,column:5},end:{line:299,column:10}}],line:292},"9":{loc:{start:{line:401,column:4},end:{line:403,column:5}},type:"if",locations:[{start:{line:401,column:4},end:{line:403,column:5}},{start:{line:401,column:4},end:{line:403,column:5}}],line:401},"10":{loc:{start:{line:406,column:2},end:{line:422,column:1}},type:"if",locations:[{start:{line:406,column:2},end:{line:422,column:1}},{start:{line:406,column:2},end:{line:422,column:1}}],line:406},"11":{loc:{start:{line:410,column:7},end:{line:422,column:1}},type:"if",locations:[{start:{line:410,column:7},end:{line:422,column:1}},{start:{line:410,column:7},end:{line:422,column:1}}],line:410},"12":{loc:{start:{line:484,column:16},end:{line:486,column:17}},type:"if",locations:[{start:{line:484,column:16},end:{line:486,column:17}},{start:{line:484,column:16},end:{line:486,column:17}}],line:484},"13":{loc:{start:{line:489,column:14},end:{line:528,column:13}},type:"if",locations:[{start:{line:489,column:14},end:{line:528,column:13}},{start:{line:489,column:14},end:{line:528,column:13}}],line:489},"14":{loc:{start:{line:493,column:19},end:{line:528,column:13}},type:"if",locations:[{start:{line:493,column:19},end:{line:528,column:13}},{start:{line:493,column:19},end:{line:528,column:13}}],line:493},"15":{loc:{start:{line:515,column:17},end:{line:525,column:17}},type:"if",locations:[{start:{line:515,column:17},end:{line:525,column:17}},{start:{line:515,column:17},end:{line:525,column:17}}],line:515},"16":{loc:{start:{line:587,column:4},end:{line:601,column:1}},type:"if",locations:[{start:{line:587,column:4},end:{line:601,column:1}},{start:{line:587,column:4},end:{line:601,column:1}}],line:587},"17":{loc:{start:{line:589,column:8},end:{line:592,column:9}},type:"if",locations:[{start:{line:589,column:8},end:{line:592,column:9}},{start:{line:589,column:8},end:{line:592,column:9}}],line:589},"18":{loc:{start:{line:617,column:8},end:{line:619,column:9}},type:"if",locations:[{start:{line:617,column:8},end:{line:619,column:9}},{start:{line:617,column:8},end:{line:619,column:9}}],line:617},"19":{loc:{start:{line:622,column:4},end:{line:624,column:5}},type:"if",locations:[{start:{line:622,column:4},end:{line:624,column:5}},{start:{line:622,column:4},end:{line:624,column:5}}],line:622},"20":{loc:{start:{line:625,column:4},end:{line:627,column:5}},type:"if",locations:[{start:{line:625,column:4},end:{line:627,column:5}},{start:{line:625,column:4},end:{line:627,column:5}}],line:625},"21":{loc:{start:{line:629,column:8},end:{line:631,column:9}},type:"if",locations:[{start:{line:629,column:8},end:{line:631,column:9}},{start:{line:629,column:8},end:{line:631,column:9}}],line:629},"22":{loc:{start:{line:636,column:12},end:{line:642,column:13}},type:"if",locations:[{start:{line:636,column:12},end:{line:642,column:13}},{start:{line:636,column:12},end:{line:642,column:13}}],line:636},"23":{loc:{start:{line:667,column:2},end:{line:766,column:1}},type:"if",locations:[{start:{line:667,column:2},end:{line:766,column:1}},{start:{line:667,column:2},end:{line:766,column:1}}],line:667},"24":{loc:{start:{line:676,column:8},end:{line:679,column:9}},type:"if",locations:[{start:{line:676,column:8},end:{line:679,column:9}},{start:{line:676,column:8},end:{line:679,column:9}}],line:676},"25":{loc:{start:{line:680,column:2},end:{line:694,column:7}},type:"if",locations:[{start:{line:680,column:2},end:{line:694,column:7}},{start:{line:680,column:2},end:{line:694,column:7}}],line:680},"26":{loc:{start:{line:684,column:4},end:{line:692,column:5}},type:"if",locations:[{start:{line:684,column:4},end:{line:692,column:5}},{start:{line:684,column:4},end:{line:692,column:5}}],line:684},"27":{loc:{start:{line:695,column:3},end:{line:754,column:4}},type:"if",locations:[{start:{line:695,column:3},end:{line:754,column:4}},{start:{line:695,column:3},end:{line:754,column:4}}],line:695},"28":{loc:{start:{line:698,column:3},end:{line:751,column:2}},type:"if",locations:[{start:{line:698,column:3},end:{line:751,column:2}},{start:{line:698,column:3},end:{line:751,column:2}}],line:698},"29":{loc:{start:{line:698,column:6},end:{line:698,column:44}},type:"binary-expr",locations:[{start:{line:698,column:6},end:{line:698,column:15}},{start:{line:698,column:18},end:{line:698,column:44}}],line:698},"30":{loc:{start:{line:709,column:3},end:{line:714,column:4}},type:"if",locations:[{start:{line:709,column:3},end:{line:714,column:4}},{start:{line:709,column:3},end:{line:714,column:4}}],line:709},"31":{loc:{start:{line:715,column:3},end:{line:726,column:4}},type:"if",locations:[{start:{line:715,column:3},end:{line:726,column:4}},{start:{line:715,column:3},end:{line:726,column:4}}],line:715},"32":{loc:{start:{line:718,column:4},end:{line:722,column:5}},type:"if",locations:[{start:{line:718,column:4},end:{line:722,column:5}},{start:{line:718,column:4},end:{line:722,column:5}}],line:718},"33":{loc:{start:{line:718,column:7},end:{line:718,column:71}},type:"binary-expr",locations:[{start:{line:718,column:7},end:{line:718,column:38}},{start:{line:718,column:40},end:{line:718,column:71}}],line:718},"34":{loc:{start:{line:727,column:3},end:{line:732,column:4}},type:"if",locations:[{start:{line:727,column:3},end:{line:732,column:4}},{start:{line:727,column:3},end:{line:732,column:4}}],line:727},"35":{loc:{start:{line:735,column:8},end:{line:735,column:53}},type:"if",locations:[{start:{line:735,column:8},end:{line:735,column:53}},{start:{line:735,column:8},end:{line:735,column:53}}],line:735},"36":{loc:{start:{line:779,column:4},end:{line:782,column:5}},type:"if",locations:[{start:{line:779,column:4},end:{line:782,column:5}},{start:{line:779,column:4},end:{line:782,column:5}}],line:779},"37":{loc:{start:{line:784,column:8},end:{line:787,column:9}},type:"if",locations:[{start:{line:784,column:8},end:{line:787,column:9}},{start:{line:784,column:8},end:{line:787,column:9}}],line:784},"38":{loc:{start:{line:791,column:8},end:{line:809,column:9}},type:"if",locations:[{start:{line:791,column:8},end:{line:809,column:9}},{start:{line:791,column:8},end:{line:809,column:9}}],line:791}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"189":0,"190":0,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0,"197":0,"198":0,"199":0,"200":0,"201":0,"202":0,"203":0,"204":0,"205":0,"206":0,"207":0,"208":0,"209":0,"210":0,"211":0,"212":0,"213":0,"214":0,"215":0,"216":0,"217":0,"218":0,"219":0,"220":0,"221":0,"222":0,"223":0,"224":0,"225":0,"226":0,"227":0,"228":0,"229":0,"230":0,"231":0,"232":0,"233":0,"234":0,"235":0,"236":0,"237":0,"238":0,"239":0,"240":0,"241":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0},b:{"0":[0,0],"1":[0,0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"32c2b4da5ed7b909aaf11547cb875e0cb551fb7f"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];cov_tb3dtfwnu=function(){return actualCoverage;};return actualCoverage;}cov_tb3dtfwnu();cov_tb3dtfwnu().s[0]++;require("./../Config/Config.js");// JavaScript source code
var{mongoose}=(cov_tb3dtfwnu().s[1]++,require("./../db/mongoose.js"));var nodemailer=(cov_tb3dtfwnu().s[2]++,require("nodemailer"));var{User}=(cov_tb3dtfwnu().s[3]++,require("./../models/users.js"));var{artist}=(cov_tb3dtfwnu().s[4]++,require("./../models/artists.js"));//artists model
const{ObjectID}=(cov_tb3dtfwnu().s[5]++,require("mongodb"));//var bodyparser = require('body-parser');
const express=(cov_tb3dtfwnu().s[6]++,require('express'));const router=(cov_tb3dtfwnu().s[7]++,express.Router());//var app = express();
const bcrypt=(cov_tb3dtfwnu().s[8]++,require('bcrypt'));var password=(cov_tb3dtfwnu().s[9]++,"abc");///////////////////////////////////////////////
//app.use(bodyparser.json());
var _=(cov_tb3dtfwnu().s[10]++,require('lodash'));//var rand=Math.floor((Math.random() * 100) + 54); //random confirmation code
const jwt=(cov_tb3dtfwnu().s[11]++,require('jsonwebtoken'));//var userservices = require("./../Services/UserServices.js");
//edit user pp imports
var uploadImagefn=(cov_tb3dtfwnu().s[12]++,require("./../Services/ImageService.js").upLoadPhoto);var upload=(cov_tb3dtfwnu().s[13]++,require("./../Services/ImageService.js").UploadUserPhoto);var AuthenticateUser=(cov_tb3dtfwnu().s[14]++,require("./../Services/ImageService.js").AuthenticateUser);var AssignUserImage=(cov_tb3dtfwnu().s[15]++,require("./../Services/ImageService.js").AssignUserImage);var smtpTransport=(cov_tb3dtfwnu().s[16]++,nodemailer.createTransport({service:"Gmail",auth:{user:"sw.project.verify@gmail.com",pass:"abcd-1234"}}));//Sign up user
/**
 * @api {post} api/users/signup   Create a new user
 * @apiName SignUp Request for Users
 * @apiGroup Users
 *
 * @apiParam {String} userName      Unique name of the user
 * @apiParam {String} email         email of the user
 * @apiParam {String} password      password of the user
 * @apiParam  {Boolean} isPremium   default is false
 * @apiParam  {Boolean} isActive    default is false until the email is confirmed
 * @apiParam  {Date} birthDate      birthdate of the user
 * @apiParam  {Srting} gender       gender of the user-Limited to 'M' or 'F'
 *
 * @apiSuccess  (200) User added Successfully as inActive. Waiting for Email Confirmation
 * @apiSuccessExample {json} Success-Response:
 *     HTTP/1.1 200 OK
 *     {
 *        "User added Successfully as inActive. Waiting for Email Confirmation "
 *     }
 * @apiError (409)  Conflict. the user already exists: duplicate userName or email
 * @apiError (500) Internal Server Error
 * @apiErrorExample {string} Conflict Error-Response:
 *    HTTP/1.1 409
 *       "UserName and/or Email already exists "
 *
 */ //EDIT USER PROFILE PICTURE REQUEST
cov_tb3dtfwnu().s[17]++;router.post('/users/profilepicture',AuthenticateUser,upload,reSizeUserImage,uploadImagefn,AssignUserImage);///////////////////////////////////////////
cov_tb3dtfwnu().s[18]++;router.post('/users/signup',async(req,res)=>{cov_tb3dtfwnu().f[0]++;cov_tb3dtfwnu().s[19]++;try{const salt=(cov_tb3dtfwnu().s[20]++,await bcrypt.genSalt());const hashedPass=(cov_tb3dtfwnu().s[21]++,await bcrypt.hash(req.body.password,salt));// console.log(req.body.userName)
// console.log(req.body.email)
// console.log(req.body.password)
// console.log(req.body.isPremium)
// console.log(req.body.gender)
// console.log(req.body.birthDate)
cov_tb3dtfwnu().s[22]++;if((cov_tb3dtfwnu().b[1][0]++,req.body.gender)&&(cov_tb3dtfwnu().b[1][1]++,req.body.gender.toString()!="M")&&(cov_tb3dtfwnu().b[1][2]++,req.body.gender.toString()!="F")){cov_tb3dtfwnu().b[0][0]++;cov_tb3dtfwnu().s[23]++;return res.status(400).send("gender must be 'M' or 'F'");}else{cov_tb3dtfwnu().b[0][1]++;}var newacc=(cov_tb3dtfwnu().s[24]++,new User({userName:req.body.userName,email:req.body.email,password:hashedPass,isPremium:req.body.isPremium,gender:req.body.gender,birthDate:req.body.birthDate}));// console.log('2et3amal');
cov_tb3dtfwnu().s[25]++;newacc.save().then(doc=>{cov_tb3dtfwnu().f[1]++;// console.log("skod");
var access=(cov_tb3dtfwnu().s[26]++,'auth');var code=(cov_tb3dtfwnu().s[27]++,jwt.sign({_id:newacc._id.toHexString(),access},'secretkeyforuser',{expiresIn:'1d'}));// console.log(code);
var host=(cov_tb3dtfwnu().s[28]++,req.get('host'));var link=(cov_tb3dtfwnu().s[29]++,"http://"+req.get('host')+"/users/confirm/"+code);cov_tb3dtfwnu().s[30]++;console.log(link);var mailOptions=(cov_tb3dtfwnu().s[31]++,{to:req.body.email,subject:"Please confirm your Email account",html:"Hello,<br> Please Click on the link to verify your email.<br><a href="+link+">Click here to verify</a>"});// console.log(mailOptions);
cov_tb3dtfwnu().s[32]++;smtpTransport.sendMail(mailOptions,function(error,response){cov_tb3dtfwnu().f[2]++;cov_tb3dtfwnu().s[33]++;if(error){cov_tb3dtfwnu().b[2][0]++;cov_tb3dtfwnu().s[34]++;console.log(error);cov_tb3dtfwnu().s[35]++;res.end("error");}else{cov_tb3dtfwnu().b[2][1]++;cov_tb3dtfwnu().s[36]++;// console.log("Message sent: " + response.message);
res.end("sent");}});cov_tb3dtfwnu().s[37]++;res.status(200).send("User added Successfully as inActive. Waiting for Email Confirmation ");},err=>{cov_tb3dtfwnu().f[3]++;cov_tb3dtfwnu().s[38]++;console.log(err);cov_tb3dtfwnu().s[39]++;res.status(409).send("UserName and/or Email already exists ");});}catch{cov_tb3dtfwnu().s[40]++;res.status(500).send();}});//CONFIRMATION OF USER SIGNUP
/**
 * @api {get} api/users/confirm/:code      SignUp Confrimation
 * @apiName SignUp Confirmed for user
 * @apiGroup Users
 *
 * @apiParam {String} code    user-specific code to activate his account
 *
 * @apiSuccess  (200) User was activated successfully
 * @apiSuccessExample {json} Success-Response:
 *     HTTP/1.1 200 OK
 *     {
 *       "Email confirmed successfully!"
 *     }
 * @apiError (404)  User not found.
 * @apiError (401) Unauthorized. Recieved a corrupted code.
 *
 */cov_tb3dtfwnu().s[41]++;router.get('/users/confirm/:code',(req,res)=>{cov_tb3dtfwnu().f[4]++;cov_tb3dtfwnu().s[42]++;User.ActivateByToken(req.params.code).then(user=>{cov_tb3dtfwnu().f[5]++;cov_tb3dtfwnu().s[43]++;if(!user){cov_tb3dtfwnu().b[3][0]++;cov_tb3dtfwnu().s[44]++;res.status(404).send("user not found");cov_tb3dtfwnu().s[45]++;return Promise.reject();}else{cov_tb3dtfwnu().b[3][1]++;}cov_tb3dtfwnu().s[46]++;res.status(200).send("Email confirmed successfully!");}).catch(e=>{cov_tb3dtfwnu().f[6]++;cov_tb3dtfwnu().s[47]++;res.status(401).send("corrupted code");});});cov_tb3dtfwnu().s[48]++;router.post('/users/login',async(req,res)=>{cov_tb3dtfwnu().f[7]++;cov_tb3dtfwnu().s[49]++;console.log(1);var body=(cov_tb3dtfwnu().s[50]++,_.pick(req.body,['email','password']));cov_tb3dtfwnu().s[51]++;console.log(2);cov_tb3dtfwnu().s[52]++;User.findByCredentials(body.email,body.password).then(user=>{cov_tb3dtfwnu().f[8]++;cov_tb3dtfwnu().s[53]++;console.log(3);cov_tb3dtfwnu().s[54]++;if(user.isActive==true){cov_tb3dtfwnu().b[4][0]++;cov_tb3dtfwnu().s[55]++;return user.generateAuthToken().then(token=>{cov_tb3dtfwnu().f[9]++;cov_tb3dtfwnu().s[56]++;console.log(4);cov_tb3dtfwnu().s[57]++;res.header('x-auth',token).send();cov_tb3dtfwnu().s[58]++;console.log(5);});}else{cov_tb3dtfwnu().b[4][1]++;cov_tb3dtfwnu().s[59]++;res.status(403).send("Please go to your inbox and click the link to activate your Email.");}}).catch(e=>{cov_tb3dtfwnu().f[10]++;cov_tb3dtfwnu().s[60]++;console.log(e);cov_tb3dtfwnu().s[61]++;res.status(401).send("Either email or passwrod is incorrect");});//res.send(body)
});// Get User Profile Request
cov_tb3dtfwnu().s[62]++;router.get('/users/me',(req,res)=>{cov_tb3dtfwnu().f[11]++;var token=(cov_tb3dtfwnu().s[63]++,req.header('x-auth'));cov_tb3dtfwnu().s[64]++;if(!token){cov_tb3dtfwnu().b[5][0]++;cov_tb3dtfwnu().s[65]++;res.status(400).send('You should Pass a token to access the profile');}else{cov_tb3dtfwnu().b[5][1]++;}cov_tb3dtfwnu().s[66]++;User.findByToken(token).then(user=>{cov_tb3dtfwnu().f[12]++;cov_tb3dtfwnu().s[67]++;if(!user){cov_tb3dtfwnu().b[6][0]++;cov_tb3dtfwnu().s[68]++;res.status(401).send();}else{cov_tb3dtfwnu().b[6][1]++;}cov_tb3dtfwnu().s[69]++;res.status(302).send(user);}).catch(e=>{cov_tb3dtfwnu().f[13]++;cov_tb3dtfwnu().s[70]++;res.status(401).send();});});/**
 * forgot password
 * ----------------------
 * @api {post} /users/forgot      Request to send email after forgetting password
 * @apiName ForgotPasswordRequest
 * @apiGroup User privacy
 *
 * @apiParam {string} email       in json form
 * @apiParamExample {json} Request-Example:
 *     {
 *       "email": "abc@abc.com"
 *     }
 *
 * @apiSuccessExample {json} Success-Response:
 *     HTTP/1.1 200 OK
 *     {
 *       "message" :"Email Sent Successfully"
 *     }
 *
 * @apiError  500              [Email Cannot BeSent  A problem while sending email]
  * @apiErrorExample {json} Error-Response:
 *     HTTP/1.1 500 serverError
 *     {
 *       "message":"Sending Failed"
 *     }
* @apiError  404       [email of the user not found ]

 * @apiErrorExample {json} Error-Response:
 *     HTTP/1.1 404 not found
 *     {
 *        "message":"Email not found"
 *     }
 */cov_tb3dtfwnu().s[71]++;router.post('/users/forgot',async(req,res)=>{cov_tb3dtfwnu().f[14]++;var reqEmail=(cov_tb3dtfwnu().s[72]++,req.body.email);//console.log(reqEmail)
cov_tb3dtfwnu().s[73]++;try{cov_tb3dtfwnu().s[74]++;await User.findByEmail(reqEmail).then(user=>{cov_tb3dtfwnu().f[15]++;cov_tb3dtfwnu().s[75]++;if(!user){cov_tb3dtfwnu().b[7][0]++;cov_tb3dtfwnu().s[76]++;return res.status(404).json({"message":"Email not found"});}else{cov_tb3dtfwnu().b[7][1]++;}// console.log('henaaaa')
var rand=(cov_tb3dtfwnu().s[77]++,Math.floor(Math.random()*100+54));cov_tb3dtfwnu().s[78]++;user.generateResetToken().then(token=>{cov_tb3dtfwnu().f[16]++;//console.log(token);
var host=(cov_tb3dtfwnu().s[79]++,req.get('host'));var link=(cov_tb3dtfwnu().s[80]++,"http://"+req.get('host')+"/users/reset/?token= "+token);var mailOptions=(cov_tb3dtfwnu().s[81]++,{to:reqEmail,subject:"Reset the password ",html:"Hello,<br> Please Click on the link to reset your password.<br><a href="+link+">Click here to verify</a>"});//console.log(mailOptions);
cov_tb3dtfwnu().s[82]++;smtpTransport.sendMail(mailOptions,function(error,response){cov_tb3dtfwnu().f[17]++;cov_tb3dtfwnu().s[83]++;if(error){cov_tb3dtfwnu().b[8][0]++;cov_tb3dtfwnu().s[84]++;console.log(error);cov_tb3dtfwnu().s[85]++;res.status(500).json({"message":"sending failed"});}else{cov_tb3dtfwnu().b[8][1]++;cov_tb3dtfwnu().s[86]++;console.log("Message sent: "+response.message);//res.send(token);
cov_tb3dtfwnu().s[87]++;res.json({"message":"Email Sent Successfully"});}});});});}catch{cov_tb3dtfwnu().s[88]++;res.status(500).json({"message":"Sending Failed"});}});/**
 * Reset password
 * ----------------------
 * @api {patch} /users/reset      Request to reset password
 * @apiName ResetRequest
 * @apiGroup User privacy
 *
 * @apiParam {string} token          shoulb be passed in query
 * @apiParam {string}  newPassword    should be passed in body in json form
 *
 *
 * @apiSuccessExample {json} Success-Response:
 *     HTTP/1.1 200 OK
 *     {
 *      "message": "Password has been reset successfully""
 *     }
 *
 *
 * @apiErrorExample {json} Error-Response:
 *     HTTP/1.1 401 unauthorized
 *     {
 *       "message": "Reset Failed""
 *     }
 */cov_tb3dtfwnu().s[89]++;router.patch('/users/reset',async(req,res)=>{cov_tb3dtfwnu().f[18]++;var newPassword=(cov_tb3dtfwnu().s[90]++,req.body.newPassword);// console.log(newPassword)
//console.log("helloooooo");
var token=(cov_tb3dtfwnu().s[91]++,req.query.token);const salt=(cov_tb3dtfwnu().s[92]++,await bcrypt.genSalt());const hashedPass=(cov_tb3dtfwnu().s[93]++,await bcrypt.hash(newPassword,salt));//console.log(hashedPass);
cov_tb3dtfwnu().s[94]++;await User.checkTokenAndFind(token).then(user=>{cov_tb3dtfwnu().f[19]++;cov_tb3dtfwnu().s[95]++;user.password=hashedPass;cov_tb3dtfwnu().s[96]++;user.resetToken=undefined;cov_tb3dtfwnu().s[97]++;user.save();cov_tb3dtfwnu().s[98]++;res.json({"message":"Password has been reset successfully"});// console.log(user);
}).catch(e=>{cov_tb3dtfwnu().f[20]++;cov_tb3dtfwnu().s[99]++;res.status(401).json({"message":'Reset Failed'});});});//REGULAR ACCOUNT
/**
 * @api {patch} api/users/:id/regular    User wants to unsubscribe from premium features
 * @apiName WithdrawPremiumServies
 * @apiGroup Users
 * @apiHeader {string} x-auth          Only users
 * @apiParam {String} id          the id of the user has to be passed
 *
 * @apiSuccessExample {json} Success-Response:
 *     HTTP/1.1 200 OK
 *     {
 *       "message": "Your account has been changed to regular account"
 *     }

 *
 * @apiError (404)  You are  not premium in the firstplace
 *
 * @apiErrorExample {json} Error-Response:
 *    HTTP/1.1 404
 *     {
 *       "message":"you are not premium , you already have a regular account "
 *     }
 *
 * @apiError (401)  authentication failed
 * @apiErrorExample {json} Error-Response:
 *    HTTP/1.1 401
 *     {
 *       "message":"authentication Failed" "
 *     }
 *
 */cov_tb3dtfwnu().s[100]++;router.patch('/users/:id/regular',async(req,res)=>{cov_tb3dtfwnu().f[21]++;var userId;var id=(cov_tb3dtfwnu().s[101]++,req.params.id);//console.log(id);
var token=(cov_tb3dtfwnu().s[102]++,req.header('x-auth'));cov_tb3dtfwnu().s[103]++;User.findByToken(token).then(user=>{cov_tb3dtfwnu().f[22]++;cov_tb3dtfwnu().s[104]++;if(!user){cov_tb3dtfwnu().b[9][0]++;cov_tb3dtfwnu().s[105]++;return Promise.reject();}else{cov_tb3dtfwnu().b[9][1]++;}cov_tb3dtfwnu().s[106]++;userId=user._id;//console.log(userId);
cov_tb3dtfwnu().s[107]++;if(!(userId.toString()===id)){cov_tb3dtfwnu().b[10][0]++;cov_tb3dtfwnu().s[108]++;return res.status(401).json({"message":"authentication Failed"});}else{cov_tb3dtfwnu().b[10][1]++;cov_tb3dtfwnu().s[109]++;if(user.isPremium===false){cov_tb3dtfwnu().b[11][0]++;cov_tb3dtfwnu().s[110]++;return res.status(404).json({"message":"you are not premium , you already have a regular account"});}else{cov_tb3dtfwnu().b[11][1]++;cov_tb3dtfwnu().s[111]++;user.isPremium=false;cov_tb3dtfwnu().s[112]++;user.save();cov_tb3dtfwnu().s[113]++;res.status(200).json({"message":"Your account has been changed to regular account"});//console.log('inside the request')
//console.log(user.isPremium);
}}}).catch(e=>{cov_tb3dtfwnu().f[23]++;cov_tb3dtfwnu().s[114]++;return res.status(401).json({"message":"authentication Failed"});});});//REQUEST FOR A PREMIUM ACCOUNT
/**
 * @api {get} /users/:id/premium    Send a confirmation mail to be a premium user
 * @apiName Join Premium Request
 * @apiGroup Users
 * @apiHeader {string} x-auth            token Only users can request to premium
 *
 * @apiParam {String} id             the id of the user should be passed in the path
 *
 *
 * @apiSuccessExample {json} Success-Response:
 *     HTTP/1.1 200 OK
 *     {
 *
 *       "message": "confirmation request has been sent, You will be a premium user soon"
 *     }
 * @apiSuccessExample {json} Success-Response:
 *     HTTP/1.1 200 OK
 *     {
 *
 *       "message": "You are already a premium user.Thanks for that"
 *     }
 *
 *
 * @apiError (401)  authentication failed
 * @apiErrorExample {json} Error-Response:
 *    HTTP/1.1 401
 *     {
 *       "message":"authentication Failed" "
 *     }
 *
 * @apiError 500       EmailCannotBeSent  A problem while sending email
 *
 * @apiErrorExample {json} Error-Response:
 *     HTTP/1.1 500 server Error
 *     {
 *       "message":"error,failed to send"
 *     }
 *
 *
*/cov_tb3dtfwnu().s[115]++;router.get('/users/:id/premium',async(req,res)=>{cov_tb3dtfwnu().f[24]++;var id=(cov_tb3dtfwnu().s[116]++,req.params.id);var userId;var token=(cov_tb3dtfwnu().s[117]++,req.header('x-auth'));cov_tb3dtfwnu().s[118]++;User.findByToken(token).then(user=>{cov_tb3dtfwnu().f[25]++;cov_tb3dtfwnu().s[119]++;if(!user){cov_tb3dtfwnu().b[12][0]++;cov_tb3dtfwnu().s[120]++;return Promise.reject();}else{cov_tb3dtfwnu().b[12][1]++;}cov_tb3dtfwnu().s[121]++;userId=user._id;//console.log(userId);
cov_tb3dtfwnu().s[122]++;if(!(userId.toString()===id)){cov_tb3dtfwnu().b[13][0]++;cov_tb3dtfwnu().s[123]++;return res.status(401).json({"message":"authentication Failed"});}else{cov_tb3dtfwnu().b[13][1]++;cov_tb3dtfwnu().s[124]++;if(user.isPremium===true){cov_tb3dtfwnu().b[14][0]++;cov_tb3dtfwnu().s[125]++;return res.status(200).json({"message":"you are already a premium user, thanks for that"});}else{cov_tb3dtfwnu().b[14][1]++;var email=(cov_tb3dtfwnu().s[126]++,user.email);var type=(cov_tb3dtfwnu().s[127]++,'premium');var code=(cov_tb3dtfwnu().s[128]++,jwt.sign({_id:user._id,type},'secretkeyforuser',{expiresIn:'1d'}));cov_tb3dtfwnu().s[129]++;console.log(code);var host=(cov_tb3dtfwnu().s[130]++,req.get('host'));var link=(cov_tb3dtfwnu().s[131]++,"http://"+req.get('host')+"/users/confirmPremium/?token= "+code);//console.log(link);
var mailOptions=(cov_tb3dtfwnu().s[132]++,{to:email,subject:"Please confirm your Premium account",html:"Hello,<br> Please Click on the link to confirm your premium account.<br><a href="+link+">Click here to verify</a>"});//console.log(mailOptions);
cov_tb3dtfwnu().s[133]++;smtpTransport.sendMail(mailOptions,function(error,response){cov_tb3dtfwnu().f[26]++;cov_tb3dtfwnu().s[134]++;if(error){cov_tb3dtfwnu().b[15][0]++;cov_tb3dtfwnu().s[135]++;console.log(error);cov_tb3dtfwnu().s[136]++;res.status(500).json({"message":"error,failed to send"});}else{cov_tb3dtfwnu().b[15][1]++;cov_tb3dtfwnu().s[137]++;console.log("Message sent: "+response.message);cov_tb3dtfwnu().s[138]++;res.status(200).json({"message":"confirmation request has been sent, You will be a premium user soon"});}});}}}).catch(e=>{cov_tb3dtfwnu().f[27]++;cov_tb3dtfwnu().s[139]++;return res.status(401).json({"message":"authentication Failed"});});});//CONFIRMATION OF A PREMIUM ACCOUNT
/**
 * @api {patch} /users/confirmPremium     User is confirmed to be a premium user
 * @apiName Acceptance of Premium Request
 * @apiGroup Users
 * @apiParam {String} token               the token that was sent in the link snet to the user's email
 *
 * @apiSuccessExample {json} Success-Response:
 *     HTTP/1.1 200 OK
 *     {
*           "message" : "Email confirmed successfully,Welcome To Premium Life!"
 *
 *
 *
 *     }
 *
 * @apiError 401  authentication failed
 * @apiErrorExample {json} Error-Response:
 *    HTTP/1.1 401
 *     {
 *       "message":"authentication Failed" "
 *     }
 *

 *
 *
 *
 *
 *
 */cov_tb3dtfwnu().s[140]++;router.patch('/users/confirmPremium/',async(req,res)=>{cov_tb3dtfwnu().f[28]++;var token=(cov_tb3dtfwnu().s[141]++,req.query.token);cov_tb3dtfwnu().s[142]++;try{cov_tb3dtfwnu().s[143]++;decoded=jwt.verify(token,'secretkeyforuser');cov_tb3dtfwnu().s[144]++;if(decoded.type==='premium'){cov_tb3dtfwnu().b[16][0]++;cov_tb3dtfwnu().s[145]++;User.findById(decoded._id).then(user=>{cov_tb3dtfwnu().f[29]++;cov_tb3dtfwnu().s[146]++;if(!user){cov_tb3dtfwnu().b[17][0]++;cov_tb3dtfwnu().s[147]++;return res.status(404).json({"message":"not found"});// return Promise.reject();
}else{cov_tb3dtfwnu().b[17][1]++;}cov_tb3dtfwnu().s[148]++;user.isPremium=true;cov_tb3dtfwnu().s[149]++;user.save();cov_tb3dtfwnu().s[150]++;res.status(200).json({"message":"Email confirmed successfully,Welcome To Premium Life!"});}).catch(e=>{cov_tb3dtfwnu().f[30]++;cov_tb3dtfwnu().s[151]++;return res.status(401).json({"message":"authentication failed"});});}else{cov_tb3dtfwnu().b[16][1]++;}}catch{cov_tb3dtfwnu().s[152]++;res.status(401).json({"message":"authentication failed or invalid token"});}});//GET ARTIST RELATED ARTISTS
cov_tb3dtfwnu().s[153]++;router.get('/users/artists/related',(req,res)=>{cov_tb3dtfwnu().f[31]++;var token=(cov_tb3dtfwnu().s[154]++,req.header('x-auth'));cov_tb3dtfwnu().s[155]++;User.findByToken(token).then(user=>{cov_tb3dtfwnu().f[32]++;cov_tb3dtfwnu().s[156]++;if(!user){cov_tb3dtfwnu().b[18][0]++;cov_tb3dtfwnu().s[157]++;return Promise.reject();}else{cov_tb3dtfwnu().b[18][1]++;}var sentId=(cov_tb3dtfwnu().s[158]++,req.body.artistId);cov_tb3dtfwnu().s[159]++;if(!sentId){cov_tb3dtfwnu().b[19][0]++;cov_tb3dtfwnu().s[160]++;return res.status(400).send("Send the artist ID");}else{cov_tb3dtfwnu().b[19][1]++;}cov_tb3dtfwnu().s[161]++;if(!ObjectID.isValid(sentId)){cov_tb3dtfwnu().b[20][0]++;cov_tb3dtfwnu().s[162]++;return res.status(404).send("Invalid Id");}else{cov_tb3dtfwnu().b[20][1]++;}cov_tb3dtfwnu().s[163]++;artist.findById(sentId).then(myartists=>{cov_tb3dtfwnu().f[33]++;cov_tb3dtfwnu().s[164]++;if(!myartists){cov_tb3dtfwnu().b[21][0]++;cov_tb3dtfwnu().s[165]++;return res.status(404).send('Id not found');}else{cov_tb3dtfwnu().b[21][1]++;}cov_tb3dtfwnu().s[166]++;artist.find({genres:{$in:myartists.genres}}).then(suggestedArtists=>{cov_tb3dtfwnu().f[34]++;cov_tb3dtfwnu().s[167]++;for(var count=(cov_tb3dtfwnu().s[168]++,0);count<suggestedArtists.length;count++){cov_tb3dtfwnu().s[169]++;if(suggestedArtists[count]._id==sentId){cov_tb3dtfwnu().b[22][0]++;var switchvar=(cov_tb3dtfwnu().s[170]++,suggestedArtists[count]);cov_tb3dtfwnu().s[171]++;suggestedArtists[count]=suggestedArtists[suggestedArtists.length-1];cov_tb3dtfwnu().s[172]++;suggestedArtists[suggestedArtists.length-1]=switchvar;cov_tb3dtfwnu().s[173]++;suggestedArtists.pop();cov_tb3dtfwnu().s[174]++;break;}else{cov_tb3dtfwnu().b[22][1]++;}}cov_tb3dtfwnu().s[175]++;res.status(302).send(suggestedArtists);},e=>{cov_tb3dtfwnu().f[35]++;cov_tb3dtfwnu().s[176]++;res.status(500).send("Internal Server error");});},e=>{cov_tb3dtfwnu().f[36]++;cov_tb3dtfwnu().s[177]++;res.status(500).send("Internal server error");});}).catch(e=>{cov_tb3dtfwnu().f[37]++;cov_tb3dtfwnu().s[178]++;res.status(401).send('Unauthorized Access');});});cov_tb3dtfwnu().s[179]++;router.patch('/users/me/editprofile',(req,res)=>{cov_tb3dtfwnu().f[38]++;var token=(cov_tb3dtfwnu().s[180]++,req.header('x-auth'));cov_tb3dtfwnu().s[181]++;if(!token){cov_tb3dtfwnu().b[23][0]++;cov_tb3dtfwnu().s[182]++;return res.status(401).send('You should Pass a token to access the profile');}else{cov_tb3dtfwnu().b[23][1]++;cov_tb3dtfwnu().s[183]++;try{cov_tb3dtfwnu().s[184]++;decoded=jwt.verify(token,'secretkeyforuser');cov_tb3dtfwnu().s[185]++;User.findById(decoded._id).then(user=>{cov_tb3dtfwnu().f[39]++;cov_tb3dtfwnu().s[186]++;if(!user){cov_tb3dtfwnu().b[24][0]++;cov_tb3dtfwnu().s[187]++;return res.status(404).json({"message":"not found"});}else{cov_tb3dtfwnu().b[24][1]++;}cov_tb3dtfwnu().s[188]++;if(req.body.birthDate){cov_tb3dtfwnu().b[25][0]++;var timestamp=(cov_tb3dtfwnu().s[189]++,Date.parse(req.body.birthDate));cov_tb3dtfwnu().s[190]++;if(isNaN(timestamp)==false){cov_tb3dtfwnu().b[26][0]++;var correctDate=(cov_tb3dtfwnu().s[191]++,new Date(timestamp));}else{cov_tb3dtfwnu().b[26][1]++;cov_tb3dtfwnu().s[192]++;return res.status(400).send("invalid date format. use yyyy-mm-dd");}}else{cov_tb3dtfwnu().b[25][1]++;}cov_tb3dtfwnu().s[193]++;if(req.body.userName){cov_tb3dtfwnu().b[27][0]++;cov_tb3dtfwnu().s[194]++;User.findOne({userName:req.body.userName}).then(duplicate=>{cov_tb3dtfwnu().f[40]++;cov_tb3dtfwnu().s[195]++;if((cov_tb3dtfwnu().b[29][0]++,duplicate)&&(cov_tb3dtfwnu().b[29][1]++,duplicate._id!=decoded._id)){cov_tb3dtfwnu().b[28][0]++;cov_tb3dtfwnu().s[196]++;return res.status(403).send("UserName already exists");}else{cov_tb3dtfwnu().b[28][1]++;cov_tb3dtfwnu().s[197]++;try{cov_tb3dtfwnu().s[198]++;if(req.body.userName){cov_tb3dtfwnu().b[30][0]++;cov_tb3dtfwnu().s[199]++;user.userName=req.body.userName;}else{cov_tb3dtfwnu().b[30][1]++;}cov_tb3dtfwnu().s[200]++;if(req.body.gender){cov_tb3dtfwnu().b[31][0]++;cov_tb3dtfwnu().s[201]++;if((cov_tb3dtfwnu().b[33][0]++,req.body.gender.toString()!="M")&&(cov_tb3dtfwnu().b[33][1]++,req.body.gender.toString()!="F")){cov_tb3dtfwnu().b[32][0]++;cov_tb3dtfwnu().s[202]++;return res.status(400).send("gender must be 'M' or 'F'");}else{cov_tb3dtfwnu().b[32][1]++;}cov_tb3dtfwnu().s[203]++;user.gender=req.body.gender;}else{cov_tb3dtfwnu().b[31][1]++;}cov_tb3dtfwnu().s[204]++;if(req.body.birthDate){cov_tb3dtfwnu().b[34][0]++;cov_tb3dtfwnu().s[205]++;user.birthDate=correctDate;}else{cov_tb3dtfwnu().b[34][1]++;}cov_tb3dtfwnu().s[206]++;user.save(function(err,user){cov_tb3dtfwnu().f[41]++;cov_tb3dtfwnu().s[207]++;if(err){cov_tb3dtfwnu().b[35][0]++;cov_tb3dtfwnu().s[208]++;return res.send("invalid userName");}else{cov_tb3dtfwnu().b[35][1]++;}});}catch(e){cov_tb3dtfwnu().s[209]++;return res.status(400).send(e);}cov_tb3dtfwnu().s[210]++;return res.status(200).send("updated");}});}else{cov_tb3dtfwnu().b[27][1]++;}}).catch(e=>{cov_tb3dtfwnu().f[42]++;cov_tb3dtfwnu().s[211]++;return res.status(401).send("authentication failed");});}catch{cov_tb3dtfwnu().s[212]++;return res.status(401).json({"message":"authentication failed or invalid token"});}}});// Change Password
cov_tb3dtfwnu().s[213]++;router.put('/users/changePassword',async(req,res)=>{cov_tb3dtfwnu().f[43]++;var oldPassword=(cov_tb3dtfwnu().s[214]++,req.body.oldPassword);var newPassword=(cov_tb3dtfwnu().s[215]++,req.body.newPassword);var token=(cov_tb3dtfwnu().s[216]++,req.header('x-auth'));cov_tb3dtfwnu().s[217]++;if(!token){cov_tb3dtfwnu().b[36][0]++;cov_tb3dtfwnu().s[218]++;res.status(400).send('You did not pass a token');}else{cov_tb3dtfwnu().b[36][1]++;}cov_tb3dtfwnu().s[219]++;User.findByToken(token).then(user=>{cov_tb3dtfwnu().f[44]++;cov_tb3dtfwnu().s[220]++;if(!user){cov_tb3dtfwnu().b[37][0]++;cov_tb3dtfwnu().s[221]++;res.status(401).send();}else{cov_tb3dtfwnu().b[37][1]++;}cov_tb3dtfwnu().s[222]++;console.log("you are my user");var done=(cov_tb3dtfwnu().s[223]++,0);cov_tb3dtfwnu().s[224]++;bcrypt.compare(oldPassword,user.password,async(err,res2)=>{cov_tb3dtfwnu().f[45]++;cov_tb3dtfwnu().s[225]++;if(res2){cov_tb3dtfwnu().b[38][0]++;cov_tb3dtfwnu().s[226]++;console.log('Your password mached with database hash password');cov_tb3dtfwnu().s[227]++;console.log('lets change password');const salt=(cov_tb3dtfwnu().s[228]++,await bcrypt.genSalt());const hashedPass=(cov_tb3dtfwnu().s[229]++,await bcrypt.hash(newPassword,salt));cov_tb3dtfwnu().s[230]++;console.log(hashedPass);cov_tb3dtfwnu().s[231]++;user.password=hashedPass;cov_tb3dtfwnu().s[232]++;user.save();cov_tb3dtfwnu().s[233]++;console.log('saving user');cov_tb3dtfwnu().s[234]++;done=1;cov_tb3dtfwnu().s[235]++;res.status(200).send("Password has been reset successfully");}else{cov_tb3dtfwnu().b[38][1]++;cov_tb3dtfwnu().s[236]++;console.log(user.password);cov_tb3dtfwnu().s[237]++;console.log(oldPassword);cov_tb3dtfwnu().s[238]++;console.log('Your password not mached.');cov_tb3dtfwnu().s[239]++;done=0;cov_tb3dtfwnu().s[240]++;res.status(403).send("this is not the correct password");}}).catch(err);}).catch(e);});//if(!module.parent){
//  app.listen(3000,()=>{
//      console.log("Started on port 3000");
//  });
//}
cov_tb3dtfwnu().s[241]++;module.exports=router;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlVzZXJDb250cm9sbGVyLmpzIl0sIm5hbWVzIjpbInJlcXVpcmUiLCJtb25nb29zZSIsIm5vZGVtYWlsZXIiLCJVc2VyIiwiYXJ0aXN0IiwiT2JqZWN0SUQiLCJleHByZXNzIiwicm91dGVyIiwiUm91dGVyIiwiYmNyeXB0IiwicGFzc3dvcmQiLCJfIiwiand0IiwidXBsb2FkSW1hZ2VmbiIsInVwTG9hZFBob3RvIiwidXBsb2FkIiwiVXBsb2FkVXNlclBob3RvIiwiQXV0aGVudGljYXRlVXNlciIsIkFzc2lnblVzZXJJbWFnZSIsInNtdHBUcmFuc3BvcnQiLCJjcmVhdGVUcmFuc3BvcnQiLCJzZXJ2aWNlIiwiYXV0aCIsInVzZXIiLCJwYXNzIiwicG9zdCIsInJlU2l6ZVVzZXJJbWFnZSIsInJlcSIsInJlcyIsInNhbHQiLCJnZW5TYWx0IiwiaGFzaGVkUGFzcyIsImhhc2giLCJib2R5IiwiZ2VuZGVyIiwidG9TdHJpbmciLCJzdGF0dXMiLCJzZW5kIiwibmV3YWNjIiwidXNlck5hbWUiLCJlbWFpbCIsImlzUHJlbWl1bSIsImJpcnRoRGF0ZSIsInNhdmUiLCJ0aGVuIiwiZG9jIiwiYWNjZXNzIiwiY29kZSIsInNpZ24iLCJfaWQiLCJ0b0hleFN0cmluZyIsImV4cGlyZXNJbiIsImhvc3QiLCJnZXQiLCJsaW5rIiwiY29uc29sZSIsImxvZyIsIm1haWxPcHRpb25zIiwidG8iLCJzdWJqZWN0IiwiaHRtbCIsInNlbmRNYWlsIiwiZXJyb3IiLCJyZXNwb25zZSIsImVuZCIsImVyciIsIkFjdGl2YXRlQnlUb2tlbiIsInBhcmFtcyIsIlByb21pc2UiLCJyZWplY3QiLCJjYXRjaCIsImUiLCJwaWNrIiwiZmluZEJ5Q3JlZGVudGlhbHMiLCJpc0FjdGl2ZSIsImdlbmVyYXRlQXV0aFRva2VuIiwidG9rZW4iLCJoZWFkZXIiLCJmaW5kQnlUb2tlbiIsInJlcUVtYWlsIiwiZmluZEJ5RW1haWwiLCJqc29uIiwicmFuZCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsImdlbmVyYXRlUmVzZXRUb2tlbiIsIm1lc3NhZ2UiLCJwYXRjaCIsIm5ld1Bhc3N3b3JkIiwicXVlcnkiLCJjaGVja1Rva2VuQW5kRmluZCIsInJlc2V0VG9rZW4iLCJ1bmRlZmluZWQiLCJ1c2VySWQiLCJpZCIsInR5cGUiLCJkZWNvZGVkIiwidmVyaWZ5IiwiZmluZEJ5SWQiLCJzZW50SWQiLCJhcnRpc3RJZCIsImlzVmFsaWQiLCJteWFydGlzdHMiLCJmaW5kIiwiZ2VucmVzIiwiJGluIiwic3VnZ2VzdGVkQXJ0aXN0cyIsImNvdW50IiwibGVuZ3RoIiwic3dpdGNodmFyIiwicG9wIiwidGltZXN0YW1wIiwiRGF0ZSIsInBhcnNlIiwiaXNOYU4iLCJjb3JyZWN0RGF0ZSIsImZpbmRPbmUiLCJkdXBsaWNhdGUiLCJwdXQiLCJvbGRQYXNzd29yZCIsImRvbmUiLCJjb21wYXJlIiwicmVzMiIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJrbC9CQUFBQSxPQUFPLENBQUMsdUJBQUQsQ0FBUCxDQUVBO0FBQ0EsR0FBSSxDQUFFQyxRQUFGLDBCQUFlRCxPQUFPLENBQUMscUJBQUQsQ0FBdEIsQ0FBSixDQUNBLEdBQUlFLENBQUFBLFVBQVUseUJBQUdGLE9BQU8sQ0FBQyxZQUFELENBQVYsQ0FBZCxDQUNBLEdBQUksQ0FBRUcsSUFBRiwwQkFBV0gsT0FBTyxDQUFDLHNCQUFELENBQWxCLENBQUosQ0FDQSxHQUFHLENBQUNJLE1BQUQsMEJBQVVKLE9BQU8sQ0FBQyx3QkFBRCxDQUFqQixDQUFILENBQWlEO0FBRWpELEtBQU0sQ0FBQ0ssUUFBRCwwQkFBV0wsT0FBTyxDQUFDLFNBQUQsQ0FBbEIsQ0FBTixDQUNBO0FBQ0EsS0FBTU0sQ0FBQUEsT0FBTyx5QkFBR04sT0FBTyxDQUFDLFNBQUQsQ0FBVixDQUFiLENBQ0EsS0FBTU8sQ0FBQUEsTUFBTSx5QkFBR0QsT0FBTyxDQUFDRSxNQUFSLEVBQUgsQ0FBWixDQUNBO0FBQ0EsS0FBTUMsQ0FBQUEsTUFBTSx5QkFBR1QsT0FBTyxDQUFDLFFBQUQs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LElBQUksMkJBQUcsS0FBTXBCLENBQUFBLE1BQU0sQ0FBQ3FCLE9BQVAsRUFBVCxDQUFWLENBQ0EsS0FBTUMsQ0FBQUEsVUFBVSwyQkFBRyxLQUFNdEIsQ0FBQUEsTUFBTSxDQUFDdUIsSUFBUCxDQUFZeUQsV0FBWixDQUF5QjVELElBQXpCLENBQVQsQ0FBaEIsQ0FKQyx5QkFLRDBCLE9BQU8sQ0FBQ0MsR0FBUixDQUFZekIsVUFBWixFQUxDLHlCQU1EUixJQUFJLENBQUNiLFFBQUwsQ0FBY3FCLFVBQWQsQ0FOQyx5QkFPRFIsSUFBSSxDQUFDb0IsSUFBTCxHQVBDLHlCQVFEWSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxhQUFaLEVBUkMseUJBU0RpRSxJQUFJLENBQUcsQ0FBUCxDQVRDLHlCQVVEN0YsR0FBRyxDQUFDUSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUIsc0NBQXJCLEVBRVAsQ0FaRCxJQVlPLHFEQUNIa0IsT0FBTyxDQUFDQyxHQUFSLENBQVlqQyxJQUFJLENBQUNiLFFBQWpCLEVBREcseUJBRUg2QyxPQUFPLENBQUNDLEdBQVIsQ0FBWWdFLFdBQVosRUFGRyx5QkFHSGpFLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLDJCQUFaLEVBSEcseUJBSUhpRSxJQUFJLENBQUcsQ0FBUCxDQUpHLHlCQUtIN0YsR0FBRyxDQUFDUSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUIsa0NBQXJCLEVBQ0gsQ0FBQyxDQW5CTixFQW1CUWlDLEtBbkJSLENBbUJjTCxHQW5CZCxFQW9CQyxDQTNCRCxFQTJCR0ssS0EzQkgsQ0EyQlNDLENBM0JULEVBNEJILENBcENBLEVBMENBO0FBQ0c7QUFDQTtBQUNBO0FBQ0g7eUJBRUFxRCxNQUFNLENBQUNDLE9BQVAsQ0FBaUJ0SCxNQUFqQiIsInNvdXJjZXNDb250ZW50IjpbInJlcXVpcmUoXCIuLy4uL0NvbmZpZy9Db25maWcuanNcIik7XHJcblxyXG4vLyBKYXZhU2NyaXB0IHNvdXJjZSBjb2RlXHJcbnZhciB7IG1vbmdvb3NlIH0gPSByZXF1aXJlKFwiLi8uLi9kYi9tb25nb29zZS5qc1wiKTtcclxudmFyIG5vZGVtYWlsZXIgPSByZXF1aXJlKFwibm9kZW1haWxlclwiKTtcclxudmFyIHsgVXNlciB9ID0gcmVxdWlyZShcIi4vLi4vbW9kZWxzL3VzZXJzLmpzXCIpO1xyXG52YXJ7YXJ0aXN0fT0gcmVxdWlyZShcIi4vLi4vbW9kZWxzL2FydGlzdHMuanNcIik7ICAvL2FydGlzdHMgbW9kZWxcclxuXHJcbmNvbnN0IHtPYmplY3RJRH09cmVxdWlyZShcIm1vbmdvZGJcIik7XHJcbi8vdmFyIGJvZHlwYXJzZXIgPSByZXF1aXJlKCdib2R5LXBhcnNlcicpO1xyXG5jb25zdCBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpO1xyXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG4vL3ZhciBhcHAgPSBleHByZXNzKCk7XHJcbmNvbnN0IGJjcnlwdCA9IHJlcXVpcmUoJ2JjcnlwdCcpO1xyXG52YXIgcGFzc3dvcmQgPSBcImFiY1wiO1xyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4vL2FwcC51c2UoYm9keXBhcnNlci5qc29uKCkpO1xyXG52YXIgXyA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xyXG4vL3ZhciByYW5kPU1hdGguZmxvb3IoKE1hdGgucmFuZG9tKCkgKiAxMDApICsgNTQpOyAvL3JhbmRvbSBjb25maXJtYXRpb24gY29kZVxyXG5jb25zdCBqd3QgPSByZXF1aXJlKCdqc29ud2VidG9rZW4nKTtcclxuLy92YXIgdXNlcnNlcnZpY2VzID0gcmVxdWlyZShcIi4vLi4vU2VydmljZXMvVXNlclNlcnZpY2VzLmpzXCIpO1xyXG5cclxuLy9lZGl0IHVzZXIgcHAgaW1wb3J0c1xyXG52YXIgdXBsb2FkSW1hZ2Vmbj1yZXF1aXJlKFwiLi8uLi9TZXJ2aWNlcy9JbWFnZVNlcnZpY2UuanNcIikudXBMb2FkUGhvdG87XHJcbnZhciB1cGxvYWQ9cmVxdWlyZShcIi4vLi4vU2VydmljZXMvSW1hZ2VTZXJ2aWNlLmpzXCIpLlVwbG9hZFVzZXJQaG90bztcclxudmFyIEF1dGhlbnRpY2F0ZVVzZXI9IHJlcXVpcmUoXCIuLy4uL1NlcnZpY2VzL0ltYWdlU2VydmljZS5qc1wiKS5BdXRoZW50aWNhdGVVc2VyO1xyXG52YXIgQXNzaWduVXNlckltYWdlPXJlcXVpcmUoXCIuLy4uL1NlcnZpY2VzL0ltYWdlU2VydmljZS5qc1wiKS5Bc3NpZ25Vc2VySW1hZ2U7XHJcblxyXG5cclxuXHJcbnZhciBzbXRwVHJhbnNwb3J0ID0gbm9kZW1haWxlci5jcmVhdGVUcmFuc3BvcnQoe1xyXG4gICAgc2VydmljZTogXCJHbWFpbFwiLFxyXG4gICAgYXV0aDoge1xyXG4gICAgICAgIHVzZXI6IFwic3cucHJvamVjdC52ZXJpZnlAZ21haWwuY29tXCIsXHJcbiAgICAgICAgcGFzczogXCJhYmNkLTEyMzRcIlxyXG4gICAgfVxyXG59KTtcclxuXHJcbiAvL1NpZ24gdXAgdXNlclxyXG4gLyoqXHJcbiAqIEBhcGkge3Bvc3R9IGFwaS91c2Vycy9zaWdudXAgICBDcmVhdGUgYSBuZXcgdXNlclxyXG4gKiBAYXBpTmFtZSBTaWduVXAgUmVxdWVzdCBmb3IgVXNlcnNcclxuICogQGFwaUdyb3VwIFVzZXJzXHJcbiAqXHJcbiAqIEBhcGlQYXJhbSB7U3RyaW5nfSB1c2VyTmFtZSAgICAgIFVuaXF1ZSBuYW1lIG9mIHRoZSB1c2VyXHJcbiAqIEBhcGlQYXJhbSB7U3RyaW5nfSBlbWFpbCAgICAgICAgIGVtYWlsIG9mIHRoZSB1c2VyXHJcbiAqIEBhcGlQYXJhbSB7U3RyaW5nfSBwYXNzd29yZCAgICAgIHBhc3N3b3JkIG9mIHRoZSB1c2VyXHJcbiAqIEBhcGlQYXJhbSAge0Jvb2xlYW59IGlzUHJlbWl1bSAgIGRlZmF1bHQgaXMgZmFsc2VcclxuICogQGFwaVBhcmFtICB7Qm9vbGVhbn0gaXNBY3RpdmUgICAgZGVmYXVsdCBpcyBmYWxzZSB1bnRpbCB0aGUgZW1haWwgaXMgY29uZmlybWVkXHJcbiAqIEBhcGlQYXJhbSAge0RhdGV9IGJpcnRoRGF0ZSAgICAgIGJpcnRoZGF0ZSBvZiB0aGUgdXNlclxyXG4gKiBAYXBpUGFyYW0gIHtTcnRpbmd9IGdlbmRlciAgICAgICBnZW5kZXIgb2YgdGhlIHVzZXItTGltaXRlZCB0byAnTScgb3IgJ0YnXHJcbiAqXHJcbiAqIEBhcGlTdWNjZXNzICAoMjAwKSBVc2VyIGFkZGVkIFN1Y2Nlc3NmdWxseSBhcyBpbkFjdGl2ZS4gV2FpdGluZyBmb3IgRW1haWwgQ29uZmlybWF0aW9uXHJcbiAqIEBhcGlTdWNjZXNzRXhhbXBsZSB7anNvbn0gU3VjY2Vzcy1SZXNwb25zZTpcclxuICogICAgIEhUVFAvMS4xIDIwMCBPS1xyXG4gKiAgICAge1xyXG4gKiAgICAgICAgXCJVc2VyIGFkZGVkIFN1Y2Nlc3NmdWxseSBhcyBpbkFjdGl2ZS4gV2FpdGluZyBmb3IgRW1haWwgQ29uZmlybWF0aW9uIFwiXHJcbiAqICAgICB9XHJcbiAqIEBhcGlFcnJvciAoNDA5KSAgQ29uZmxpY3QuIHRoZSB1c2VyIGFscmVhZHkgZXhpc3RzOiBkdXBsaWNhdGUgdXNlck5hbWUgb3IgZW1haWxcclxuICogQGFwaUVycm9yICg1MDApIEludGVybmFsIFNlcnZlciBFcnJvclxyXG4gKiBAYXBpRXJyb3JFeGFtcGxlIHtzdHJpbmd9IENvbmZsaWN0IEVycm9yLVJlc3BvbnNlOlxyXG4gKiAgICBIVFRQLzEuMSA0MDlcclxuICogICAgICAgXCJVc2VyTmFtZSBhbmQvb3IgRW1haWwgYWxyZWFkeSBleGlzdHMgXCJcclxuICpcclxuICovXHJcblxyXG5cclxuIFxyXG4vL0VESVQgVVNFUiBQUk9GSUxFIFBJQ1RVUkUgUkVRVUVTVFxyXG5yb3V0ZXIucG9zdCgnL3VzZXJzL3Byb2ZpbGVwaWN0dXJlJyxBdXRoZW50aWNhdGVVc2VyLHVwbG9hZCxyZVNpemVVc2VySW1hZ2UsdXBsb2FkSW1hZ2VmbixBc3NpZ25Vc2VySW1hZ2UpO1xyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbnJvdXRlci5wb3N0KCcvdXNlcnMvc2lnbnVwJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHNhbHQgPSBhd2FpdCBiY3J5cHQuZ2VuU2FsdCgpO1xyXG4gICAgICAgIGNvbnN0IGhhc2hlZFBhc3MgPSBhd2FpdCBiY3J5cHQuaGFzaChyZXEuYm9keS5wYXNzd29yZCwgc2FsdCk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2cocmVxLmJvZHkudXNlck5hbWUpXHJcbiAgICAgICAgLy8gY29uc29sZS5sb2cocmVxLmJvZHkuZW1haWwpXHJcbiAgICAgICAgLy8gY29uc29sZS5sb2cocmVxLmJvZHkucGFzc3dvcmQpXHJcbiAgICAgICAgLy8gY29uc29sZS5sb2cocmVxLmJvZHkuaXNQcmVtaXVtKVxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcS5ib2R5LmdlbmRlcilcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXEuYm9keS5iaXJ0aERhdGUpXHJcblxyXG5cclxuICAgICAgICBpZihyZXEuYm9keS5nZW5kZXImJnJlcS5ib2R5LmdlbmRlci50b1N0cmluZygpIT1cIk1cIiYmcmVxLmJvZHkuZ2VuZGVyLnRvU3RyaW5nKCkhPVwiRlwiKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZChcImdlbmRlciBtdXN0IGJlICdNJyBvciAnRidcIik7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgdmFyIG5ld2FjYyA9IG5ldyBVc2VyKFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB1c2VyTmFtZTogcmVxLmJvZHkudXNlck5hbWUsXHJcbiAgICAgICAgICAgICAgICBlbWFpbDogcmVxLmJvZHkuZW1haWwsXHJcbiAgICAgICAgICAgICAgICBwYXNzd29yZDogaGFzaGVkUGFzcyxcclxuICAgICAgICAgICAgICAgIGlzUHJlbWl1bTogcmVxLmJvZHkuaXNQcmVtaXVtLFxyXG4gICAgICAgICAgICAgICAgZ2VuZGVyOiByZXEuYm9keS5nZW5kZXIsXHJcbiAgICAgICAgICAgICAgICBiaXJ0aERhdGU6IHJlcS5ib2R5LmJpcnRoRGF0ZVxyXG5cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJzJldDNhbWFsJyk7XHJcbiAgICAgICAgbmV3YWNjLnNhdmUoKS50aGVuKChkb2MpID0+IHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJza29kXCIpO1xyXG5cclxuXHJcblxyXG5cdFx0dmFyIGFjY2Vzcz0gJ2F1dGgnO1xyXG5cdFx0dmFyIGNvZGUgPSBqd3Quc2lnbih7IF9pZDogbmV3YWNjLl9pZC50b0hleFN0cmluZygpLCBhY2Nlc3MgfSwgJ3NlY3JldGtleWZvcnVzZXInLHtleHBpcmVzSW46JzFkJ30pO1xyXG5cdFx0Ly8gY29uc29sZS5sb2coY29kZSk7XHJcblxyXG5cdFx0dmFyIGhvc3Q9cmVxLmdldCgnaG9zdCcpO1xyXG5cdFx0dmFyIGxpbms9XCJodHRwOi8vXCIrcmVxLmdldCgnaG9zdCcpK1wiL3VzZXJzL2NvbmZpcm0vXCIrY29kZTtcclxuXHRcdGNvbnNvbGUubG9nKGxpbmspO1xyXG5cdFx0dmFyIG1haWxPcHRpb25zPXtcclxuXHRcdFx0dG8gOiByZXEuYm9keS5lbWFpbCxcclxuXHRcdFx0c3ViamVjdCA6IFwiUGxlYXNlIGNvbmZpcm0geW91ciBFbWFpbCBhY2NvdW50XCIsXHJcblx0XHRcdGh0bWwgOiBcIkhlbGxvLDxicj4gUGxlYXNlIENsaWNrIG9uIHRoZSBsaW5rIHRvIHZlcmlmeSB5b3VyIGVtYWlsLjxicj48YSBocmVmPVwiK2xpbmsrXCI+Q2xpY2sgaGVyZSB0byB2ZXJpZnk8L2E+XCJcclxuXHRcdFx0fVxyXG5cdFx0Ly8gY29uc29sZS5sb2cobWFpbE9wdGlvbnMpO1xyXG5cdFx0c210cFRyYW5zcG9ydC5zZW5kTWFpbChtYWlsT3B0aW9ucywgZnVuY3Rpb24oZXJyb3IsIHJlc3BvbnNlKXtcclxuXHRcdCBpZihlcnJvcil7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coZXJyb3IpO1xyXG5cdFx0XHRyZXMuZW5kKFwiZXJyb3JcIik7XHJcblx0XHQgfWVsc2V7XHJcblx0XHRcdFx0Ly8gY29uc29sZS5sb2coXCJNZXNzYWdlIHNlbnQ6IFwiICsgcmVzcG9uc2UubWVzc2FnZSk7XHJcblx0XHRcdHJlcy5lbmQoXCJzZW50XCIpO1xyXG5cdFx0XHQgfVxyXG5cclxufSk7XHJcblxyXG5cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmQoXCJVc2VyIGFkZGVkIFN1Y2Nlc3NmdWxseSBhcyBpbkFjdGl2ZS4gV2FpdGluZyBmb3IgRW1haWwgQ29uZmlybWF0aW9uIFwiKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgICAgICAoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDkpLnNlbmQoXCJVc2VyTmFtZSBhbmQvb3IgRW1haWwgYWxyZWFkeSBleGlzdHMgXCIpO1xyXG5cclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICB9XHJcblxyXG4gICAgY2F0Y2hcclxuICAgIHtcclxuICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCgpO1xyXG4gICAgfVxyXG59KTtcclxuXHJcblxyXG4vL0NPTkZJUk1BVElPTiBPRiBVU0VSIFNJR05VUFxyXG4vKipcclxuICogQGFwaSB7Z2V0fSBhcGkvdXNlcnMvY29uZmlybS86Y29kZSAgICAgIFNpZ25VcCBDb25mcmltYXRpb25cclxuICogQGFwaU5hbWUgU2lnblVwIENvbmZpcm1lZCBmb3IgdXNlclxyXG4gKiBAYXBpR3JvdXAgVXNlcnNcclxuICpcclxuICogQGFwaVBhcmFtIHtTdHJpbmd9IGNvZGUgICAgdXNlci1zcGVjaWZpYyBjb2RlIHRvIGFjdGl2YXRlIGhpcyBhY2NvdW50XHJcbiAqXHJcbiAqIEBhcGlTdWNjZXNzICAoMjAwKSBVc2VyIHdhcyBhY3RpdmF0ZWQgc3VjY2Vzc2Z1bGx5XHJcbiAqIEBhcGlTdWNjZXNzRXhhbXBsZSB7anNvbn0gU3VjY2Vzcy1SZXNwb25zZTpcclxuICogICAgIEhUVFAvMS4xIDIwMCBPS1xyXG4gKiAgICAge1xyXG4gKiAgICAgICBcIkVtYWlsIGNvbmZpcm1lZCBzdWNjZXNzZnVsbHkhXCJcclxuICogICAgIH1cclxuICogQGFwaUVycm9yICg0MDQpICBVc2VyIG5vdCBmb3VuZC5cclxuICogQGFwaUVycm9yICg0MDEpIFVuYXV0aG9yaXplZC4gUmVjaWV2ZWQgYSBjb3JydXB0ZWQgY29kZS5cclxuICpcclxuICovXHJcblxyXG5yb3V0ZXIuZ2V0KCcvdXNlcnMvY29uZmlybS86Y29kZScsKHJlcSxyZXMpID0+IHtcclxuICAgVXNlci5BY3RpdmF0ZUJ5VG9rZW4ocmVxLnBhcmFtcy5jb2RlKS50aGVuKCh1c2VyKSA9PiB7XHJcbiAgICAgICAgaWYoIXVzZXIpe1xyXG5cdFx0XHRyZXMuc3RhdHVzKDQwNCkuc2VuZChcInVzZXIgbm90IGZvdW5kXCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoKTtcclxuICAgICAgICB9XHJcblxyXG5cdFx0cmVzLnN0YXR1cygyMDApLnNlbmQoXCJFbWFpbCBjb25maXJtZWQgc3VjY2Vzc2Z1bGx5IVwiKTtcclxuICAgIH0pLmNhdGNoKChlKSA9PiB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoXCJjb3JydXB0ZWQgY29kZVwiKTtcclxuICAgIH0pXHJcbn0pXHJcblxyXG5cclxuXHJcbnJvdXRlci5wb3N0KCcvdXNlcnMvbG9naW4nLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKDEpO1xyXG4gICAgdmFyIGJvZHkgPSBfLnBpY2socmVxLmJvZHksIFsnZW1haWwnLCAncGFzc3dvcmQnXSk7XHJcbiAgICBjb25zb2xlLmxvZygyKTtcclxuICAgIFVzZXIuZmluZEJ5Q3JlZGVudGlhbHMoYm9keS5lbWFpbCwgYm9keS5wYXNzd29yZCkudGhlbigodXNlcikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKDMpO1xyXG5cdFx0aWYodXNlci5pc0FjdGl2ZT09dHJ1ZSlcclxuXHRcdHtcclxuXHRcdFx0cmV0dXJuIHVzZXIuZ2VuZXJhdGVBdXRoVG9rZW4oKS50aGVuKCh0b2tlbikgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyg0KTtcclxuICAgICAgICAgICAgcmVzLmhlYWRlcigneC1hdXRoJywgdG9rZW4pLnNlbmQoKTtcclxuXHRcdCAgICBjb25zb2xlLmxvZyg1KTtcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblx0XHRlbHNlXHJcblx0XHR7XHJcblx0XHRcdHJlcy5zdGF0dXMoNDAzKS5zZW5kKFwiUGxlYXNlIGdvIHRvIHlvdXIgaW5ib3ggYW5kIGNsaWNrIHRoZSBsaW5rIHRvIGFjdGl2YXRlIHlvdXIgRW1haWwuXCIpO1xyXG5cdFx0fVxyXG4gICAgfSkuY2F0Y2goKGUpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICByZXMuc3RhdHVzKDQwMSkuc2VuZChcIkVpdGhlciBlbWFpbCBvciBwYXNzd3JvZCBpcyBpbmNvcnJlY3RcIik7XHJcbiAgICB9KTtcclxuICAgIC8vcmVzLnNlbmQoYm9keSlcclxuXHJcblxyXG5cclxufSk7XHJcblxyXG4vLyBHZXQgVXNlciBQcm9maWxlIFJlcXVlc3Rcclxucm91dGVyLmdldCgnL3VzZXJzL21lJywocmVxLHJlcykgPT4ge1xyXG4gICAgdmFyIHRva2VuID0gcmVxLmhlYWRlcigneC1hdXRoJyk7XHJcbiAgICBpZighdG9rZW4pXHJcbiAgICB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg0MDApLnNlbmQoJ1lvdSBzaG91bGQgUGFzcyBhIHRva2VuIHRvIGFjY2VzcyB0aGUgcHJvZmlsZScpO1xyXG4gICAgfVxyXG4gICAgVXNlci5maW5kQnlUb2tlbih0b2tlbikudGhlbigodXNlcikgPT4ge1xyXG4gICAgICAgIGlmKCF1c2VyKXtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmVzLnN0YXR1cygzMDIpLnNlbmQodXNlcik7XHJcbiAgICB9KS5jYXRjaCgoZSkgPT4ge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKCk7XHJcbiAgICB9KVxyXG59KVxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4gLyoqXHJcbiAqIGZvcmdvdCBwYXNzd29yZFxyXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAqIEBhcGkge3Bvc3R9IC91c2Vycy9mb3Jnb3QgICAgICBSZXF1ZXN0IHRvIHNlbmQgZW1haWwgYWZ0ZXIgZm9yZ2V0dGluZyBwYXNzd29yZFxyXG4gKiBAYXBpTmFtZSBGb3Jnb3RQYXNzd29yZFJlcXVlc3RcclxuICogQGFwaUdyb3VwIFVzZXIgcHJpdmFjeVxyXG4gKlxyXG4gKiBAYXBpUGFyYW0ge3N0cmluZ30gZW1haWwgICAgICAgaW4ganNvbiBmb3JtXHJcbiAqIEBhcGlQYXJhbUV4YW1wbGUge2pzb259IFJlcXVlc3QtRXhhbXBsZTpcclxuICogICAgIHtcclxuICogICAgICAgXCJlbWFpbFwiOiBcImFiY0BhYmMuY29tXCJcclxuICogICAgIH1cclxuICpcclxuICogQGFwaVN1Y2Nlc3NFeGFtcGxlIHtqc29ufSBTdWNjZXNzLVJlc3BvbnNlOlxyXG4gKiAgICAgSFRUUC8xLjEgMjAwIE9LXHJcbiAqICAgICB7XHJcbiAqICAgICAgIFwibWVzc2FnZVwiIDpcIkVtYWlsIFNlbnQgU3VjY2Vzc2Z1bGx5XCJcclxuICogICAgIH1cclxuICpcclxuICogQGFwaUVycm9yICA1MDAgICAgICAgICAgICAgIFtFbWFpbCBDYW5ub3QgQmVTZW50ICBBIHByb2JsZW0gd2hpbGUgc2VuZGluZyBlbWFpbF1cclxuICAqIEBhcGlFcnJvckV4YW1wbGUge2pzb259IEVycm9yLVJlc3BvbnNlOlxyXG4gKiAgICAgSFRUUC8xLjEgNTAwIHNlcnZlckVycm9yXHJcbiAqICAgICB7XHJcbiAqICAgICAgIFwibWVzc2FnZVwiOlwiU2VuZGluZyBGYWlsZWRcIlxyXG4gKiAgICAgfVxyXG4qIEBhcGlFcnJvciAgNDA0ICAgICAgIFtlbWFpbCBvZiB0aGUgdXNlciBub3QgZm91bmQgXVxyXG5cclxuICogQGFwaUVycm9yRXhhbXBsZSB7anNvbn0gRXJyb3ItUmVzcG9uc2U6XHJcbiAqICAgICBIVFRQLzEuMSA0MDQgbm90IGZvdW5kXHJcbiAqICAgICB7XHJcbiAqICAgICAgICBcIm1lc3NhZ2VcIjpcIkVtYWlsIG5vdCBmb3VuZFwiXHJcbiAqICAgICB9XHJcbiAqL1xyXG5yb3V0ZXIucG9zdCgnL3VzZXJzL2ZvcmdvdCcsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG5cclxuICAgIHZhciByZXFFbWFpbD1yZXEuYm9keS5lbWFpbDtcclxuICAgIC8vY29uc29sZS5sb2cocmVxRW1haWwpXHJcbiAgICB0cnkge1xyXG5cclxuICAgICBhd2FpdCBVc2VyLmZpbmRCeUVtYWlsKHJlcUVtYWlsKS50aGVuKCh1c2VyKT0+e1xyXG5cclxuICAgICAgICAgICBpZighdXNlcikgIHtcclxuXHJcblxyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe1wibWVzc2FnZVwiIDpcIkVtYWlsIG5vdCBmb3VuZFwifSl9XHJcblxyXG4gICAgICAgLy8gY29uc29sZS5sb2coJ2hlbmFhYWEnKVxyXG4gICAgdmFyIHJhbmQ9TWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSAqIDEwMCkgKyA1NCk7XHJcbiAgICB1c2VyLmdlbmVyYXRlUmVzZXRUb2tlbigpLnRoZW4oKHRva2VuKT0+e1xyXG4gICAgLy9jb25zb2xlLmxvZyh0b2tlbik7XHJcbiAgICB2YXIgaG9zdD1yZXEuZ2V0KCdob3N0Jyk7XHJcbiAgICB2YXIgbGluaz1cImh0dHA6Ly9cIityZXEuZ2V0KCdob3N0JykrXCIvdXNlcnMvcmVzZXQvP3Rva2VuPSBcIit0b2tlbjtcclxuICAgIHZhciBtYWlsT3B0aW9ucz17XHJcbiAgICAgICAgdG8gOiByZXFFbWFpbCxcclxuICAgICAgICBzdWJqZWN0IDogXCJSZXNldCB0aGUgcGFzc3dvcmQgXCIsXHJcbiAgICAgICAgaHRtbCA6IFwiSGVsbG8sPGJyPiBQbGVhc2UgQ2xpY2sgb24gdGhlIGxpbmsgdG8gcmVzZXQgeW91ciBwYXNzd29yZC48YnI+PGEgaHJlZj1cIitsaW5rK1wiPkNsaWNrIGhlcmUgdG8gdmVyaWZ5PC9hPlwiXHJcbiAgICAgICAgfVxyXG5cclxuICAgIC8vY29uc29sZS5sb2cobWFpbE9wdGlvbnMpO1xyXG4gICAgc210cFRyYW5zcG9ydC5zZW5kTWFpbChtYWlsT3B0aW9ucywgZnVuY3Rpb24oZXJyb3IsIHJlc3BvbnNlKXtcclxuICAgICBpZihlcnJvcil7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7XCJtZXNzYWdlXCIgOlwic2VuZGluZyBmYWlsZWRcIn0pO1xyXG4gICAgIH1lbHNle1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIk1lc3NhZ2Ugc2VudDogXCIgKyByZXNwb25zZS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgLy9yZXMuc2VuZCh0b2tlbik7XHJcbiAgICAgICAgcmVzLmpzb24oe1wibWVzc2FnZVwiOlwiRW1haWwgU2VudCBTdWNjZXNzZnVsbHlcIn0pO1xyXG4gICAgICAgICB9XHJcblxyXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG4gICAgIH0pO1xyXG59XHJcblxyXG4gICAgY2F0Y2hcclxuICAgIHtcclxuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7XCJtZXNzYWdlXCIgOlwiU2VuZGluZyBGYWlsZWRcIn0pO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbi8qKlxyXG4gKiBSZXNldCBwYXNzd29yZFxyXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAqIEBhcGkge3BhdGNofSAvdXNlcnMvcmVzZXQgICAgICBSZXF1ZXN0IHRvIHJlc2V0IHBhc3N3b3JkXHJcbiAqIEBhcGlOYW1lIFJlc2V0UmVxdWVzdFxyXG4gKiBAYXBpR3JvdXAgVXNlciBwcml2YWN5XHJcbiAqXHJcbiAqIEBhcGlQYXJhbSB7c3RyaW5nfSB0b2tlbiAgICAgICAgICBzaG91bGIgYmUgcGFzc2VkIGluIHF1ZXJ5XHJcbiAqIEBhcGlQYXJhbSB7c3RyaW5nfSAgbmV3UGFzc3dvcmQgICAgc2hvdWxkIGJlIHBhc3NlZCBpbiBib2R5IGluIGpzb24gZm9ybVxyXG4gKlxyXG4gKlxyXG4gKiBAYXBpU3VjY2Vzc0V4YW1wbGUge2pzb259IFN1Y2Nlc3MtUmVzcG9uc2U6XHJcbiAqICAgICBIVFRQLzEuMSAyMDAgT0tcclxuICogICAgIHtcclxuICogICAgICBcIm1lc3NhZ2VcIjogXCJQYXNzd29yZCBoYXMgYmVlbiByZXNldCBzdWNjZXNzZnVsbHlcIlwiXHJcbiAqICAgICB9XHJcbiAqXHJcbiAqXHJcbiAqIEBhcGlFcnJvckV4YW1wbGUge2pzb259IEVycm9yLVJlc3BvbnNlOlxyXG4gKiAgICAgSFRUUC8xLjEgNDAxIHVuYXV0aG9yaXplZFxyXG4gKiAgICAge1xyXG4gKiAgICAgICBcIm1lc3NhZ2VcIjogXCJSZXNldCBGYWlsZWRcIlwiXHJcbiAqICAgICB9XHJcbiAqL1xyXG5cclxucm91dGVyLnBhdGNoKCcvdXNlcnMvcmVzZXQnLGFzeW5jIChyZXEscmVzKT0+e1xyXG5cclxuICAgIHZhciBuZXdQYXNzd29yZD1yZXEuYm9keS5uZXdQYXNzd29yZDtcclxuICAgLy8gY29uc29sZS5sb2cobmV3UGFzc3dvcmQpXHJcbiAgICAvL2NvbnNvbGUubG9nKFwiaGVsbG9vb29vb1wiKTtcclxuICAgIHZhciB0b2tlbj1yZXEucXVlcnkudG9rZW47XHJcblxyXG4gICAgY29uc3Qgc2FsdCA9IGF3YWl0IGJjcnlwdC5nZW5TYWx0KCk7XHJcbiAgICBjb25zdCBoYXNoZWRQYXNzID0gYXdhaXQgYmNyeXB0Lmhhc2gobmV3UGFzc3dvcmQsIHNhbHQpO1xyXG4gICAvL2NvbnNvbGUubG9nKGhhc2hlZFBhc3MpO1xyXG4gICAgYXdhaXQgVXNlci5jaGVja1Rva2VuQW5kRmluZCh0b2tlbikudGhlbigodXNlcik9PntcclxuXHJcbiAgICAgICB1c2VyLnBhc3N3b3JkPWhhc2hlZFBhc3M7XHJcbiAgICAgICB1c2VyLnJlc2V0VG9rZW49dW5kZWZpbmVkO1xyXG4gICAgICAgdXNlci5zYXZlKCk7XHJcblxyXG4gICAgICAgcmVzLmpzb24oe1wibWVzc2FnZVwiOlwiUGFzc3dvcmQgaGFzIGJlZW4gcmVzZXQgc3VjY2Vzc2Z1bGx5XCJ9KTtcclxuXHJcbiAgICAgICAvLyBjb25zb2xlLmxvZyh1c2VyKTtcclxuICAgIH0pLmNhdGNoKChlKT0+IHtyZXMuc3RhdHVzKDQwMSkuanNvbih7XCJtZXNzYWdlXCI6J1Jlc2V0IEZhaWxlZCd9KTt9KVxyXG5cclxuICAgIH0pXHJcblxyXG5cclxuXHJcblxyXG4vL1JFR1VMQVIgQUNDT1VOVFxyXG4vKipcclxuICogQGFwaSB7cGF0Y2h9IGFwaS91c2Vycy86aWQvcmVndWxhciAgICBVc2VyIHdhbnRzIHRvIHVuc3Vic2NyaWJlIGZyb20gcHJlbWl1bSBmZWF0dXJlc1xyXG4gKiBAYXBpTmFtZSBXaXRoZHJhd1ByZW1pdW1TZXJ2aWVzXHJcbiAqIEBhcGlHcm91cCBVc2Vyc1xyXG4gKiBAYXBpSGVhZGVyIHtzdHJpbmd9IHgtYXV0aCAgICAgICAgICBPbmx5IHVzZXJzXHJcbiAqIEBhcGlQYXJhbSB7U3RyaW5nfSBpZCAgICAgICAgICB0aGUgaWQgb2YgdGhlIHVzZXIgaGFzIHRvIGJlIHBhc3NlZFxyXG4gKlxyXG4gKiBAYXBpU3VjY2Vzc0V4YW1wbGUge2pzb259IFN1Y2Nlc3MtUmVzcG9uc2U6XHJcbiAqICAgICBIVFRQLzEuMSAyMDAgT0tcclxuICogICAgIHtcclxuICogICAgICAgXCJtZXNzYWdlXCI6IFwiWW91ciBhY2NvdW50IGhhcyBiZWVuIGNoYW5nZWQgdG8gcmVndWxhciBhY2NvdW50XCJcclxuICogICAgIH1cclxuXHJcbiAqXHJcbiAqIEBhcGlFcnJvciAoNDA0KSAgWW91IGFyZSAgbm90IHByZW1pdW0gaW4gdGhlIGZpcnN0cGxhY2VcclxuICpcclxuICogQGFwaUVycm9yRXhhbXBsZSB7anNvbn0gRXJyb3ItUmVzcG9uc2U6XHJcbiAqICAgIEhUVFAvMS4xIDQwNFxyXG4gKiAgICAge1xyXG4gKiAgICAgICBcIm1lc3NhZ2VcIjpcInlvdSBhcmUgbm90IHByZW1pdW0gLCB5b3UgYWxyZWFkeSBoYXZlIGEgcmVndWxhciBhY2NvdW50IFwiXHJcbiAqICAgICB9XHJcbiAqXHJcbiAqIEBhcGlFcnJvciAoNDAxKSAgYXV0aGVudGljYXRpb24gZmFpbGVkXHJcbiAqIEBhcGlFcnJvckV4YW1wbGUge2pzb259IEVycm9yLVJlc3BvbnNlOlxyXG4gKiAgICBIVFRQLzEuMSA0MDFcclxuICogICAgIHtcclxuICogICAgICAgXCJtZXNzYWdlXCI6XCJhdXRoZW50aWNhdGlvbiBGYWlsZWRcIiBcIlxyXG4gKiAgICAgfVxyXG4gKlxyXG4gKi9cclxuXHJcbnJvdXRlci5wYXRjaCgnL3VzZXJzLzppZC9yZWd1bGFyJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICB2YXIgdXNlcklkO1xyXG4gICAgdmFyIGlkPXJlcS5wYXJhbXMuaWQ7XHJcbiAgICAvL2NvbnNvbGUubG9nKGlkKTtcclxuICAgIHZhciB0b2tlbiA9IHJlcS5oZWFkZXIoJ3gtYXV0aCcpO1xyXG4gICAgVXNlci5maW5kQnlUb2tlbih0b2tlbikudGhlbigodXNlcikgPT4ge1xyXG4gICAgaWYoIXVzZXIpe1xyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgpO1xyXG4gICAgfVxyXG4gIHVzZXJJZD11c2VyLl9pZDtcclxuICAvL2NvbnNvbGUubG9nKHVzZXJJZCk7XHJcbiAgaWYoISAodXNlcklkLnRvU3RyaW5nKCk9PT1pZCkpXHJcbiAge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oe1wibWVzc2FnZVwiOlwiYXV0aGVudGljYXRpb24gRmFpbGVkXCJ9KVxyXG4gIH1cclxuICBlbHNlIGlmKHVzZXIuaXNQcmVtaXVtPT09ZmFsc2UpXHJcbiAge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHtcIm1lc3NhZ2VcIjpcInlvdSBhcmUgbm90IHByZW1pdW0gLCB5b3UgYWxyZWFkeSBoYXZlIGEgcmVndWxhciBhY2NvdW50XCJ9KTtcclxuXHJcbiAgfVxyXG5lbHNlXHJcbntcclxuICAgIHVzZXIuaXNQcmVtaXVtPWZhbHNlO1xyXG4gICAgdXNlci5zYXZlKCk7XHJcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XCJtZXNzYWdlXCI6XCJZb3VyIGFjY291bnQgaGFzIGJlZW4gY2hhbmdlZCB0byByZWd1bGFyIGFjY291bnRcIn0pXHJcbiAgICAvL2NvbnNvbGUubG9nKCdpbnNpZGUgdGhlIHJlcXVlc3QnKVxyXG4gICAgLy9jb25zb2xlLmxvZyh1c2VyLmlzUHJlbWl1bSk7XHJcbn1cclxuXHJcbn0pLmNhdGNoKChlKT0+e3JldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7XCJtZXNzYWdlXCI6XCJhdXRoZW50aWNhdGlvbiBGYWlsZWRcIn0pfSlcclxuXHJcbn0pO1xyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4gLy9SRVFVRVNUIEZPUiBBIFBSRU1JVU0gQUNDT1VOVFxyXG4vKipcclxuICogQGFwaSB7Z2V0fSAvdXNlcnMvOmlkL3ByZW1pdW0gICAgU2VuZCBhIGNvbmZpcm1hdGlvbiBtYWlsIHRvIGJlIGEgcHJlbWl1bSB1c2VyXHJcbiAqIEBhcGlOYW1lIEpvaW4gUHJlbWl1bSBSZXF1ZXN0XHJcbiAqIEBhcGlHcm91cCBVc2Vyc1xyXG4gKiBAYXBpSGVhZGVyIHtzdHJpbmd9IHgtYXV0aCAgICAgICAgICAgIHRva2VuIE9ubHkgdXNlcnMgY2FuIHJlcXVlc3QgdG8gcHJlbWl1bVxyXG4gKlxyXG4gKiBAYXBpUGFyYW0ge1N0cmluZ30gaWQgICAgICAgICAgICAgdGhlIGlkIG9mIHRoZSB1c2VyIHNob3VsZCBiZSBwYXNzZWQgaW4gdGhlIHBhdGhcclxuICpcclxuICpcclxuICogQGFwaVN1Y2Nlc3NFeGFtcGxlIHtqc29ufSBTdWNjZXNzLVJlc3BvbnNlOlxyXG4gKiAgICAgSFRUUC8xLjEgMjAwIE9LXHJcbiAqICAgICB7XHJcbiAqXHJcbiAqICAgICAgIFwibWVzc2FnZVwiOiBcImNvbmZpcm1hdGlvbiByZXF1ZXN0IGhhcyBiZWVuIHNlbnQsIFlvdSB3aWxsIGJlIGEgcHJlbWl1bSB1c2VyIHNvb25cIlxyXG4gKiAgICAgfVxyXG4gKiBAYXBpU3VjY2Vzc0V4YW1wbGUge2pzb259IFN1Y2Nlc3MtUmVzcG9uc2U6XHJcbiAqICAgICBIVFRQLzEuMSAyMDAgT0tcclxuICogICAgIHtcclxuICpcclxuICogICAgICAgXCJtZXNzYWdlXCI6IFwiWW91IGFyZSBhbHJlYWR5IGEgcHJlbWl1bSB1c2VyLlRoYW5rcyBmb3IgdGhhdFwiXHJcbiAqICAgICB9XHJcbiAqXHJcbiAqXHJcbiAqIEBhcGlFcnJvciAoNDAxKSAgYXV0aGVudGljYXRpb24gZmFpbGVkXHJcbiAqIEBhcGlFcnJvckV4YW1wbGUge2pzb259IEVycm9yLVJlc3BvbnNlOlxyXG4gKiAgICBIVFRQLzEuMSA0MDFcclxuICogICAgIHtcclxuICogICAgICAgXCJtZXNzYWdlXCI6XCJhdXRoZW50aWNhdGlvbiBGYWlsZWRcIiBcIlxyXG4gKiAgICAgfVxyXG4gKlxyXG4gKiBAYXBpRXJyb3IgNTAwICAgICAgIEVtYWlsQ2Fubm90QmVTZW50ICBBIHByb2JsZW0gd2hpbGUgc2VuZGluZyBlbWFpbFxyXG4gKlxyXG4gKiBAYXBpRXJyb3JFeGFtcGxlIHtqc29ufSBFcnJvci1SZXNwb25zZTpcclxuICogICAgIEhUVFAvMS4xIDUwMCBzZXJ2ZXIgRXJyb3JcclxuICogICAgIHtcclxuICogICAgICAgXCJtZXNzYWdlXCI6XCJlcnJvcixmYWlsZWQgdG8gc2VuZFwiXHJcbiAqICAgICB9XHJcbiAqXHJcbiAqXHJcbiovXHJcblxyXG5cclxucm91dGVyLmdldCgnL3VzZXJzLzppZC9wcmVtaXVtJywgYXN5bmMgKHJlcSwgcmVzKSA9PlxyXG57XHJcblxyXG4gICAgICAgICAgICAgdmFyIGlkPXJlcS5wYXJhbXMuaWQ7XHJcbiAgICAgICAgICAgICAgdmFyIHVzZXJJZDtcclxuICAgICAgICAgICAgIHZhciB0b2tlbj1yZXEuaGVhZGVyKCd4LWF1dGgnKTtcclxuICAgICAgICAgICAgIFVzZXIuZmluZEJ5VG9rZW4odG9rZW4pLnRoZW4oKHVzZXIpID0+XHJcbiAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZighdXNlcil7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgdXNlcklkPXVzZXIuX2lkO1xyXG4gICAgICAgICAgICAgIC8vY29uc29sZS5sb2codXNlcklkKTtcclxuICAgICAgICAgICAgICBpZighICh1c2VySWQudG9TdHJpbmcoKT09PWlkKSlcclxuICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7XCJtZXNzYWdlXCI6XCJhdXRoZW50aWNhdGlvbiBGYWlsZWRcIn0pXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGVsc2UgaWYodXNlci5pc1ByZW1pdW09PT10cnVlKVxyXG4gICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XCJtZXNzYWdlXCI6XCJ5b3UgYXJlIGFscmVhZHkgYSBwcmVtaXVtIHVzZXIsIHRoYW5rcyBmb3IgdGhhdFwifSk7XHJcblxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZW1haWw9IHVzZXIuZW1haWw7XHJcbiAgICAgICAgICAgICAgICB2YXIgdHlwZT0gJ3ByZW1pdW0nO1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvZGUgPSBqd3Quc2lnbih7IF9pZDogdXNlci5faWQsIHR5cGUgfSwgJ3NlY3JldGtleWZvcnVzZXInLHtleHBpcmVzSW46JzFkJ30pO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coY29kZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGhvc3Q9cmVxLmdldCgnaG9zdCcpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGxpbms9XCJodHRwOi8vXCIrcmVxLmdldCgnaG9zdCcpK1wiL3VzZXJzL2NvbmZpcm1QcmVtaXVtLz90b2tlbj0gXCIrY29kZTtcclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2cobGluayk7XHJcbiAgICAgICAgICAgICAgICB2YXIgbWFpbE9wdGlvbnM9e1xyXG4gICAgICAgICAgICAgICAgICAgIHRvIDogZW1haWwsXHJcbiAgICAgICAgICAgICAgICAgICAgc3ViamVjdCA6IFwiUGxlYXNlIGNvbmZpcm0geW91ciBQcmVtaXVtIGFjY291bnRcIixcclxuICAgICAgICAgICAgICAgICAgICBodG1sIDogXCJIZWxsbyw8YnI+IFBsZWFzZSBDbGljayBvbiB0aGUgbGluayB0byBjb25maXJtIHlvdXIgcHJlbWl1bSBhY2NvdW50Ljxicj48YSBocmVmPVwiK2xpbmsrXCI+Q2xpY2sgaGVyZSB0byB2ZXJpZnk8L2E+XCJcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKG1haWxPcHRpb25zKTtcclxuICAgICAgICAgICAgICAgIHNtdHBUcmFuc3BvcnQuc2VuZE1haWwobWFpbE9wdGlvbnMsIGZ1bmN0aW9uKGVycm9yLCByZXNwb25zZSl7XHJcbiAgICAgICAgICAgICAgICAgaWYoZXJyb3IpXHJcbiAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe1wibWVzc2FnZVwiOlwiZXJyb3IsZmFpbGVkIHRvIHNlbmRcIn0pO1xyXG4gICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJNZXNzYWdlIHNlbnQ6IFwiICsgcmVzcG9uc2UubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1wibWVzc2FnZVwiOlwiY29uZmlybWF0aW9uIHJlcXVlc3QgaGFzIGJlZW4gc2VudCwgWW91IHdpbGwgYmUgYSBwcmVtaXVtIHVzZXIgc29vblwifSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIH0pLmNhdGNoKChlKT0+e3JldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7XCJtZXNzYWdlXCI6XCJhdXRoZW50aWNhdGlvbiBGYWlsZWRcIn0pfSlcclxuICAgIH0pXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4vL0NPTkZJUk1BVElPTiBPRiBBIFBSRU1JVU0gQUNDT1VOVFxyXG4vKipcclxuICogQGFwaSB7cGF0Y2h9IC91c2Vycy9jb25maXJtUHJlbWl1bSAgICAgVXNlciBpcyBjb25maXJtZWQgdG8gYmUgYSBwcmVtaXVtIHVzZXJcclxuICogQGFwaU5hbWUgQWNjZXB0YW5jZSBvZiBQcmVtaXVtIFJlcXVlc3RcclxuICogQGFwaUdyb3VwIFVzZXJzXHJcbiAqIEBhcGlQYXJhbSB7U3RyaW5nfSB0b2tlbiAgICAgICAgICAgICAgIHRoZSB0b2tlbiB0aGF0IHdhcyBzZW50IGluIHRoZSBsaW5rIHNuZXQgdG8gdGhlIHVzZXIncyBlbWFpbFxyXG4gKlxyXG4gKiBAYXBpU3VjY2Vzc0V4YW1wbGUge2pzb259IFN1Y2Nlc3MtUmVzcG9uc2U6XHJcbiAqICAgICBIVFRQLzEuMSAyMDAgT0tcclxuICogICAgIHtcclxuKiAgICAgICAgICAgXCJtZXNzYWdlXCIgOiBcIkVtYWlsIGNvbmZpcm1lZCBzdWNjZXNzZnVsbHksV2VsY29tZSBUbyBQcmVtaXVtIExpZmUhXCJcclxuICpcclxuICpcclxuICpcclxuICogICAgIH1cclxuICpcclxuICogQGFwaUVycm9yIDQwMSAgYXV0aGVudGljYXRpb24gZmFpbGVkXHJcbiAqIEBhcGlFcnJvckV4YW1wbGUge2pzb259IEVycm9yLVJlc3BvbnNlOlxyXG4gKiAgICBIVFRQLzEuMSA0MDFcclxuICogICAgIHtcclxuICogICAgICAgXCJtZXNzYWdlXCI6XCJhdXRoZW50aWNhdGlvbiBGYWlsZWRcIiBcIlxyXG4gKiAgICAgfVxyXG4gKlxyXG5cclxuICpcclxuICpcclxuICpcclxuICpcclxuICpcclxuICovXHJcblxyXG5cclxuXHJcbnJvdXRlci5wYXRjaCgnL3VzZXJzL2NvbmZpcm1QcmVtaXVtLycsYXN5bmMgKHJlcSxyZXMpPT57XHJcbiAgICAgdmFyIHRva2VuPXJlcS5xdWVyeS50b2tlbjtcclxudHJ5e1xyXG4gICAgZGVjb2RlZCA9IGp3dC52ZXJpZnkodG9rZW4gLCAnc2VjcmV0a2V5Zm9ydXNlcicpO1xyXG5cclxuICAgIGlmIChkZWNvZGVkLnR5cGU9PT0ncHJlbWl1bScpXHJcbiAgICB7IFVzZXIuZmluZEJ5SWQoZGVjb2RlZC5faWQpLnRoZW4oKHVzZXIpPT57XHJcbiAgICAgICAgaWYoIXVzZXIpe1xyXG5cdFx0IHJldHVyblx0cmVzLnN0YXR1cyg0MDQpLmpzb24oe1wibWVzc2FnZVwiOlwibm90IGZvdW5kXCJ9KTtcclxuICAgICAgICAgICAvLyByZXR1cm4gUHJvbWlzZS5yZWplY3QoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHVzZXIuaXNQcmVtaXVtPXRydWU7XHJcbiAgICAgICAgdXNlci5zYXZlKClcclxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XCJtZXNzYWdlXCI6XCJFbWFpbCBjb25maXJtZWQgc3VjY2Vzc2Z1bGx5LFdlbGNvbWUgVG8gUHJlbWl1bSBMaWZlIVwifSk7XHJcbiAgICB9KS5jYXRjaCgoZSkgPT4ge1xyXG4gICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHtcIm1lc3NhZ2VcIjpcImF1dGhlbnRpY2F0aW9uIGZhaWxlZFwifSk7XHJcblxyXG4gICAgfSlcclxufVxyXG59XHJcbmNhdGNoe1xyXG4gICAgcmVzLnN0YXR1cyg0MDEpLmpzb24oe1wibWVzc2FnZVwiOlwiYXV0aGVudGljYXRpb24gZmFpbGVkIG9yIGludmFsaWQgdG9rZW5cIn0pO1xyXG5cclxufVxyXG5cclxuIH0pXHJcblxyXG5cclxuXHJcblxyXG4vL0dFVCBBUlRJU1QgUkVMQVRFRCBBUlRJU1RTXHJcbnJvdXRlci5nZXQoJy91c2Vycy9hcnRpc3RzL3JlbGF0ZWQnLChyZXEscmVzKT0+e1xyXG4gICAgdmFyIHRva2VuID0gcmVxLmhlYWRlcigneC1hdXRoJyk7XHJcbiAgICBVc2VyLmZpbmRCeVRva2VuKHRva2VuKS50aGVuKCh1c2VyKT0+e1xyXG4gICAgICAgIGlmKCF1c2VyKXtcclxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIHZhciBzZW50SWQ9cmVxLmJvZHkuYXJ0aXN0SWQ7XHJcbiAgICBpZighc2VudElkKXtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoXCJTZW5kIHRoZSBhcnRpc3QgSURcIik7XHJcbiAgICB9XHJcbiAgICBpZighT2JqZWN0SUQuaXNWYWxpZChzZW50SWQpKXtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLnNlbmQoXCJJbnZhbGlkIElkXCIpO1xyXG4gICAgfVxyXG4gICAgYXJ0aXN0LmZpbmRCeUlkKHNlbnRJZCkudGhlbigobXlhcnRpc3RzKT0+e1xyXG4gICAgICAgIGlmKCFteWFydGlzdHMpe1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLnNlbmQoJ0lkIG5vdCBmb3VuZCcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYXJ0aXN0LmZpbmQoe2dlbnJlczp7JGluOm15YXJ0aXN0cy5nZW5yZXN9fSkudGhlbigoc3VnZ2VzdGVkQXJ0aXN0cyk9PntcclxuICAgICAgICBmb3IodmFyIGNvdW50PTA7Y291bnQ8c3VnZ2VzdGVkQXJ0aXN0cy5sZW5ndGg7Y291bnQrKylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmKHN1Z2dlc3RlZEFydGlzdHNbY291bnRdLl9pZD09c2VudElkKXtcclxuICAgICAgICAgICAgICAgIHZhciBzd2l0Y2h2YXI9c3VnZ2VzdGVkQXJ0aXN0c1tjb3VudF07XHJcbiAgICAgICAgICAgICAgICBzdWdnZXN0ZWRBcnRpc3RzW2NvdW50XT1zdWdnZXN0ZWRBcnRpc3RzWyhzdWdnZXN0ZWRBcnRpc3RzLmxlbmd0aCktMV07XHJcbiAgICAgICAgICAgICAgICBzdWdnZXN0ZWRBcnRpc3RzWyhzdWdnZXN0ZWRBcnRpc3RzLmxlbmd0aCktMV09c3dpdGNodmFyO1xyXG4gICAgICAgICAgICAgICAgc3VnZ2VzdGVkQXJ0aXN0cy5wb3AoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJlcy5zdGF0dXMoMzAyKS5zZW5kKHN1Z2dlc3RlZEFydGlzdHMpO1xyXG4gICAgICAgIH0sKGUpPT57XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKFwiSW50ZXJuYWwgU2VydmVyIGVycm9yXCIpO1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgfSwoZSk9PntcclxuXHJcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoXCJJbnRlcm5hbCBzZXJ2ZXIgZXJyb3JcIik7XHJcbiAgICB9KVxyXG4gIH0pLmNhdGNoKChlKT0+e1xyXG4gICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoJ1VuYXV0aG9yaXplZCBBY2Nlc3MnKTtcclxuICB9KVxyXG59KTtcclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5yb3V0ZXIucGF0Y2goJy91c2Vycy9tZS9lZGl0cHJvZmlsZScsKHJlcSwgcmVzKT0+e1xyXG4gIHZhciB0b2tlbj1yZXEuaGVhZGVyKCd4LWF1dGgnKTtcclxuICBpZighdG9rZW4pXHJcbiAge1xyXG4gICAgcmV0dXJuICByZXMuc3RhdHVzKDQwMSkuc2VuZCgnWW91IHNob3VsZCBQYXNzIGEgdG9rZW4gdG8gYWNjZXNzIHRoZSBwcm9maWxlJyk7XHJcbiAgfVxyXG4gIGVsc2VcclxudHJ5e1xyXG4gICAgZGVjb2RlZCA9IGp3dC52ZXJpZnkodG9rZW4gLCAnc2VjcmV0a2V5Zm9ydXNlcicpO1xyXG5cclxuICAgICBVc2VyLmZpbmRCeUlkKGRlY29kZWQuX2lkKS50aGVuKCh1c2VyKT0+e1xyXG4gICAgICAgIGlmKCF1c2VyKVxyXG5cdFx0e1xyXG5cdFx0XHRyZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe1wibWVzc2FnZVwiOlwibm90IGZvdW5kXCJ9KTtcclxuICAgICAgICB9XHJcblx0XHRpZihyZXEuYm9keS5iaXJ0aERhdGUpXHJcblx0XHRcdHtcclxuXHRcdFx0XHR2YXIgdGltZXN0YW1wID0gRGF0ZS5wYXJzZShyZXEuYm9keS5iaXJ0aERhdGUpO1xyXG5cclxuXHRcdFx0XHRpZiAoaXNOYU4odGltZXN0YW1wKSA9PSBmYWxzZSlcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHR2YXIgY29ycmVjdERhdGUgPSBuZXcgRGF0ZSh0aW1lc3RhbXApO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0cmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5zZW5kKFwiaW52YWxpZCBkYXRlIGZvcm1hdC4gdXNlIHl5eXktbW0tZGRcIik7XHJcblxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHQgICAgfVxyXG5cdFx0IGlmKHJlcS5ib2R5LnVzZXJOYW1lKVxyXG5cdFx0IHtcclxuXHRcdCAgVXNlci5maW5kT25lKHt1c2VyTmFtZTpyZXEuYm9keS51c2VyTmFtZX0pLnRoZW4oKGR1cGxpY2F0ZSk9PntcclxuXHRcdFx0aWYoZHVwbGljYXRlJiYgZHVwbGljYXRlLl9pZCE9ZGVjb2RlZC5faWQpXHJcblx0XHRcdHtcclxuXHJcblx0XHRcdFx0cmV0dXJuIHJlcy5zdGF0dXMoNDAzKS5zZW5kKFwiVXNlck5hbWUgYWxyZWFkeSBleGlzdHNcIilcclxuXHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHR7XHJcblxyXG4gICAgICAgIHRyeVxyXG5cdFx0e1xyXG5cdFx0XHRpZihyZXEuYm9keS51c2VyTmFtZSlcclxuXHRcdFx0e1xyXG5cclxuXHRcdFx0XHR1c2VyLnVzZXJOYW1lPXJlcS5ib2R5LnVzZXJOYW1lO1xyXG5cclxuXHRcdFx0fVxyXG5cdFx0XHRpZihyZXEuYm9keS5nZW5kZXIpXHJcblx0XHRcdHtcclxuXHJcblx0XHRcdFx0aWYocmVxLmJvZHkuZ2VuZGVyLnRvU3RyaW5nKCkhPVwiTVwiJiZyZXEuYm9keS5nZW5kZXIudG9TdHJpbmcoKSE9XCJGXCIpXHJcblx0XHRcdFx0e1xyXG5cclxuXHRcdFx0XHRcdHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZChcImdlbmRlciBtdXN0IGJlICdNJyBvciAnRidcIik7XHJcblx0XHRcdFx0fVxyXG5cclxuXHJcblx0XHRcdFx0dXNlci5nZW5kZXI9IHJlcS5ib2R5LmdlbmRlcjtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZihyZXEuYm9keS5iaXJ0aERhdGUpXHJcblx0XHRcdHtcclxuXHJcblx0XHRcdFx0XHR1c2VyLmJpcnRoRGF0ZT1jb3JyZWN0RGF0ZVxyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0XHR1c2VyLnNhdmUoZnVuY3Rpb24oZXJyLCB1c2VyKSB7XHJcbiAgICAgICAgaWYgKGVycikgcmV0dXJuIHJlcy5zZW5kKFwiaW52YWxpZCB1c2VyTmFtZVwiKTtcclxuICAgIH0pO1xyXG5cclxuXHJcblxyXG5cclxuXHRcdH1cclxuXHRcdGNhdGNoKGUpXHJcblxyXG5cdFx0e1xyXG5cclxuXHRcdFx0cmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5zZW5kKGUpO1xyXG5cclxuXHRcdH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKFwidXBkYXRlZFwiKTtcclxuXHR9XHJcblxyXG5cdFx0IH0pO1xyXG5cdFx0IH1cclxuICAgIH0pLmNhdGNoKChlKSA9PiB7XHJcblxyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuc2VuZChcImF1dGhlbnRpY2F0aW9uIGZhaWxlZFwiKTtcclxuXHJcbiAgICB9KVxyXG5cclxufVxyXG5jYXRjaHtcclxuXHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oe1wibWVzc2FnZVwiOlwiYXV0aGVudGljYXRpb24gZmFpbGVkIG9yIGludmFsaWQgdG9rZW5cIn0pO1xyXG5cclxufVxyXG5cclxuIH0pXHJcblxyXG5cclxuXHJcblxyXG5cclxuIC8vIENoYW5nZSBQYXNzd29yZFxyXG4gcm91dGVyLnB1dCgnL3VzZXJzL2NoYW5nZVBhc3N3b3JkJyxhc3luYyAocmVxLHJlcyk9PntcclxuICAgIHZhciBvbGRQYXNzd29yZD1yZXEuYm9keS5vbGRQYXNzd29yZDtcclxuICAgIHZhciBuZXdQYXNzd29yZD1yZXEuYm9keS5uZXdQYXNzd29yZDtcclxuICAgIHZhciB0b2tlbj1yZXEuaGVhZGVyKCd4LWF1dGgnKTtcclxuICAgIGlmKCF0b2tlbilcclxuICAgIHtcclxuICAgICAgICByZXMuc3RhdHVzKDQwMCkuc2VuZCgnWW91IGRpZCBub3QgcGFzcyBhIHRva2VuJylcclxuICAgIH1cclxuICAgIFVzZXIuZmluZEJ5VG9rZW4odG9rZW4pLnRoZW4oKHVzZXIpID0+IHtcclxuICAgICAgICBpZighdXNlcilcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKCk7XHJcbiAgICAgICAgfVxyXG4gICAgY29uc29sZS5sb2coXCJ5b3UgYXJlIG15IHVzZXJcIik7XHJcbiAgICB2YXIgZG9uZSA9IDA7XHJcbiAgICBiY3J5cHQuY29tcGFyZShvbGRQYXNzd29yZCwgdXNlci5wYXNzd29yZCwgYXN5bmMgKGVyciwgcmVzMikgPT4ge1xyXG4gICAgICAgIGlmKHJlczIpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1lvdXIgcGFzc3dvcmQgbWFjaGVkIHdpdGggZGF0YWJhc2UgaGFzaCBwYXNzd29yZCcpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnbGV0cyBjaGFuZ2UgcGFzc3dvcmQnKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNhbHQgPSBhd2FpdCBiY3J5cHQuZ2VuU2FsdCgpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaGFzaGVkUGFzcyA9IGF3YWl0IGJjcnlwdC5oYXNoKG5ld1Bhc3N3b3JkLCBzYWx0KTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGhhc2hlZFBhc3MpO1xyXG4gICAgICAgICAgICAgICAgdXNlci5wYXNzd29yZD1oYXNoZWRQYXNzO1xyXG4gICAgICAgICAgICAgICAgdXNlci5zYXZlKCk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnc2F2aW5nIHVzZXInKTtcclxuICAgICAgICAgICAgICAgIGRvbmUgPSAxO1xyXG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmQoXCJQYXNzd29yZCBoYXMgYmVlbiByZXNldCBzdWNjZXNzZnVsbHlcIik7XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHVzZXIucGFzc3dvcmQpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhvbGRQYXNzd29yZCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdZb3VyIHBhc3N3b3JkIG5vdCBtYWNoZWQuJyk7XHJcbiAgICAgICAgICAgIGRvbmUgPSAwXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAzKS5zZW5kKFwidGhpcyBpcyBub3QgdGhlIGNvcnJlY3QgcGFzc3dvcmRcIik7XHJcbiAgICAgICAgfX0pLmNhdGNoKGVycik7XHJcbiAgICB9KS5jYXRjaChlKTtcclxufSk7XHJcblxyXG5cclxuXHJcblxyXG5cclxuIC8vaWYoIW1vZHVsZS5wYXJlbnQpe1xyXG4gICAgLy8gIGFwcC5saXN0ZW4oMzAwMCwoKT0+e1xyXG4gICAgLy8gICAgICBjb25zb2xlLmxvZyhcIlN0YXJ0ZWQgb24gcG9ydCAzMDAwXCIpO1xyXG4gICAgLy8gIH0pO1xyXG4gLy99XHJcblxyXG4gbW9kdWxlLmV4cG9ydHMgPSByb3V0ZXIgO1xyXG4iXX0=