function cov_26yaqeqa38(){var path="C:\\Users\\Dell\\Desktop\\Monica\\models\\album.js";var hash="cda79c0c40b4a959f94b021eef10246839eaf08f";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\Dell\\Desktop\\Monica\\models\\album.js",statementMap:{"0":{start:{line:1,column:17},end:{line:1,column:36}},"1":{start:{line:2,column:13},end:{line:2,column:28}},"2":{start:{line:3,column:15},end:{line:3,column:42}},"3":{start:{line:4,column:31},end:{line:4,column:53}},"4":{start:{line:6,column:22},end:{line:6,column:50}},"5":{start:{line:9,column:18},end:{line:32,column:2}},"6":{start:{line:34,column:0},end:{line:68,column:1}},"7":{start:{line:35,column:4},end:{line:35,column:17}},"8":{start:{line:38,column:4},end:{line:67,column:9}},"9":{start:{line:40,column:8},end:{line:44,column:9}},"10":{start:{line:41,column:12},end:{line:41,column:36}},"11":{start:{line:42,column:12},end:{line:42,column:47}},"12":{start:{line:45,column:8},end:{line:60,column:9}},"13":{start:{line:46,column:12},end:{line:46,column:32}},"14":{start:{line:47,column:12},end:{line:53,column:15}},"15":{start:{line:48,column:16},end:{line:48,column:36}},"16":{start:{line:49,column:16},end:{line:49,column:50}},"17":{start:{line:51,column:16},end:{line:51,column:37}},"18":{start:{line:52,column:16},end:{line:52,column:41}},"19":{start:{line:56,column:12},end:{line:56,column:34}},"20":{start:{line:57,column:12},end:{line:57,column:44}},"21":{start:{line:58,column:12},end:{line:58,column:52}},"22":{start:{line:61,column:8},end:{line:61,column:30}},"23":{start:{line:62,column:8},end:{line:62,column:17}},"24":{start:{line:64,column:8},end:{line:64,column:25}},"25":{start:{line:65,column:8},end:{line:65,column:35}},"26":{start:{line:75,column:12},end:{line:75,column:49}},"27":{start:{line:78,column:0},end:{line:78,column:25}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:34,column:37},end:{line:34,column:38}},loc:{start:{line:34,column:66},end:{line:68,column:1}},line:34},"1":{name:"(anonymous_1)",decl:{start:{line:38,column:48},end:{line:38,column:49}},loc:{start:{line:38,column:59},end:{line:63,column:5}},line:38},"2":{name:"(anonymous_2)",decl:{start:{line:47,column:57},end:{line:47,column:58}},loc:{start:{line:47,column:66},end:{line:50,column:13}},line:47},"3":{name:"(anonymous_3)",decl:{start:{line:50,column:21},end:{line:50,column:22}},loc:{start:{line:50,column:28},end:{line:53,column:13}},line:50},"4":{name:"(anonymous_4)",decl:{start:{line:63,column:13},end:{line:63,column:14}},loc:{start:{line:63,column:22},end:{line:66,column:5}},line:63}},branchMap:{"0":{loc:{start:{line:40,column:8},end:{line:44,column:9}},type:"if",locations:[{start:{line:40,column:8},end:{line:44,column:9}},{start:{line:40,column:8},end:{line:44,column:9}}],line:40},"1":{loc:{start:{line:45,column:8},end:{line:60,column:9}},type:"if",locations:[{start:{line:45,column:8},end:{line:60,column:9}},{start:{line:45,column:8},end:{line:60,column:9}}],line:45}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0},b:{"0":[0,0],"1":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"cda79c0c40b4a959f94b021eef10246839eaf08f"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];cov_26yaqeqa38=function(){return actualCoverage;};return actualCoverage;}cov_26yaqeqa38();const mongoose=(cov_26yaqeqa38().s[0]++,require("mongoose"));const Schema=(cov_26yaqeqa38().s[1]++,mongoose.Schema);var ObjectID=(cov_26yaqeqa38().s[2]++,require('mongodb').ObjectID);var{images,ImagesSchema}=(cov_26yaqeqa38().s[3]++,require("./images.js"));// images model
//var { artist } = require("../models/artists.js");
const defaultModule=(cov_26yaqeqa38().s[4]++,require("./../defaultimage"));var AlbumSchema=(cov_26yaqeqa38().s[5]++,new mongoose.Schema({albumName:{type:String,required:true,trim:true,unique:true},image:{type:ImagesSchema,required:true,default:defaultModule.defaultImage._doc},artistId:{type:mongoose.Schema.Types.ObjectId,ref:"artists"},tracks:[{type:mongoose.Schema.Types.ObjectId,ref:"track"}]}));cov_26yaqeqa38().s[6]++;AlbumSchema.statics.deletebyartist=function(artistid,albumid){cov_26yaqeqa38().f[0]++;cov_26yaqeqa38().s[7]++;album=this;// artistid = new ObjectID(artistid);
cov_26yaqeqa38().s[8]++;return album.findOne({_id:albumid}).then(Album=>{cov_26yaqeqa38().f[1]++;cov_26yaqeqa38().s[9]++;if(!Album){cov_26yaqeqa38().b[0][0]++;cov_26yaqeqa38().s[10]++;console.log("not album");cov_26yaqeqa38().s[11]++;return Promise.reject("not album");}else{cov_26yaqeqa38().b[0][1]++;}cov_26yaqeqa38().s[12]++;if(Album.artistId.toString()===artistid){cov_26yaqeqa38().b[1][0]++;cov_26yaqeqa38().s[13]++;console.log("ukpl");cov_26yaqeqa38().s[14]++;return album.findByIdAndRemove(albumid).then(alb=>{cov_26yaqeqa38().f[2]++;cov_26yaqeqa38().s[15]++;console.log("kfho");cov_26yaqeqa38().s[16]++;return Promise.resolve("deleted");}).catch(e=>{cov_26yaqeqa38().f[3]++;cov_26yaqeqa38().s[17]++;console.log("kfojf");cov_26yaqeqa38().s[18]++;return Promise.reject(e);});}else{cov_26yaqeqa38().b[1][1]++;cov_26yaqeqa38().s[19]++;console.log(artistid);cov_26yaqeqa38().s[20]++;console.log(Album.artistId._id);cov_26yaqeqa38().s[21]++;return Promise.reject("not authorized");}cov_26yaqeqa38().s[22]++;console.log("fejeif");cov_26yaqeqa38().s[23]++;str="z";}).catch(err=>{cov_26yaqeqa38().f[4]++;cov_26yaqeqa38().s[24]++;console.log(err);cov_26yaqeqa38().s[25]++;return Promise.reject(err);});};/*AlbumSchema.methods.findartistname = function () {
    alb = this;
    artid = alb.artistId;
    return artist.findById({artid});

}*/var album=(cov_26yaqeqa38().s[26]++,mongoose.model('albums',AlbumSchema));cov_26yaqeqa38().s[27]++;module.exports={album};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFsYnVtLmpzIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwicmVxdWlyZSIsIlNjaGVtYSIsIk9iamVjdElEIiwiaW1hZ2VzIiwiSW1hZ2VzU2NoZW1hIiwiZGVmYXVsdE1vZHVsZSIsIkFsYnVtU2NoZW1hIiwiYWxidW1OYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwidHJpbSIsInVuaXF1ZSIsImltYWdlIiwiZGVmYXVsdCIsImRlZmF1bHRJbWFnZSIsIl9kb2MiLCJhcnRpc3RJZCIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJ0cmFja3MiLCJzdGF0aWNzIiwiZGVsZXRlYnlhcnRpc3QiLCJhcnRpc3RpZCIsImFsYnVtaWQiLCJhbGJ1bSIsImZpbmRPbmUiLCJfaWQiLCJ0aGVuIiwiQWxidW0iLCJjb25zb2xlIiwibG9nIiwiUHJvbWlzZSIsInJlamVjdCIsInRvU3RyaW5nIiwiZmluZEJ5SWRBbmRSZW1vdmUiLCJhbGIiLCJyZXNvbHZlIiwiY2F0Y2giLCJlIiwic3RyIiwiZXJyIiwibW9kZWwiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoid2dIQUFBLEtBQU1BLENBQUFBLFFBQVEsMEJBQUdDLE9BQU8sQ0FBQyxVQUFELENBQVYsQ0FBZCxDQUNBLEtBQU1DLENBQUFBLE1BQU0sMEJBQUNGLFFBQVEsQ0FBQ0UsTUFBVixDQUFaLENBQ0EsR0FBSUMsQ0FBQUEsUUFBUSwwQkFBR0YsT0FBTyxDQUFDLFNBQUQsQ0FBUCxDQUFtQkUsUUFBdEIsQ0FBWixDQUNBLEdBQUksQ0FBRUMsTUFBRixDQUFVQyxZQUFWLDJCQUEyQkosT0FBTyxDQUFDLGFBQUQsQ0FBbEMsQ0FBSixDQUF1RDtBQUN2RDtBQUNBLEtBQU1LLENBQUFBLGFBQWEsMEJBQUdMLE9BQU8sQ0FBQyxtQkFBRCxDQUFWLENBQW5CLENBR0EsR0FBSU0sQ0FBQUEsV0FBVywwQkFBRyxHQUFJUCxDQUFBQSxRQUFRLENBQUNFLE1BQWIsQ0FBb0IsQ0FDbENNLFNBQVMsQ0FBRSxD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IFNjaGVtYT1tb25nb29zZS5TY2hlbWE7XHJcbnZhciBPYmplY3RJRCA9IHJlcXVpcmUoJ21vbmdvZGInKS5PYmplY3RJRDtcclxudmFyIHsgaW1hZ2VzLCBJbWFnZXNTY2hlbWEgfSA9IHJlcXVpcmUoXCIuL2ltYWdlcy5qc1wiKTsgLy8gaW1hZ2VzIG1vZGVsXHJcbi8vdmFyIHsgYXJ0aXN0IH0gPSByZXF1aXJlKFwiLi4vbW9kZWxzL2FydGlzdHMuanNcIik7XHJcbmNvbnN0IGRlZmF1bHRNb2R1bGUgPSByZXF1aXJlKFwiLi8uLi9kZWZhdWx0aW1hZ2VcIik7XHJcblxyXG5cclxudmFyIEFsYnVtU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XHJcbiAgICBhbGJ1bU5hbWU6IHtcclxuICAgICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICAgICAgdHJpbTogdHJ1ZSxcclxuICAgICAgICB1bmlxdWU6IHRydWVcclxuICAgIH0sXHJcbiAgICBpbWFnZToge1xyXG4gICAgICAgIHR5cGU6IEltYWdlc1NjaGVtYSxcclxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgICAgICBkZWZhdWx0OiBkZWZhdWx0TW9kdWxlLmRlZmF1bHRJbWFnZS5fZG9jXHJcbiAgICB9LFxyXG5cclxuICAgIGFydGlzdElkOiB7XHJcbiAgICAgICAgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLFxyXG4gICAgICAgIHJlZjogXCJhcnRpc3RzXCJcclxuICAgIH0sXHJcbiAgICB0cmFja3M6IFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCxcclxuICAgICAgICAgICAgcmVmOiBcInRyYWNrXCJcclxuICAgICAgICB9XHJcbiAgICBdXHJcbn0pXHJcblxyXG5BbGJ1bVNjaGVtYS5zdGF0aWNzLmRlbGV0ZWJ5YXJ0aXN0ID0gZnVuY3Rpb24gKGFydGlzdGlkLCBhbGJ1bWlkKSB7XHJcbiAgICBhbGJ1bSA9IHRoaXM7XHJcbiAgIC8vIGFydGlzdGlkID0gbmV3IE9iamVjdElEKGFydGlzdGlkKTtcclxuICAgIFxyXG4gICAgcmV0dXJuIGFsYnVtLmZpbmRPbmUoeyBfaWQ6IGFsYnVtaWQgfSkudGhlbigoQWxidW0pID0+IHtcclxuXHJcbiAgICAgICAgaWYgKCFBbGJ1bSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIm5vdCBhbGJ1bVwiKVxyXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXCJub3QgYWxidW1cIik7XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoQWxidW0uYXJ0aXN0SWQudG9TdHJpbmcoKSA9PT0gYXJ0aXN0aWQpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJ1a3BsXCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gYWxidW0uZmluZEJ5SWRBbmRSZW1vdmUoYWxidW1pZCkudGhlbigoYWxiKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImtmaG9cIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFwiZGVsZXRlZFwiKTtcclxuICAgICAgICAgICAgfSkuY2F0Y2goKGUpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwia2ZvamZcIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYXJ0aXN0aWQpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhBbGJ1bS5hcnRpc3RJZC5faWQpO1xyXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXCJub3QgYXV0aG9yaXplZFwiKTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiZmVqZWlmXCIpO1xyXG4gICAgICAgIHN0ciA9IFwielwiXHJcbiAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyKTtcclxuICAgIH0pXHJcbiAgICAgICAgO1xyXG59XHJcbi8qQWxidW1TY2hlbWEubWV0aG9kcy5maW5kYXJ0aXN0bmFtZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGFsYiA9IHRoaXM7XHJcbiAgICBhcnRpZCA9IGFsYi5hcnRpc3RJZDtcclxuICAgIHJldHVybiBhcnRpc3QuZmluZEJ5SWQoe2FydGlkfSk7XHJcblxyXG59Ki9cclxudmFyIGFsYnVtID0gbW9uZ29vc2UubW9kZWwoJ2FsYnVtcycsIEFsYnVtU2NoZW1hKTtcclxuXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHthbGJ1bX07Il19