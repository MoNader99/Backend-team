function cov_liut2qfr(){var path="C:\\Users\\Dell\\Desktop\\new\\Services\\PlaylistServices.js";var hash="ab5f1b9b69e52307a7b442b370e82b65c8e60fbd";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\Dell\\Desktop\\new\\Services\\PlaylistServices.js",statementMap:{"0":{start:{line:2,column:19},end:{line:2,column:49}},"1":{start:{line:3,column:19},end:{line:3,column:54}},"2":{start:{line:4,column:22},end:{line:4,column:59}},"3":{start:{line:6,column:29},end:{line:12,column:1}},"4":{start:{line:7,column:4},end:{line:7,column:42}},"5":{start:{line:10,column:4},end:{line:10,column:88}},"6":{start:{line:13,column:24},end:{line:28,column:1}},"7":{start:{line:14,column:4},end:{line:14,column:36}},"8":{start:{line:16,column:4},end:{line:26,column:10}},"9":{start:{line:17,column:8},end:{line:17,column:63}},"10":{start:{line:17,column:36},end:{line:17,column:63}},"11":{start:{line:19,column:26},end:{line:19,column:54}},"12":{start:{line:20,column:8},end:{line:20,column:91}},"13":{start:{line:20,column:57},end:{line:20,column:88}},"14":{start:{line:24,column:12},end:{line:24,column:29}},"15":{start:{line:25,column:12},end:{line:25,column:39}},"16":{start:{line:29,column:18},end:{line:41,column:1}},"17":{start:{line:31,column:21},end:{line:38,column:6}},"18":{start:{line:33,column:25},end:{line:33,column:59}},"19":{start:{line:35,column:8},end:{line:35,column:61}},"20":{start:{line:39,column:4},end:{line:39,column:56}},"21":{start:{line:42,column:28},end:{line:46,column:1}},"22":{start:{line:43,column:4},end:{line:43,column:41}},"23":{start:{line:44,column:4},end:{line:44,column:125}},"24":{start:{line:44,column:66},end:{line:44,column:111}},"25":{start:{line:48,column:0},end:{line:51,column:1}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:6,column:29},end:{line:6,column:30}},loc:{start:{line:6,column:59},end:{line:12,column:1}},line:6},"1":{name:"(anonymous_1)",decl:{start:{line:13,column:24},end:{line:13,column:25}},loc:{start:{line:13,column:48},end:{line:28,column:1}},line:13},"2":{name:"(anonymous_2)",decl:{start:{line:16,column:53},end:{line:16,column:54}},loc:{start:{line:16,column:74},end:{line:22,column:5}},line:16},"3":{name:"(anonymous_3)",decl:{start:{line:20,column:45},end:{line:20,column:46}},loc:{start:{line:20,column:57},end:{line:20,column:88}},line:20},"4":{name:"(anonymous_4)",decl:{start:{line:23,column:15},end:{line:23,column:16}},loc:{start:{line:23,column:24},end:{line:26,column:9}},line:23},"5":{name:"(anonymous_5)",decl:{start:{line:29,column:18},end:{line:29,column:19}},loc:{start:{line:29,column:45},end:{line:41,column:1}},line:29},"6":{name:"(anonymous_6)",decl:{start:{line:31,column:35},end:{line:31,column:36}},loc:{start:{line:31,column:53},end:{line:38,column:5}},line:31},"7":{name:"(anonymous_7)",decl:{start:{line:42,column:28},end:{line:42,column:29}},loc:{start:{line:42,column:48},end:{line:46,column:1}},line:42},"8":{name:"(anonymous_8)",decl:{start:{line:44,column:13},end:{line:44,column:14}},loc:{start:{line:44,column:66},end:{line:44,column:111}},line:44}},branchMap:{"0":{loc:{start:{line:17,column:8},end:{line:17,column:63}},type:"if",locations:[{start:{line:17,column:8},end:{line:17,column:63}},{start:{line:17,column:8},end:{line:17,column:63}}],line:17}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},b:{"0":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"ab5f1b9b69e52307a7b442b370e82b65c8e60fbd"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];cov_liut2qfr=function(){return actualCoverage;};return actualCoverage;}cov_liut2qfr();// JavaScript source code
var{mongoose}=(cov_liut2qfr().s[0]++,require("./../db/mongoose.js"));var{playlist}=(cov_liut2qfr().s[1]++,require("./../models/playlists.js"));//track model
var{GetUserById}=(cov_liut2qfr().s[2]++,require("./../Services/UserServices"));cov_liut2qfr().s[3]++;var GetPlaylistObjectArray=async function(wordtosearch){cov_liut2qfr().f[0]++;cov_liut2qfr().s[4]++;console.log("getplaylistObjectArray");// const playlists = await playlist.find({ 'playlistName': { '$regex': wordtosearch, $options: 'i' } })
// console.log(playlists);
cov_liut2qfr().s[5]++;return playlist.find({'playlistName':{'$regex':wordtosearch,$options:'i'}});};cov_liut2qfr().s[6]++;var SearchInPlaylists=function(wordtosearch){cov_liut2qfr().f[1]++;cov_liut2qfr().s[7]++;console.log("searchinplaylist");cov_liut2qfr().s[8]++;return GetPlaylistObjectArray(wordtosearch).then(async playlists=>{cov_liut2qfr().f[2]++;cov_liut2qfr().s[9]++;if(playlists.length===0){cov_liut2qfr().b[0][0]++;cov_liut2qfr().s[10]++;return Promise.resolve([]);}else{cov_liut2qfr().b[0][1]++;}const Playlists=(cov_liut2qfr().s[11]++,await AddUserName(playlists));cov_liut2qfr().s[12]++;return Promise.resolve(Playlists.map(playlist=>{cov_liut2qfr().f[3]++;cov_liut2qfr().s[13]++;return GetSimplifiedPlaylist(playlist);}));}).catch(err=>{cov_liut2qfr().f[4]++;cov_liut2qfr().s[14]++;console.log(err);cov_liut2qfr().s[15]++;return Promise.reject(err);});};cov_liut2qfr().s[16]++;var AddUserName=async function(playlists){cov_liut2qfr().f[5]++;const promises=(cov_liut2qfr().s[17]++,playlists.map(async playlist=>{cov_liut2qfr().f[6]++;const userName=(cov_liut2qfr().s[18]++,await GetUserById(playlist.userId));cov_liut2qfr().s[19]++;return Object.assign(playlist,{userName:userName});}));cov_liut2qfr().s[20]++;return Promise.resolve((await Promise.all(promises)));};cov_liut2qfr().s[21]++;var GetSimplifiedPlaylist=function(playlist){cov_liut2qfr().f[7]++;cov_liut2qfr().s[22]++;console.log("getsimplifiedplaylist");cov_liut2qfr().s[23]++;return(({_id,playlistName,image,userName,userId})=>{cov_liut2qfr().f[8]++;cov_liut2qfr().s[24]++;return{_id,playlistName,image,userName,userId};})(playlist);};//SearchInPlaylists("deja");
cov_liut2qfr().s[25]++;module.exports={SearchInPlaylists,playlist};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlBsYXlsaXN0U2VydmljZXMuanMiXSwibmFtZXMiOlsibW9uZ29vc2UiLCJyZXF1aXJlIiwicGxheWxpc3QiLCJHZXRVc2VyQnlJZCIsIkdldFBsYXlsaXN0T2JqZWN0QXJyYXkiLCJ3b3JkdG9zZWFyY2giLCJjb25zb2xlIiwibG9nIiwiZmluZCIsIiRvcHRpb25zIiwiU2VhcmNoSW5QbGF5bGlzdHMiLCJ0aGVuIiwicGxheWxpc3RzIiwibGVuZ3RoIiwiUHJvbWlzZSIsInJlc29sdmUiLCJQbGF5bGlzdHMiLCJBZGRVc2VyTmFtZSIsIm1hcCIsIkdldFNpbXBsaWZpZWRQbGF5bGlzdCIsImNhdGNoIiwiZXJyIiwicmVqZWN0IiwicHJvbWlzZXMiLCJ1c2VyTmFtZSIsInVzZXJJZCIsIk9iamVjdCIsImFzc2lnbiIsImFsbCIsIl9pZCIsInBsYXlsaXN0TmFtZSIsImltYWdlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Im96SEFBQTtBQUNBLEdBQUksQ0FBRUEsUUFBRix5QkFBZUMsT0FBTyxDQUFDLHFCQUFELENBQXRCLENBQUosQ0FDQSxHQUFJLENBQUVDLFFBQUYseUJBQWVELE9BQU8sQ0FBQywwQkFBRCxDQUF0QixDQUFKLENBQXVEO0FBQ3ZELEdBQUksQ0FBRUUsV0FBRix5QkFBa0JGLE9BQU8sQ0FBQyw0QkFBRCxDQUF6QixDQUFKLEMsc0JBRUEsR0FBSUcsQ0FBQUEsc0JBQXNCLENBQUcsZUFBZ0JDLFlBQWhCLENBQThCLDZDQUN2REMsT0FBTyxDQUFDQyxHQUFSLENBQVksd0JBQVosRUFDRDtBQUNBO0FBSHdELHNCQUl2RCxNQUFPTCxDQUFBQSxRQUFRLENBQUNNLElBQVQsQ0FBYyxDQUFFLGVBQWdCLENBQUUsU0FBVUgsWUFBWixDQUEwQkksUUFBUSxDQUFFLEdBQXBDLENBQWxCLENBQWQsQ0FBUCxDQUVILENBTkQsQyxzQkFPQSxHQUFJQyxDQUFBQSxpQkFBaUIsQ0FBRyxTQUFVTCxZQUFWLENBQXdCLDZDQUM1Q0MsT0FBTyxDQUFDQyxHQUFSLENBQVksa0JBQVosRUFENEMsc0JBRzVDLE1BQU9ILENBQUFBLHNCQUFzQixDQUFDQyxZQUFELENBQXRCLENBQXFDTSxJQUFyQyxDQUEwQyxLQUFPQyxDQUFBQSxTQUFQLEVBQXFCLDZDQUNsRSxHQUFJQSxTQUFTLENBQUNDLE1BQVYsR0FBcUIsQ0FBekIsQ0FBNEIsdURBQU9DLENBQUFBLE9BQU8sQ0FBQ0MsT0FBUixDQUFnQixFQUFoQixDQUFQLENBQTJCLENBQXZELCtCQUVBLEtBQU1DLENBQUFBLFNBQVMseUJBQUcsS0FBTUMsQ0FBQUEsV0FBVyxDQUFDTCxTQUFELENBQXBCLENBQWYsQ0FIa0UsdUJBSWxFLE1BQU9FLENBQUFBLE9BQU8sQ0FBQ0MsT0FBUixDQUFnQkMsU0FBUyxDQUFDRSxHQUFWLENBQWNoQixRQUFRLEVBQUksb0RBQUFpQixDQUFBQSxxQkFBcUIsQ0FBQ2pCLFFBQUQsQ0FBckIsQ0FBK0IsQ0FBekQsQ0FBaEIsQ0FBUCxDQUVILENBTk0sRUFPRmtCLEtBUEUsQ0FPS0MsR0FBRCxFQUFTLDhDQUNaZixPQUFPLENBQUNDLEdBQVIsQ0FBWWMsR0FBWixFQURZLHVCQUVaLE1BQU9QLENBQUFBLE9BQU8sQ0FBQ1EsTUFBUixDQUFlRCxHQUFmLENBQVAsQ0FDSCxDQVZFLENBQVAsQ0FZSCxDQWZELEMsdUJBZ0JBLEdBQUlKLENBQUFBLFdBQVcsQ0FBRyxlQUFnQkwsU0FBaEIsQ0FBMkIsdUJBRXpDLEtBQU1XLENBQUFBLFFBQVEseUJBQUdYLFNBQVMsQ0FBQ00sR0FBVixDQUFjLEtBQU1oQixDQUFBQSxRQUFOLEVBQWtCLHVCQUU3QyxLQUFNc0IsQ0FBQUEsUUFBUSx5QkFBRyxLQUFNckIsQ0FBQUEsV0FBVyxDQUFDRCxRQUFRLENBQUN1QixNQUFWLENBQXBCLENBQWQsQ0FGNkMsdUJBSTdDLE1BQU9DLENBQUFBLE1BQU0sQ0FBQ0MsTUFBUCxDQUFjekIsUUFBZCxDQUF3QixDQUFFc0IsUUFBUSxDQUFFQSxRQUFaLENBQXhCLENBQVAsQ0FHSCxDQVBnQixDQUFILENBQWQsQ0FGeUMsdUJBVXpDLE1BQU9WLENBQUFBLE9BQU8sQ0FBQ0MsT0FBUixFQUFnQixLQUFNRCxDQUFBQSxPQUFPLENBQUNjLEdBQVIsQ0FBWUwsUUFBWixDQUF0QixFQUFQLENBRUgsQ0FaRCxDLHVCQWFBLEdBQUlKLENBQUFBLHFCQUFxQixDQUFHLFNBQVVqQixRQUFWLENBQW9CLDhDQUM1Q0ksT0FBTyxDQUFDQyxHQUFSLENBQVksdUJBQVosRUFENEMsdUJBRTVDLE1BQVEsQ0FBQyxDQUFDLENBQUVzQixHQUFGLENBQU9DLFlBQVAsQ0FBcUJDLEtBQXJCLENBQTRCUCxRQUE1QixDQUFzQ0MsTUFBdEMsQ0FBRCxHQUFxRCxxREFBRUksR0FBRixDQUFPQyxZQUFQLENBQXFCQyxLQUFyQixDQUE0QlAsUUFBNUIsQ0FBc0NDLE1BQXRDLEVBQTZDLENBQW5HLEVBQXNHdkIsUUFBdEcsQ0FBUixDQUVILENBSkQsQ0FLQTt1QkFDQThCLE1BQU0sQ0FBQ0MsT0FBUCxDQUFpQixDQUNidkIsaUJBRGEsQ0FFYlIsUUFGYSxDQUFqQiIsInNvdXJjZXNDb250ZW50IjpbIi8vIEphdmFTY3JpcHQgc291cmNlIGNvZGVcclxudmFyIHsgbW9uZ29vc2UgfSA9IHJlcXVpcmUoXCIuLy4uL2RiL21vbmdvb3NlLmpzXCIpO1xyXG52YXIgeyBwbGF5bGlzdCB9ID0gcmVxdWlyZShcIi4vLi4vbW9kZWxzL3BsYXlsaXN0cy5qc1wiKTsvL3RyYWNrIG1vZGVsXHJcbnZhciB7IEdldFVzZXJCeUlkIH0gPSByZXF1aXJlKFwiLi8uLi9TZXJ2aWNlcy9Vc2VyU2VydmljZXNcIik7XHJcblxyXG52YXIgR2V0UGxheWxpc3RPYmplY3RBcnJheSA9IGFzeW5jIGZ1bmN0aW9uICh3b3JkdG9zZWFyY2gpIHtcclxuICAgIGNvbnNvbGUubG9nKFwiZ2V0cGxheWxpc3RPYmplY3RBcnJheVwiKTtcclxuICAgLy8gY29uc3QgcGxheWxpc3RzID0gYXdhaXQgcGxheWxpc3QuZmluZCh7ICdwbGF5bGlzdE5hbWUnOiB7ICckcmVnZXgnOiB3b3JkdG9zZWFyY2gsICRvcHRpb25zOiAnaScgfSB9KVxyXG4gICAvLyBjb25zb2xlLmxvZyhwbGF5bGlzdHMpO1xyXG4gICAgcmV0dXJuIHBsYXlsaXN0LmZpbmQoeyAncGxheWxpc3ROYW1lJzogeyAnJHJlZ2V4Jzogd29yZHRvc2VhcmNoLCAkb3B0aW9uczogJ2knIH0gfSk7XHJcblxyXG59XHJcbnZhciBTZWFyY2hJblBsYXlsaXN0cyA9IGZ1bmN0aW9uICh3b3JkdG9zZWFyY2gpIHtcclxuICAgIGNvbnNvbGUubG9nKFwic2VhcmNoaW5wbGF5bGlzdFwiKTtcclxuXHJcbiAgICByZXR1cm4gR2V0UGxheWxpc3RPYmplY3RBcnJheSh3b3JkdG9zZWFyY2gpLnRoZW4oYXN5bmMgKHBsYXlsaXN0cykgPT4ge1xyXG4gICAgICAgIGlmIChwbGF5bGlzdHMubGVuZ3RoID09PSAwKSByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFtdKTtcclxuXHJcbiAgICAgICAgY29uc3QgUGxheWxpc3RzID0gYXdhaXQgQWRkVXNlck5hbWUocGxheWxpc3RzKTtcclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFBsYXlsaXN0cy5tYXAocGxheWxpc3QgPT4gR2V0U2ltcGxpZmllZFBsYXlsaXN0KHBsYXlsaXN0KSkpO1xyXG5cclxuICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycik7XHJcbiAgICAgICAgfSlcclxuXHJcbn1cclxudmFyIEFkZFVzZXJOYW1lID0gYXN5bmMgZnVuY3Rpb24gKHBsYXlsaXN0cykge1xyXG5cclxuICAgIGNvbnN0IHByb21pc2VzID0gcGxheWxpc3RzLm1hcChhc3luYyBwbGF5bGlzdCA9PiB7XHJcblxyXG4gICAgICAgIGNvbnN0IHVzZXJOYW1lID0gYXdhaXQgR2V0VXNlckJ5SWQocGxheWxpc3QudXNlcklkKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24ocGxheWxpc3QsIHsgdXNlck5hbWU6IHVzZXJOYW1lfSlcclxuXHJcblxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGF3YWl0IFByb21pc2UuYWxsKHByb21pc2VzKSk7XHJcblxyXG59XHJcbnZhciBHZXRTaW1wbGlmaWVkUGxheWxpc3QgPSBmdW5jdGlvbiAocGxheWxpc3QpIHtcclxuICAgIGNvbnNvbGUubG9nKFwiZ2V0c2ltcGxpZmllZHBsYXlsaXN0XCIpO1xyXG4gICAgcmV0dXJuICgoKHsgX2lkLCBwbGF5bGlzdE5hbWUsIGltYWdlLCB1c2VyTmFtZSwgdXNlcklkIH0pID0+ICh7IF9pZCwgcGxheWxpc3ROYW1lLCBpbWFnZSwgdXNlck5hbWUsIHVzZXJJZH0pKShwbGF5bGlzdCkpO1xyXG5cclxufVxyXG4vL1NlYXJjaEluUGxheWxpc3RzKFwiZGVqYVwiKTtcclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICBTZWFyY2hJblBsYXlsaXN0cyxcclxuICAgIHBsYXlsaXN0XHJcbn0iXX0=