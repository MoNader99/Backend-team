function cov_27sk4szorw(){var path="G:\\SWbackend\\Integrated\\Backend-team\\Services\\UserServices.js";var hash="53caf71fb29813a2bbab8492189ad265986a9874";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"G:\\SWbackend\\Integrated\\Backend-team\\Services\\UserServices.js",statementMap:{"0":{start:{line:3,column:19},end:{line:3,column:49}},"1":{start:{line:4,column:15},end:{line:4,column:46}},"2":{start:{line:5,column:25},end:{line:26,column:1}},"3":{start:{line:11,column:4},end:{line:11,column:80}},"4":{start:{line:28,column:20},end:{line:43,column:1}},"5":{start:{line:29,column:4},end:{line:41,column:10}},"6":{start:{line:30,column:8},end:{line:30,column:59}},"7":{start:{line:30,column:32},end:{line:30,column:59}},"8":{start:{line:32,column:8},end:{line:32,column:75}},"9":{start:{line:32,column:49},end:{line:32,column:72}},"10":{start:{line:39,column:12},end:{line:39,column:29}},"11":{start:{line:40,column:12},end:{line:40,column:39}},"12":{start:{line:45,column:24},end:{line:48,column:1}},"13":{start:{line:46,column:4},end:{line:46,column:76}},"14":{start:{line:46,column:43},end:{line:46,column:66}},"15":{start:{line:49,column:18},end:{line:59,column:1}},"16":{start:{line:50,column:4},end:{line:50,column:20}},"17":{start:{line:52,column:4},end:{line:56,column:6}},"18":{start:{line:54,column:8},end:{line:54,column:29}},"19":{start:{line:62,column:0},end:{line:66,column:1}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:5,column:25},end:{line:5,column:26}},loc:{start:{line:5,column:55},end:{line:26,column:1}},line:5},"1":{name:"(anonymous_1)",decl:{start:{line:28,column:20},end:{line:28,column:21}},loc:{start:{line:28,column:44},end:{line:43,column:1}},line:28},"2":{name:"(anonymous_2)",decl:{start:{line:29,column:49},end:{line:29,column:50}},loc:{start:{line:29,column:66},end:{line:36,column:5}},line:29},"3":{name:"(anonymous_3)",decl:{start:{line:32,column:41},end:{line:32,column:42}},loc:{start:{line:32,column:49},end:{line:32,column:72}},line:32},"4":{name:"(anonymous_4)",decl:{start:{line:38,column:15},end:{line:38,column:16}},loc:{start:{line:38,column:24},end:{line:41,column:9}},line:38},"5":{name:"(anonymous_5)",decl:{start:{line:45,column:24},end:{line:45,column:25}},loc:{start:{line:45,column:40},end:{line:48,column:1}},line:45},"6":{name:"(anonymous_6)",decl:{start:{line:46,column:13},end:{line:46,column:14}},loc:{start:{line:46,column:43},end:{line:46,column:66}},line:46},"7":{name:"(anonymous_7)",decl:{start:{line:49,column:18},end:{line:49,column:19}},loc:{start:{line:49,column:32},end:{line:59,column:1}},line:49},"8":{name:"(anonymous_8)",decl:{start:{line:52,column:34},end:{line:52,column:35}},loc:{start:{line:52,column:44},end:{line:56,column:5}},line:52}},branchMap:{"0":{loc:{start:{line:30,column:8},end:{line:30,column:59}},type:"if",locations:[{start:{line:30,column:8},end:{line:30,column:59}},{start:{line:30,column:8},end:{line:30,column:59}}],line:30}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},b:{"0":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"53caf71fb29813a2bbab8492189ad265986a9874"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];cov_27sk4szorw=function(){return actualCoverage;};return actualCoverage;}cov_27sk4szorw();// JavaScript source code
var{mongoose}=(cov_27sk4szorw().s[0]++,require("./../db/mongoose.js"));var{User}=(cov_27sk4szorw().s[1]++,require("./../models/users.js"));//artists model
cov_27sk4szorw().s[2]++;var GetUserObjectArray=async function(wordtosearch){cov_27sk4szorw().f[0]++;cov_27sk4szorw().s[3]++;//return track.find({ trackName: wordtosearch });
// return track.find({ 'trackName': { '$regex': wordtosearch, $options: 'i' } , 'artistId': { $in: Artists.map(function (value) { return value._id }) } } );
// try {
// console.log(Artists.map(function (value) { return value._id.toString() }));
return User.find({'userName':{'$regex':wordtosearch,$options:'i'}});//var tracks = await track.find({ $or: [{ 'trackName': { '$regex': wordtosearch, $options: 'i' } }, { 'artistId': { $in: Artists.map(function (value) { return value._id.toString() }) } }] });
//var tracks =
//console.log(tracks);
//return tracks;
//  ['5e6942b6646c86bc20fc9a92']
//  return track.find({ 'artistId': '5e6942b6646c86bc20fc9a92' });
//   }
//  catch (err) {
//      console.log(err);
//  }
// var tracks = await track.find({ 'artistId':  });
};cov_27sk4szorw().s[4]++;var SearchInUsers=function(wordtosearch){cov_27sk4szorw().f[1]++;cov_27sk4szorw().s[5]++;return GetUserObjectArray(wordtosearch).then(async users=>{cov_27sk4szorw().f[2]++;cov_27sk4szorw().s[6]++;if(users.length===0){cov_27sk4szorw().b[0][0]++;cov_27sk4szorw().s[7]++;return Promise.resolve([]);}else{cov_27sk4szorw().b[0][1]++;}cov_27sk4szorw().s[8]++;return Promise.resolve(users.map(user=>{cov_27sk4szorw().f[3]++;cov_27sk4szorw().s[9]++;return GetSimplifiedUser(user);}));})// return Promise.resolve(albums);
.catch(err=>{cov_27sk4szorw().f[4]++;cov_27sk4szorw().s[10]++;console.log(err);cov_27sk4szorw().s[11]++;return Promise.reject(err);});};cov_27sk4szorw().s[12]++;var GetSimplifiedUser=function(user){cov_27sk4szorw().f[5]++;cov_27sk4szorw().s[13]++;return(({_id,userName,image})=>{cov_27sk4szorw().f[6]++;cov_27sk4szorw().s[14]++;return{_id,userName,image};})(user);};cov_27sk4szorw().s[15]++;var GetUserById=function(id){cov_27sk4szorw().f[7]++;cov_27sk4szorw().s[16]++;console.log(id);//  console.log(artist.findById(id).artistName);
cov_27sk4szorw().s[17]++;return User.findById(id).then(user=>{cov_27sk4szorw().f[8]++;cov_27sk4szorw().s[18]++;// console.log(Art.artistName);
return user.userName;});};cov_27sk4szorw().s[19]++;module.exports={SearchInUsers,User,GetUserById};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlVzZXJTZXJ2aWNlcy5qcyJdLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJVc2VyIiwiR2V0VXNlck9iamVjdEFycmF5Iiwid29yZHRvc2VhcmNoIiwiZmluZCIsIiRvcHRpb25zIiwiU2VhcmNoSW5Vc2VycyIsInRoZW4iLCJ1c2VycyIsImxlbmd0aCIsIlByb21pc2UiLCJyZXNvbHZlIiwibWFwIiwidXNlciIsIkdldFNpbXBsaWZpZWRVc2VyIiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwibG9nIiwicmVqZWN0IiwiX2lkIiwidXNlck5hbWUiLCJpbWFnZSIsIkdldFVzZXJCeUlkIiwiaWQiLCJmaW5kQnlJZCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJ5OEdBQUE7QUFFQSxHQUFJLENBQUVBLFFBQUYsMkJBQWVDLE9BQU8sQ0FBQyxxQkFBRCxDQUF0QixDQUFKLENBQ0EsR0FBSSxDQUFFQyxJQUFGLDJCQUFXRCxPQUFPLENBQUMsc0JBQUQsQ0FBbEIsQ0FBSixDQUFpRDt3QkFDakQsR0FBSUUsQ0FBQUEsa0JBQWtCLENBQUcsZUFBZ0JDLFlBQWhCLENBQThCLGlEQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUVBLE1BQU9GLENBQUFBLElBQUksQ0FBQ0csSUFBTCxDQUFVLENBQUUsV0FBWSxDQUFFLFNBQVVELFlBQVosQ0FBMEJFLFFBQVEsQ0FBRSxHQUFwQyxDQUFkLENBQVYsQ0FBUCxDQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFSCxDQXJCRCxDLHdCQXVCQSxHQUFJQyxDQUFBQSxhQUFhLENBQUcsU0FBVUgsWUFBVixDQUF3QixpREFDeEMsTUFBT0QsQ0FBQUEsa0JBQWtCLENBQUNDLFlBQUQsQ0FBbEIsQ0FBaUNJLElBQWpDLENBQXNDLEtBQU9DLENBQUFBLEtBQVAsRUFBaUIsaURBQzFELEdBQUlBLEtBQUssQ0FBQ0MsTUFBTixHQUFpQixDQUFyQixDQUF3QiwwREFBT0MsQ0FBQUEsT0FBTyxDQUFDQyxPQUFSLENBQWdCLEVBQWhCLENBQVAsQ0FBMkIsQ0FBbkQsaUNBRDBELHdCQUcxRCxNQUFPRCxDQUFBQSxPQUFPLENBQUNDLE9BQVIsQ0FBZ0JILEtBQUssQ0FBQ0ksR0FBTixDQUFVQyxJQUFJLEVBQUksdURBQUFDLENBQUFBLGlCQUFpQixDQUFDRCxJQUFELENBQWpCLENBQXVCLENBQXpDLENBQWhCLENBQVAsQ0FJSCxDQVBNLENBUUg7QUFSRyxDQVNGRSxLQVRFLENBU0tDLEdBQUQsRUFBUyxrREFDWkMsT0FBTyxDQUFDQyxHQUFSLENBQVlGLEdBQVosRUFEWSx5QkFFWixNQUFPTixDQUFBQSxPQUFPLENBQUNTLE1BQVIsQ0FBZUgsR0FBZixDQUFQLENBQ0gsQ0FaRSxDQUFQLENBY0gsQ0FmRCxDLHlCQWlCQSxHQUFJRixDQUFBQSxpQkFBaUIsQ0FBRyxTQUFVRCxJQUFWLENBQWdCLGtEQUNwQyxNQUFRLENBQUMsQ0FBQyxDQUFFTyxHQUFGLENBQU9DLFFBQVAsQ0FBaUJDLEtBQWpCLENBQUQsR0FBOEIseURBQUVGLEdBQUYsQ0FBT0MsUUFBUCxDQUFpQkMsS0FBakIsRUFBdUIsQ0FBdEQsRUFBeURULElBQXpELENBQVIsQ0FFSCxDQUhELEMseUJBSUEsR0FBSVUsQ0FBQUEsV0FBVyxDQUFHLFNBQVVDLEVBQVYsQ0FBYyxrREFDNUJQLE9BQU8sQ0FBQ0MsR0FBUixDQUFZTSxFQUFaLEVBQ0Y7QUFGOEIseUJBRzVCLE1BQU92QixDQUFBQSxJQUFJLENBQUN3QixRQUFMLENBQWNELEVBQWQsRUFBa0JqQixJQUFsQixDQUF3Qk0sSUFBRCxFQUFVLGtEQUNyQztBQUNDLE1BQU9BLENBQUFBLElBQUksQ0FBQ1EsUUFBWixDQUVILENBSk0sQ0FBUCxDQU9ILENBVkQsQyx5QkFhQUssTUFBTSxDQUFDQyxPQUFQLENBQWlCLENBQ2JyQixhQURhLENBRWJMLElBRmEsQ0FHYnNCLFdBSGEsQ0FBakIiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBKYXZhU2NyaXB0IHNvdXJjZSBjb2RlXHJcblxyXG52YXIgeyBtb25nb29zZSB9ID0gcmVxdWlyZShcIi4vLi4vZGIvbW9uZ29vc2UuanNcIik7XHJcbnZhciB7IFVzZXIgfSA9IHJlcXVpcmUoXCIuLy4uL21vZGVscy91c2Vycy5qc1wiKTsgIC8vYXJ0aXN0cyBtb2RlbFxyXG52YXIgR2V0VXNlck9iamVjdEFycmF5ID0gYXN5bmMgZnVuY3Rpb24gKHdvcmR0b3NlYXJjaCkge1xyXG4gICAgLy9yZXR1cm4gdHJhY2suZmluZCh7IHRyYWNrTmFtZTogd29yZHRvc2VhcmNoIH0pO1xyXG4gICAgLy8gcmV0dXJuIHRyYWNrLmZpbmQoeyAndHJhY2tOYW1lJzogeyAnJHJlZ2V4Jzogd29yZHRvc2VhcmNoLCAkb3B0aW9uczogJ2knIH0gLCAnYXJ0aXN0SWQnOiB7ICRpbjogQXJ0aXN0cy5tYXAoZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiB2YWx1ZS5faWQgfSkgfSB9ICk7XHJcbiAgICAvLyB0cnkge1xyXG4gICAgLy8gY29uc29sZS5sb2coQXJ0aXN0cy5tYXAoZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiB2YWx1ZS5faWQudG9TdHJpbmcoKSB9KSk7XHJcblxyXG4gICAgcmV0dXJuIFVzZXIuZmluZCh7ICd1c2VyTmFtZSc6IHsgJyRyZWdleCc6IHdvcmR0b3NlYXJjaCwgJG9wdGlvbnM6ICdpJyB9IH0pO1xyXG4gICAgLy92YXIgdHJhY2tzID0gYXdhaXQgdHJhY2suZmluZCh7ICRvcjogW3sgJ3RyYWNrTmFtZSc6IHsgJyRyZWdleCc6IHdvcmR0b3NlYXJjaCwgJG9wdGlvbnM6ICdpJyB9IH0sIHsgJ2FydGlzdElkJzogeyAkaW46IEFydGlzdHMubWFwKGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gdmFsdWUuX2lkLnRvU3RyaW5nKCkgfSkgfSB9XSB9KTtcclxuICAgIC8vdmFyIHRyYWNrcyA9XHJcbiAgICAvL2NvbnNvbGUubG9nKHRyYWNrcyk7XHJcbiAgICAvL3JldHVybiB0cmFja3M7XHJcbiAgICAvLyAgWyc1ZTY5NDJiNjY0NmM4NmJjMjBmYzlhOTInXVxyXG5cclxuICAgIC8vICByZXR1cm4gdHJhY2suZmluZCh7ICdhcnRpc3RJZCc6ICc1ZTY5NDJiNjY0NmM4NmJjMjBmYzlhOTInIH0pO1xyXG5cclxuICAgIC8vICAgfVxyXG4gICAgLy8gIGNhdGNoIChlcnIpIHtcclxuICAgIC8vICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgIC8vICB9XHJcbiAgICAvLyB2YXIgdHJhY2tzID0gYXdhaXQgdHJhY2suZmluZCh7ICdhcnRpc3RJZCc6ICB9KTtcclxuXHJcbn1cclxuXHJcbnZhciBTZWFyY2hJblVzZXJzID0gZnVuY3Rpb24gKHdvcmR0b3NlYXJjaCkge1xyXG4gICAgcmV0dXJuIEdldFVzZXJPYmplY3RBcnJheSh3b3JkdG9zZWFyY2gpLnRoZW4oYXN5bmMgKHVzZXJzKSA9PiB7XHJcbiAgICAgICAgaWYgKHVzZXJzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIFByb21pc2UucmVzb2x2ZShbXSk7XHJcblxyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodXNlcnMubWFwKHVzZXIgPT4gR2V0U2ltcGxpZmllZFVzZXIodXNlcikpKTtcclxuXHJcblxyXG5cclxuICAgIH0pXHJcbiAgICAgICAgLy8gcmV0dXJuIFByb21pc2UucmVzb2x2ZShhbGJ1bXMpO1xyXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnIpO1xyXG4gICAgICAgIH0pXHJcblxyXG59XHJcblxyXG52YXIgR2V0U2ltcGxpZmllZFVzZXIgPSBmdW5jdGlvbiAodXNlcikge1xyXG4gICAgcmV0dXJuICgoKHsgX2lkLCB1c2VyTmFtZSwgaW1hZ2V9KSA9PiAoeyBfaWQsIHVzZXJOYW1lLCBpbWFnZX0pKSh1c2VyKSk7XHJcblxyXG59XHJcbnZhciBHZXRVc2VyQnlJZCA9IGZ1bmN0aW9uIChpZCkge1xyXG4gICAgY29uc29sZS5sb2coaWQpO1xyXG4gIC8vICBjb25zb2xlLmxvZyhhcnRpc3QuZmluZEJ5SWQoaWQpLmFydGlzdE5hbWUpO1xyXG4gICAgcmV0dXJuIFVzZXIuZmluZEJ5SWQoaWQpLnRoZW4oKHVzZXIpID0+IHtcclxuICAgICAgIC8vIGNvbnNvbGUubG9nKEFydC5hcnRpc3ROYW1lKTtcclxuICAgICAgICByZXR1cm4gdXNlci51c2VyTmFtZTtcclxuXHJcbiAgICB9KVxyXG5cclxuXHJcbn1cclxuXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIFNlYXJjaEluVXNlcnMsXHJcbiAgICBVc2VyLFxyXG4gICAgR2V0VXNlckJ5SWRcclxufVxyXG4iXX0=