function cov_23gg8fho5w(){var path="C:\\Users\\Dell\\Desktop\\new\\Controllers\\TracksController.js";var hash="d8eaa6817916541252364a6dcf2fcb9a65c72ccc";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\Dell\\Desktop\\new\\Controllers\\TracksController.js",statementMap:{"0":{start:{line:1,column:14},end:{line:1,column:32}},"1":{start:{line:3,column:8},end:{line:3,column:26}},"2":{start:{line:4,column:21},end:{line:4,column:51}},"3":{start:{line:5,column:13},end:{line:5,column:41}},"4":{start:{line:8,column:16},end:{line:8,column:48}},"5":{start:{line:9,column:13},end:{line:9,column:41}},"6":{start:{line:11,column:15},end:{line:11,column:46}},"7":{start:{line:12,column:13},end:{line:12,column:45}},"8":{start:{line:15,column:17},end:{line:15,column:35}},"9":{start:{line:17,column:13},end:{line:17,column:29}},"10":{start:{line:69,column:0},end:{line:82,column:2}},"11":{start:{line:70,column:7},end:{line:70,column:20}},"12":{start:{line:71,column:0},end:{line:74,column:1}},"13":{start:{line:73,column:4},end:{line:73,column:58}},"14":{start:{line:76,column:1},end:{line:80,column:38}},"15":{start:{line:77,column:4},end:{line:77,column:76}},"16":{start:{line:77,column:16},end:{line:77,column:75}},"17":{start:{line:78,column:4},end:{line:78,column:22}},"18":{start:{line:80,column:14},end:{line:80,column:36}},"19":{start:{line:134,column:0},end:{line:249,column:3}},"20":{start:{line:136,column:14},end:{line:136,column:15}},"21":{start:{line:138,column:17},end:{line:138,column:37}},"22":{start:{line:140,column:9},end:{line:140,column:21}},"23":{start:{line:144,column:14},end:{line:144,column:18}},"24":{start:{line:145,column:0},end:{line:148,column:1}},"25":{start:{line:147,column:4},end:{line:147,column:117}},"26":{start:{line:149,column:9},end:{line:149,column:10}},"27":{start:{line:150,column:0},end:{line:173,column:1}},"28":{start:{line:150,column:10},end:{line:150,column:11}},"29":{start:{line:153,column:4},end:{line:168,column:25}},"30":{start:{line:158,column:4},end:{line:164,column:4}},"31":{start:{line:160,column:7},end:{line:160,column:14}},"32":{start:{line:163,column:4},end:{line:163,column:28}},"33":{start:{line:165,column:5},end:{line:165,column:25}},"34":{start:{line:168,column:16},end:{line:168,column:22}},"35":{start:{line:170,column:0},end:{line:172,column:10}},"36":{start:{line:172,column:4},end:{line:172,column:9}},"37":{start:{line:177,column:0},end:{line:177,column:79}},"38":{start:{line:177,column:11},end:{line:177,column:78}},"39":{start:{line:182,column:7},end:{line:182,column:28}},"40":{start:{line:185,column:0},end:{line:188,column:1}},"41":{start:{line:187,column:0},end:{line:187,column:54}},"42":{start:{line:190,column:0},end:{line:242,column:2}},"43":{start:{line:192,column:0},end:{line:192,column:78}},"44":{start:{line:192,column:16},end:{line:192,column:77}},"45":{start:{line:199,column:0},end:{line:210,column:69}},"46":{start:{line:200,column:4},end:{line:202,column:5}},"47":{start:{line:201,column:8},end:{line:201,column:32}},"48":{start:{line:204,column:2},end:{line:204,column:18}},"49":{start:{line:208,column:3},end:{line:208,column:10}},"50":{start:{line:210,column:3},end:{line:210,column:67}},"51":{start:{line:212,column:0},end:{line:215,column:1}},"52":{start:{line:214,column:3},end:{line:214,column:10}},"53":{start:{line:219,column:0},end:{line:219,column:115}},"54":{start:{line:219,column:59},end:{line:219,column:114}},"55":{start:{line:222,column:0},end:{line:235,column:1}},"56":{start:{line:222,column:10},end:{line:222,column:11}},"57":{start:{line:224,column:13},end:{line:224,column:38}},"58":{start:{line:228,column:10},end:{line:228,column:33}},"59":{start:{line:229,column:1},end:{line:229,column:51}},"60":{start:{line:231,column:1},end:{line:231,column:33}},"61":{start:{line:232,column:1},end:{line:232,column:18}},"62":{start:{line:239,column:0},end:{line:239,column:18}},"63":{start:{line:241,column:0},end:{line:241,column:69}},"64":{start:{line:329,column:0},end:{line:358,column:6}},"65":{start:{line:330,column:12},end:{line:330,column:23}},"66":{start:{line:332,column:27},end:{line:332,column:31}},"67":{start:{line:334,column:4},end:{line:337,column:5}},"68":{start:{line:336,column:7},end:{line:336,column:76}},"69":{start:{line:342,column:4},end:{line:356,column:5}},"70":{start:{line:342,column:14},end:{line:342,column:15}},"71":{start:{line:344,column:4},end:{line:347,column:5}},"72":{start:{line:346,column:8},end:{line:346,column:62}},"73":{start:{line:349,column:4},end:{line:353,column:43}},"74":{start:{line:351,column:7},end:{line:351,column:82}},"75":{start:{line:351,column:19},end:{line:351,column:81}},"76":{start:{line:352,column:8},end:{line:352,column:37}},"77":{start:{line:353,column:18},end:{line:353,column:41}},"78":{start:{line:357,column:0},end:{line:357,column:29}},"79":{start:{line:365,column:0},end:{line:392,column:3}},"80":{start:{line:366,column:16},end:{line:366,column:36}},"81":{start:{line:367,column:4},end:{line:391,column:6}},"82":{start:{line:368,column:8},end:{line:370,column:9}},"83":{start:{line:369,column:12},end:{line:369,column:36}},"84":{start:{line:371,column:19},end:{line:371,column:31}},"85":{start:{line:372,column:4},end:{line:374,column:5}},"86":{start:{line:373,column:8},end:{line:373,column:69}},"87":{start:{line:375,column:19},end:{line:375,column:37}},"88":{start:{line:378,column:4},end:{line:388,column:6}},"89":{start:{line:379,column:8},end:{line:382,column:9}},"90":{start:{line:381,column:12},end:{line:381,column:73}},"91":{start:{line:384,column:8},end:{line:384,column:78}},"92":{start:{line:387,column:8},end:{line:387,column:55}},"93":{start:{line:390,column:8},end:{line:390,column:52}},"94":{start:{line:398,column:0},end:{line:481,column:3}},"95":{start:{line:399,column:16},end:{line:399,column:36}},"96":{start:{line:400,column:4},end:{line:480,column:6}},"97":{start:{line:401,column:8},end:{line:403,column:9}},"98":{start:{line:402,column:12},end:{line:402,column:36}},"99":{start:{line:404,column:23},end:{line:404,column:35}},"100":{start:{line:405,column:8},end:{line:407,column:9}},"101":{start:{line:406,column:12},end:{line:406,column:66}},"102":{start:{line:408,column:8},end:{line:410,column:9}},"103":{start:{line:409,column:12},end:{line:409,column:67}},"104":{start:{line:411,column:8},end:{line:413,column:9}},"105":{start:{line:412,column:11},end:{line:412,column:67}},"106":{start:{line:414,column:8},end:{line:416,column:9}},"107":{start:{line:415,column:12},end:{line:415,column:65}},"108":{start:{line:417,column:8},end:{line:419,column:9}},"109":{start:{line:418,column:12},end:{line:418,column:70}},"110":{start:{line:421,column:8},end:{line:423,column:9}},"111":{start:{line:422,column:12},end:{line:422,column:82}},"112":{start:{line:425,column:8},end:{line:473,column:11}},"113":{start:{line:426,column:12},end:{line:429,column:13}},"114":{start:{line:427,column:16},end:{line:427,column:77}},"115":{start:{line:431,column:12},end:{line:442,column:15}},"116":{start:{line:432,column:16},end:{line:441,column:21}},"117":{start:{line:433,column:24},end:{line:436,column:54}},"118":{start:{line:437,column:24},end:{line:437,column:42}},"119":{start:{line:439,column:25},end:{line:441,column:21}},"120":{start:{line:440,column:24},end:{line:440,column:42}},"121":{start:{line:446,column:12},end:{line:470,column:15}},"122":{start:{line:447,column:16},end:{line:469,column:17}},"123":{start:{line:448,column:44},end:{line:458,column:22}},"124":{start:{line:457,column:24},end:{line:457,column:93}},"125":{start:{line:460,column:20},end:{line:464,column:23}},"126":{start:{line:461,column:24},end:{line:461,column:50}},"127":{start:{line:463,column:24},end:{line:463,column:93}},"128":{start:{line:467,column:21},end:{line:469,column:17}},"129":{start:{line:468,column:20},end:{line:468,column:138}},"130":{start:{line:479,column:8},end:{line:479,column:52}},"131":{start:{line:525,column:0},end:{line:580,column:2}},"132":{start:{line:527,column:18},end:{line:527,column:31}},"133":{start:{line:528,column:16},end:{line:528,column:36}},"134":{start:{line:529,column:4},end:{line:532,column:5}},"135":{start:{line:531,column:8},end:{line:531,column:84}},"136":{start:{line:533,column:4},end:{line:536,column:5}},"137":{start:{line:535,column:8},end:{line:535,column:50}},"138":{start:{line:537,column:4},end:{line:541,column:6}},"139":{start:{line:538,column:4},end:{line:540,column:5}},"140":{start:{line:539,column:8},end:{line:539,column:73}},"141":{start:{line:542,column:4},end:{line:579,column:6}},"142":{start:{line:543,column:8},end:{line:546,column:9}},"143":{start:{line:545,column:12},end:{line:545,column:35}},"144":{start:{line:547,column:8},end:{line:547,column:38}},"145":{start:{line:548,column:17},end:{line:548,column:40}},"146":{start:{line:549,column:8},end:{line:578,column:9}},"147":{start:{line:551,column:12},end:{line:551,column:61}},"148":{start:{line:552,column:12},end:{line:552,column:44}},"149":{start:{line:553,column:12},end:{line:553,column:24}},"150":{start:{line:554,column:12},end:{line:558,column:18}},"151":{start:{line:555,column:16},end:{line:555,column:45}},"152":{start:{line:556,column:16},end:{line:556,column:44}},"153":{start:{line:557,column:16},end:{line:557,column:29}},"154":{start:{line:559,column:12},end:{line:559,column:35}},"155":{start:{line:562,column:8},end:{line:568,column:9}},"156":{start:{line:562,column:20},end:{line:562,column:21}},"157":{start:{line:564,column:12},end:{line:567,column:13}},"158":{start:{line:566,column:16},end:{line:566,column:91}},"159":{start:{line:569,column:8},end:{line:569,column:59}},"160":{start:{line:570,column:8},end:{line:570,column:40}},"161":{start:{line:571,column:8},end:{line:571,column:20}},"162":{start:{line:572,column:8},end:{line:576,column:14}},"163":{start:{line:573,column:12},end:{line:573,column:41}},"164":{start:{line:574,column:12},end:{line:574,column:40}},"165":{start:{line:575,column:12},end:{line:575,column:25}},"166":{start:{line:577,column:8},end:{line:577,column:31}},"167":{start:{line:584,column:0},end:{line:602,column:2}},"168":{start:{line:586,column:16},end:{line:586,column:36}},"169":{start:{line:587,column:4},end:{line:590,column:5}},"170":{start:{line:589,column:8},end:{line:589,column:84}},"171":{start:{line:591,column:4},end:{line:601,column:6}},"172":{start:{line:593,column:8},end:{line:596,column:9}},"173":{start:{line:595,column:12},end:{line:595,column:80}},"174":{start:{line:597,column:8},end:{line:597,column:47}},"175":{start:{line:600,column:8},end:{line:600,column:46}},"176":{start:{line:604,column:0},end:{line:604,column:22}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:69,column:26},end:{line:69,column:27}},loc:{start:{line:69,column:37},end:{line:82,column:1}},line:69},"1":{name:"(anonymous_1)",decl:{start:{line:76,column:25},end:{line:76,column:26}},loc:{start:{line:76,column:35},end:{line:80,column:1}},line:76},"2":{name:"(anonymous_2)",decl:{start:{line:80,column:9},end:{line:80,column:10}},loc:{start:{line:80,column:14},end:{line:80,column:36}},line:80},"3":{name:"(anonymous_3)",decl:{start:{line:134,column:44},end:{line:134,column:45}},loc:{start:{line:135,column:0},end:{line:249,column:2}},line:135},"4":{name:"(anonymous_4)",decl:{start:{line:153,column:41},end:{line:153,column:42}},loc:{start:{line:154,column:0},end:{line:168,column:1}},line:154},"5":{name:"(anonymous_5)",decl:{start:{line:168,column:9},end:{line:168,column:10}},loc:{start:{line:168,column:14},end:{line:168,column:24}},line:168},"6":{name:"(anonymous_6)",decl:{start:{line:190,column:27},end:{line:190,column:28}},loc:{start:{line:190,column:46},end:{line:242,column:1}},line:190},"7":{name:"(anonymous_7)",decl:{start:{line:199,column:35},end:{line:199,column:36}},loc:{start:{line:199,column:45},end:{line:207,column:1}},line:199},"8":{name:"(anonymous_8)",decl:{start:{line:207,column:9},end:{line:207,column:10}},loc:{start:{line:207,column:14},end:{line:210,column:68}},line:207},"9":{name:"(anonymous_9)",decl:{start:{line:329,column:21},end:{line:329,column:22}},loc:{start:{line:329,column:38},end:{line:358,column:5}},line:329},"10":{name:"(anonymous_10)",decl:{start:{line:349,column:46},end:{line:349,column:47}},loc:{start:{line:350,column:4},end:{line:353,column:5}},line:350},"11":{name:"(anonymous_11)",decl:{start:{line:353,column:13},end:{line:353,column:14}},loc:{start:{line:353,column:18},end:{line:353,column:41}},line:353},"12":{name:"(anonymous_12)",decl:{start:{line:365,column:24},end:{line:365,column:25}},loc:{start:{line:365,column:35},end:{line:392,column:1}},line:365},"13":{name:"(anonymous_13)",decl:{start:{line:367,column:35},end:{line:367,column:36}},loc:{start:{line:367,column:47},end:{line:389,column:5}},line:367},"14":{name:"(anonymous_14)",decl:{start:{line:378,column:88},end:{line:378,column:89}},loc:{start:{line:378,column:101},end:{line:386,column:5}},line:378},"15":{name:"(anonymous_15)",decl:{start:{line:386,column:13},end:{line:386,column:14}},loc:{start:{line:386,column:18},end:{line:388,column:5}},line:386},"16":{name:"(anonymous_16)",decl:{start:{line:389,column:13},end:{line:389,column:14}},loc:{start:{line:389,column:18},end:{line:391,column:5}},line:389},"17":{name:"(anonymous_17)",decl:{start:{line:398,column:22},end:{line:398,column:23}},loc:{start:{line:398,column:33},end:{line:481,column:1}},line:398},"18":{name:"(anonymous_18)",decl:{start:{line:400,column:35},end:{line:400,column:36}},loc:{start:{line:400,column:47},end:{line:478,column:5}},line:400},"19":{name:"(anonymous_19)",decl:{start:{line:425,column:47},end:{line:425,column:48}},loc:{start:{line:425,column:62},end:{line:473,column:9}},line:425},"20":{name:"(anonymous_20)",decl:{start:{line:431,column:58},end:{line:431,column:59}},loc:{start:{line:431,column:69},end:{line:442,column:13}},line:431},"21":{name:"(anonymous_21)",decl:{start:{line:446,column:91},end:{line:446,column:92}},loc:{start:{line:446,column:109},end:{line:470,column:13}},line:446},"22":{name:"(anonymous_22)",decl:{start:{line:456,column:22},end:{line:456,column:23}},loc:{start:{line:456,column:27},end:{line:458,column:21}},line:456},"23":{name:"(anonymous_23)",decl:{start:{line:460,column:46},end:{line:460,column:47}},loc:{start:{line:460,column:53},end:{line:462,column:21}},line:460},"24":{name:"(anonymous_24)",decl:{start:{line:462,column:29},end:{line:462,column:30}},loc:{start:{line:462,column:34},end:{line:464,column:21}},line:462},"25":{name:"(anonymous_25)",decl:{start:{line:478,column:13},end:{line:478,column:14}},loc:{start:{line:478,column:18},end:{line:480,column:5}},line:478},"26":{name:"(anonymous_26)",decl:{start:{line:525,column:32},end:{line:525,column:33}},loc:{start:{line:526,column:0},end:{line:580,column:1}},line:526},"27":{name:"(anonymous_27)",decl:{start:{line:537,column:38},end:{line:537,column:39}},loc:{start:{line:537,column:49},end:{line:541,column:5}},line:537},"28":{name:"(anonymous_28)",decl:{start:{line:542,column:33},end:{line:542,column:34}},loc:{start:{line:542,column:42},end:{line:579,column:5}},line:542},"29":{name:"(anonymous_29)",decl:{start:{line:554,column:46},end:{line:554,column:47}},loc:{start:{line:554,column:57},end:{line:558,column:17}},line:554},"30":{name:"(anonymous_30)",decl:{start:{line:572,column:42},end:{line:572,column:43}},loc:{start:{line:572,column:53},end:{line:576,column:13}},line:572},"31":{name:"(anonymous_31)",decl:{start:{line:584,column:30},end:{line:584,column:31}},loc:{start:{line:585,column:0},end:{line:602,column:1}},line:585},"32":{name:"(anonymous_32)",decl:{start:{line:591,column:33},end:{line:591,column:34}},loc:{start:{line:592,column:4},end:{line:598,column:5}},line:592},"33":{name:"(anonymous_33)",decl:{start:{line:598,column:13},end:{line:598,column:14}},loc:{start:{line:599,column:4},end:{line:601,column:5}},line:599}},branchMap:{"0":{loc:{start:{line:71,column:0},end:{line:74,column:1}},type:"if",locations:[{start:{line:71,column:0},end:{line:74,column:1}},{start:{line:71,column:0},end:{line:74,column:1}}],line:71},"1":{loc:{start:{line:77,column:4},end:{line:77,column:76}},type:"if",locations:[{start:{line:77,column:4},end:{line:77,column:76}},{start:{line:77,column:4},end:{line:77,column:76}}],line:77},"2":{loc:{start:{line:145,column:0},end:{line:148,column:1}},type:"if",locations:[{start:{line:145,column:0},end:{line:148,column:1}},{start:{line:145,column:0},end:{line:148,column:1}}],line:145},"3":{loc:{start:{line:158,column:4},end:{line:164,column:4}},type:"if",locations:[{start:{line:158,column:4},end:{line:164,column:4}},{start:{line:158,column:4},end:{line:164,column:4}}],line:158},"4":{loc:{start:{line:170,column:0},end:{line:172,column:10}},type:"if",locations:[{start:{line:170,column:0},end:{line:172,column:10}},{start:{line:170,column:0},end:{line:172,column:10}}],line:170},"5":{loc:{start:{line:177,column:0},end:{line:177,column:79}},type:"if",locations:[{start:{line:177,column:0},end:{line:177,column:79}},{start:{line:177,column:0},end:{line:177,column:79}}],line:177},"6":{loc:{start:{line:185,column:0},end:{line:188,column:1}},type:"if",locations:[{start:{line:185,column:0},end:{line:188,column:1}},{start:{line:185,column:0},end:{line:188,column:1}}],line:185},"7":{loc:{start:{line:192,column:0},end:{line:192,column:78}},type:"if",locations:[{start:{line:192,column:0},end:{line:192,column:78}},{start:{line:192,column:0},end:{line:192,column:78}}],line:192},"8":{loc:{start:{line:200,column:4},end:{line:202,column:5}},type:"if",locations:[{start:{line:200,column:4},end:{line:202,column:5}},{start:{line:200,column:4},end:{line:202,column:5}}],line:200},"9":{loc:{start:{line:212,column:0},end:{line:215,column:1}},type:"if",locations:[{start:{line:212,column:0},end:{line:215,column:1}},{start:{line:212,column:0},end:{line:215,column:1}}],line:212},"10":{loc:{start:{line:219,column:0},end:{line:219,column:115}},type:"if",locations:[{start:{line:219,column:0},end:{line:219,column:115}},{start:{line:219,column:0},end:{line:219,column:115}}],line:219},"11":{loc:{start:{line:334,column:4},end:{line:337,column:5}},type:"if",locations:[{start:{line:334,column:4},end:{line:337,column:5}},{start:{line:334,column:4},end:{line:337,column:5}}],line:334},"12":{loc:{start:{line:344,column:4},end:{line:347,column:5}},type:"if",locations:[{start:{line:344,column:4},end:{line:347,column:5}},{start:{line:344,column:4},end:{line:347,column:5}}],line:344},"13":{loc:{start:{line:351,column:7},end:{line:351,column:82}},type:"if",locations:[{start:{line:351,column:7},end:{line:351,column:82}},{start:{line:351,column:7},end:{line:351,column:82}}],line:351},"14":{loc:{start:{line:368,column:8},end:{line:370,column:9}},type:"if",locations:[{start:{line:368,column:8},end:{line:370,column:9}},{start:{line:368,column:8},end:{line:370,column:9}}],line:368},"15":{loc:{start:{line:372,column:4},end:{line:374,column:5}},type:"if",locations:[{start:{line:372,column:4},end:{line:374,column:5}},{start:{line:372,column:4},end:{line:374,column:5}}],line:372},"16":{loc:{start:{line:379,column:8},end:{line:382,column:9}},type:"if",locations:[{start:{line:379,column:8},end:{line:382,column:9}},{start:{line:379,column:8},end:{line:382,column:9}}],line:379},"17":{loc:{start:{line:401,column:8},end:{line:403,column:9}},type:"if",locations:[{start:{line:401,column:8},end:{line:403,column:9}},{start:{line:401,column:8},end:{line:403,column:9}}],line:401},"18":{loc:{start:{line:405,column:8},end:{line:407,column:9}},type:"if",locations:[{start:{line:405,column:8},end:{line:407,column:9}},{start:{line:405,column:8},end:{line:407,column:9}}],line:405},"19":{loc:{start:{line:408,column:8},end:{line:410,column:9}},type:"if",locations:[{start:{line:408,column:8},end:{line:410,column:9}},{start:{line:408,column:8},end:{line:410,column:9}}],line:408},"20":{loc:{start:{line:411,column:8},end:{line:413,column:9}},type:"if",locations:[{start:{line:411,column:8},end:{line:413,column:9}},{start:{line:411,column:8},end:{line:413,column:9}}],line:411},"21":{loc:{start:{line:414,column:8},end:{line:416,column:9}},type:"if",locations:[{start:{line:414,column:8},end:{line:416,column:9}},{start:{line:414,column:8},end:{line:416,column:9}}],line:414},"22":{loc:{start:{line:417,column:8},end:{line:419,column:9}},type:"if",locations:[{start:{line:417,column:8},end:{line:419,column:9}},{start:{line:417,column:8},end:{line:419,column:9}}],line:417},"23":{loc:{start:{line:421,column:8},end:{line:423,column:9}},type:"if",locations:[{start:{line:421,column:8},end:{line:423,column:9}},{start:{line:421,column:8},end:{line:423,column:9}}],line:421},"24":{loc:{start:{line:421,column:11},end:{line:421,column:81}},type:"binary-expr",locations:[{start:{line:421,column:11},end:{line:421,column:33}},{start:{line:421,column:37},end:{line:421,column:58}},{start:{line:421,column:62},end:{line:421,column:81}}],line:421},"25":{loc:{start:{line:426,column:12},end:{line:429,column:13}},type:"if",locations:[{start:{line:426,column:12},end:{line:429,column:13}},{start:{line:426,column:12},end:{line:429,column:13}}],line:426},"26":{loc:{start:{line:432,column:16},end:{line:441,column:21}},type:"if",locations:[{start:{line:432,column:16},end:{line:441,column:21}},{start:{line:432,column:16},end:{line:441,column:21}}],line:432},"27":{loc:{start:{line:439,column:25},end:{line:441,column:21}},type:"if",locations:[{start:{line:439,column:25},end:{line:441,column:21}},{start:{line:439,column:25},end:{line:441,column:21}}],line:439},"28":{loc:{start:{line:447,column:16},end:{line:469,column:17}},type:"if",locations:[{start:{line:447,column:16},end:{line:469,column:17}},{start:{line:447,column:16},end:{line:469,column:17}}],line:447},"29":{loc:{start:{line:467,column:21},end:{line:469,column:17}},type:"if",locations:[{start:{line:467,column:21},end:{line:469,column:17}},{start:{line:467,column:21},end:{line:469,column:17}}],line:467},"30":{loc:{start:{line:529,column:4},end:{line:532,column:5}},type:"if",locations:[{start:{line:529,column:4},end:{line:532,column:5}},{start:{line:529,column:4},end:{line:532,column:5}}],line:529},"31":{loc:{start:{line:533,column:4},end:{line:536,column:5}},type:"if",locations:[{start:{line:533,column:4},end:{line:536,column:5}},{start:{line:533,column:4},end:{line:536,column:5}}],line:533},"32":{loc:{start:{line:538,column:4},end:{line:540,column:5}},type:"if",locations:[{start:{line:538,column:4},end:{line:540,column:5}},{start:{line:538,column:4},end:{line:540,column:5}}],line:538},"33":{loc:{start:{line:543,column:8},end:{line:546,column:9}},type:"if",locations:[{start:{line:543,column:8},end:{line:546,column:9}},{start:{line:543,column:8},end:{line:546,column:9}}],line:543},"34":{loc:{start:{line:549,column:8},end:{line:578,column:9}},type:"if",locations:[{start:{line:549,column:8},end:{line:578,column:9}},{start:{line:549,column:8},end:{line:578,column:9}}],line:549},"35":{loc:{start:{line:564,column:12},end:{line:567,column:13}},type:"if",locations:[{start:{line:564,column:12},end:{line:567,column:13}},{start:{line:564,column:12},end:{line:567,column:13}}],line:564},"36":{loc:{start:{line:587,column:4},end:{line:590,column:5}},type:"if",locations:[{start:{line:587,column:4},end:{line:590,column:5}},{start:{line:587,column:4},end:{line:590,column:5}}],line:587},"37":{loc:{start:{line:593,column:8},end:{line:596,column:9}},type:"if",locations:[{start:{line:593,column:8},end:{line:596,column:9}},{start:{line:593,column:8},end:{line:596,column:9}}],line:593}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d8eaa6817916541252364a6dcf2fcb9a65c72ccc"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];cov_23gg8fho5w=function(){return actualCoverage;};return actualCoverage;}cov_23gg8fho5w();const express=(cov_23gg8fho5w().s[0]++,require('express'));//const bodyParser=require('body-parser');
const _=(cov_23gg8fho5w().s[1]++,require('lodash'));const{mongoose}=(cov_23gg8fho5w().s[2]++,require("./../db/mongoose.js"));const{track}=(cov_23gg8fho5w().s[3]++,require("./../models/track"));const{playlist}=(cov_23gg8fho5w().s[4]++,require("./../models/playlists"));const{album}=(cov_23gg8fho5w().s[5]++,require('./../models/album'));//const{artist}=require('./../models/artists');
var{User}=(cov_23gg8fho5w().s[6]++,require("./../models/users.js"));var{images}=(cov_23gg8fho5w().s[7]++,require("./../models/images.js"));// images model
const{ObjectID}=(cov_23gg8fho5w().s[8]++,require('mongodb'));const router=(cov_23gg8fho5w().s[9]++,express.Router());//app.listen(3000,()=>{console.log('started on port 3000');});
//app.use(bodyParser.json());
/** GetATrack
* ---------------------
* 
* @api {Get} api/Tracks/:id               Get a Track
* @apiName GetTrack
* @apiGroup Tracks
*
* 
* @apiParam {string}    id           the id of the track that the artist wants to delete 
* 
* @apiSuccess {object}               object of type track in JSON formatwith status code 200
*
* @apiSuccessExample {JSON} Success-Response:
*     HTTP/1.1 200 OK
*      {
*          ""tracks": {
        "rating": 10,
        "duration": 360000,
        "_id": "5e6b7dac91cb724878446635",
        "trackName": "Hello",
        "url": "cccc",
        "__v": 0
    }
*      }
* 
*    
* 
* @apiError  404                      [Track not found]
*  @apiErrorExample {JSON} Error-Response:
*     HTTP/1.1 404 Not Found
*     {
*       "message": "Track not found"
*     }
* 
* @apiError  404                    [Track not found]
*  @apiErrorExample {JSON} Error-Response:
*     HTTP/1.1 404 
*     {
*       "message": "invalid id"
*     }
*
*
*
* 
*/cov_23gg8fho5w().s[10]++;router.get('/tracks/:id',(req,res)=>{cov_23gg8fho5w().f[0]++;var id=(cov_23gg8fho5w().s[11]++,req.params.id);cov_23gg8fho5w().s[12]++;if(!ObjectID.isValid(id)){cov_23gg8fho5w().b[0][0]++;cov_23gg8fho5w().s[13]++;return res.status(404).json({"message":"invalid id"});}else{cov_23gg8fho5w().b[0][1]++;}cov_23gg8fho5w().s[14]++;track.findById(id).then(tracks=>{cov_23gg8fho5w().f[1]++;cov_23gg8fho5w().s[15]++;if(!tracks){cov_23gg8fho5w().b[1][0]++;cov_23gg8fho5w().s[16]++;return res.status(404).json({"message":"Track not found"});}else{cov_23gg8fho5w().b[1][1]++;}cov_23gg8fho5w().s[17]++;res.send({tracks});}).catch(e=>{cov_23gg8fho5w().f[2]++;cov_23gg8fho5w().s[18]++;return res.status(400).send();});});/**
* AddTracksToAPlaylist
 * ---------------------
 * 
 * @api {post} api/Playlists/:playlistId/Tracks               Add tracks to a playlist
 * @apiName AddTracksToAPlaylist
 * @apiGroup Playlists
 *
 * @apiHeader {string}  x-auth     
 *  
 *@apiParam {string}  playlistId
 * 
 * @apiParam {string[]}   url            a list of Urls to be passed in the body parameters
 * @apiSuccess 200                      [tracks has been successfully added to playlist]
 *   @apiSuccessExample {json} Success-Response:
 *     HTTP/1.1 200 OK
 *     {
 *      
 *       "message": "tracks added successfully"
 *     }
 * 
 * 
 * *@apiError  403                      [Forbidden because you crossed the limiting number of tracks in a playlist which is 1000]
 *  @apiErrorExample {JSON} Error-Response:
 *     HTTP/1.1 403 Forbidden
 *     {
 *        "message":  "Forbidden because you crossed the limiting number of tracks in a playlist which is 1000"
 *     }
 * 
 * @apiError 401   [authentication failed]
 *@apiErrorExample {JSON} Error-Response:
 *     HTTP/1.1 401 
 *     {
 *        "message":  "authentication failed"
 *     }
 * 
 * 
 * 
 * 
 * @apiError 404     [playlist not found]
*@apiErrorExample {JSON} Error-Response:
 *     HTTP/1.1 404 
 *     {
 *        "message":  "playlist not found"
 *     }
 * 
 * 
 */cov_23gg8fho5w().s[19]++;router.post('/tracks/:playlistId/playlists',async(req,res)=>{cov_23gg8fho5w().f[3]++;var flagg=(cov_23gg8fho5w().s[20]++,0);var userId;var token=(cov_23gg8fho5w().s[21]++,req.header('x-auth'));var url=(cov_23gg8fho5w().s[22]++,req.body.url);//console.log(url);
var tracksarr=(cov_23gg8fho5w().s[23]++,[{}]);cov_23gg8fho5w().s[24]++;if(url.length>10){cov_23gg8fho5w().b[2][0]++;cov_23gg8fho5w().s[25]++;res.status(403).json({"message":" Forbidden because you crossed the limit of tracks in a playlist which is 10"});}else{cov_23gg8fho5w().b[2][1]++;}var flag=(cov_23gg8fho5w().s[26]++,0);cov_23gg8fho5w().s[27]++;for(var i=(cov_23gg8fho5w().s[28]++,0);i<url.length;i++)//there is a problem when invalid urls are given   ( Error: Argument passed in must be a single String of 12 bytes or a string of 24 hex characters)
{cov_23gg8fho5w().s[29]++;await track.find({url:url[i]}).then(tracks=>{cov_23gg8fho5w().f[4]++;cov_23gg8fho5w().s[30]++;//console.log("gowaaaaaaalllllllllllllll")
//console.log("el tracks ely rag3a");
// console.log(JSON.stringify( tracks))
if(!tracks[0]){cov_23gg8fho5w().b[3][0]++;cov_23gg8fho5w().s[31]++;flag=1;// console.log("gowaaaaaaa")
//return res.status(404).json({"message":"the track was not found"});
cov_23gg8fho5w().s[32]++;return Promise.reject();}else{cov_23gg8fho5w().b[3][1]++;}cov_23gg8fho5w().s[33]++;tracksarr[i]=tracks;}).catch(e=>{cov_23gg8fho5w().f[5]++;cov_23gg8fho5w().s[34]++;return;});//res.status(400).send(e)});
cov_23gg8fho5w().s[35]++;if(flag){cov_23gg8fho5w().b[4][0]++;cov_23gg8fho5w().s[36]++;//console.log(flag);
break;}else{cov_23gg8fho5w().b[4][1]++;}}cov_23gg8fho5w().s[37]++;if(flag){cov_23gg8fho5w().b[5][0]++;cov_23gg8fho5w().s[38]++;return res.status(404).json({"message":"the track was not found"});}else{cov_23gg8fho5w().b[5][1]++;}//console.log("heloo");
var id=(cov_23gg8fho5w().s[39]++,req.params.playlistId);//console.log(id);
cov_23gg8fho5w().s[40]++;if(!ObjectID.isValid(id))//validate the playlist id
{cov_23gg8fho5w().b[6][0]++;cov_23gg8fho5w().s[41]++;return res.status(404).json({"message":"invalid id"});}else{cov_23gg8fho5w().b[6][1]++;}cov_23gg8fho5w().s[42]++;playlist.findById(id).then(async playlists=>{cov_23gg8fho5w().f[6]++;cov_23gg8fho5w().s[43]++;if(!playlists){cov_23gg8fho5w().b[7][0]++;cov_23gg8fho5w().s[44]++;return res.status(404).send({"message":"playlist not found"});}else{cov_23gg8fho5w().b[7][1]++;};//console.log(userId);
//console.log(playlist);
//console.log('wohooooooo')
cov_23gg8fho5w().s[45]++;await User.findByToken(token).then(user=>{cov_23gg8fho5w().f[7]++;cov_23gg8fho5w().s[46]++;if(!user){cov_23gg8fho5w().b[8][0]++;cov_23gg8fho5w().s[47]++;return Promise.reject();}else{cov_23gg8fho5w().b[8][1]++;}cov_23gg8fho5w().s[48]++;userId=user._id;}).catch(e=>{cov_23gg8fho5w().f[8]++;cov_23gg8fho5w().s[49]++;flagg=1;cov_23gg8fho5w().s[50]++;return res.status(401).json({"message":"authentication failed"});});cov_23gg8fho5w().s[51]++;if(flagg){cov_23gg8fho5w().b[9][0]++;cov_23gg8fho5w().s[52]++;return;}else{cov_23gg8fho5w().b[9][1]++;}cov_23gg8fho5w().s[53]++;if(!(playlists.userId.toString()===userId.toString())){cov_23gg8fho5w().b[10][0]++;cov_23gg8fho5w().s[54]++;return res.status(401).json({"message":"auth failed"});}else{cov_23gg8fho5w().b[10][1]++;}// console.log(playlist)
cov_23gg8fho5w().s[55]++;for(var i=(cov_23gg8fho5w().s[56]++,0);i<tracksarr.length;i++){var trackId=(cov_23gg8fho5w().s[57]++,_.map(tracksarr[i],"_id"));var len=(cov_23gg8fho5w().s[58]++,playlists.tracks.length);cov_23gg8fho5w().s[59]++;playlists.tracks[len]=ObjectID(trackId.toString());cov_23gg8fho5w().s[60]++;playlists.markModified('tracks');cov_23gg8fho5w().s[61]++;playlists.save();}//console.log(JSON.stringify(playlists));
//playlists.markModified('tracks')
//playlists.save();
cov_23gg8fho5w().s[62]++;console.log("end");cov_23gg8fho5w().s[63]++;return res.status(200).json({"message":'tracks added successfully'});});});/** 
 * GetSeveralTracks
 * ---------------------
 * 
 * @api {Get} api/Tracks               Get several Track
 * @apiName GetSeveralTracks
 * @apiGroup Tracks
 *
 * 
 * @apiParam {string[]}    id          An array of comma separated tracks Ids. Maximum 50 IDs. 
 * 
 * @apiSuccess {object[]}     200          a set objects of type tracks in JSON format with status code 200
 *
 * * @apiSuccessExample {JSON} Success-Response:
 *     HTTP/1.1 200 OK
[
    {
        "rating": 8,
        "_id": "5e74925ca9200c404c566eff",
        "artistId": "5e74925ca9200c404c566ef5",
        "trackName": "set fire to the rain",
        "duration": 240000,
        "image": {
            "_id": "5e74925ca9200c404c566ef2",
            "url": "www.images/imag23e/23454",
            "height": 176,
            "width": 65
        },
        "url": "nnnn",
        "__v": 0
    },
    {
        "rating": 9,
        "_id": "5e74925ca9200c404c566f03",
        "artistId": "5e74925ca9200c404c566ef7",
        "trackName": "Godzilla",
        "duration": 223000,
        "image": {
            "_id": "5e74925ca9200c404c566ef2",
            "url": "www.images/imag23e/23454",
            "height": 176,
            "width": 65
        },
        "url": "vvv",
        "__v": 0
    }
]
 *
 * 
 * *@apiError  404                      [Track not found]
 *  @apiErrorExample {JSON} Error-Response:
 *     HTTP/1.1 404 Not Found
 *     {
 *      "message": "can not find track"
 *     }
 * 
 * @apiError  404                      [invalid id]
 *  @apiErrorExample {JSON} Error-Response:
 *     HTTP/1.1 404 Not Found
 *     {
 *       "message" : "invalid id"
 *     }
 *
 *  @apiError  403                      
 *  @apiErrorExample {JSON} Error-Response:
 *     HTTP/1.1 403 forbidden
 *     {
 *       "message" : "max 50 Ids"
 *     }
 *  
 * 
 * 
 */cov_23gg8fho5w().s[64]++;router.get('/tracks',async(req,res)=>{cov_23gg8fho5w().f[9]++;var arr=(cov_23gg8fho5w().s[65]++,req.body.id);var returnedTrackArray=(cov_23gg8fho5w().s[66]++,[{}]);cov_23gg8fho5w().s[67]++;if(arr.length>50){cov_23gg8fho5w().b[11][0]++;cov_23gg8fho5w().s[68]++;return res.status(403).json({"message":" Forbidden maximum 50 Ids"});}else{cov_23gg8fho5w().b[11][1]++;}cov_23gg8fho5w().s[69]++;for(var i=(cov_23gg8fho5w().s[70]++,0);i<arr.length;i++){cov_23gg8fho5w().s[71]++;if(!ObjectID.isValid(arr[i])){cov_23gg8fho5w().b[12][0]++;cov_23gg8fho5w().s[72]++;return res.status(404).json({"message":"invalid id"});}else{cov_23gg8fho5w().b[12][1]++;}cov_23gg8fho5w().s[73]++;await track.findById(req.body.id[i]).then(tracks=>{cov_23gg8fho5w().f[10]++;cov_23gg8fho5w().s[74]++;if(!tracks){cov_23gg8fho5w().b[13][0]++;cov_23gg8fho5w().s[75]++;return res.status(404).json({"message":"can not find track"});}else{cov_23gg8fho5w().b[13][1]++;}cov_23gg8fho5w().s[76]++;returnedTrackArray[i]=tracks;}).catch(e=>{cov_23gg8fho5w().f[11]++;cov_23gg8fho5w().s[77]++;return res.status(400).send(e);});}cov_23gg8fho5w().s[78]++;res.send(returnedTrackArray);});//DELETE A TRACK
cov_23gg8fho5w().s[79]++;router.delete('/tracks',(req,res)=>{cov_23gg8fho5w().f[12]++;var token=(cov_23gg8fho5w().s[80]++,req.header('x-auth'));cov_23gg8fho5w().s[81]++;artist.findByToken(token).then(myartist=>{cov_23gg8fho5w().f[13]++;cov_23gg8fho5w().s[82]++;if(!myartist){cov_23gg8fho5w().b[14][0]++;cov_23gg8fho5w().s[83]++;return Promise.reject();}else{cov_23gg8fho5w().b[14][1]++;}var atristId2=(cov_23gg8fho5w().s[84]++,myartist._id);cov_23gg8fho5w().s[85]++;if(!req.body.trackName){cov_23gg8fho5w().b[15][0]++;cov_23gg8fho5w().s[86]++;return res.status(400).send("Pass the track name to delete");}else{cov_23gg8fho5w().b[15][1]++;}var trackName1=(cov_23gg8fho5w().s[87]++,req.body.trackName);//track name
cov_23gg8fho5w().s[88]++;track.findOneAndRemove({$and:[{artistId:atristId2},{trackName:trackName1}]}).then(delTracks=>{cov_23gg8fho5w().f[14]++;cov_23gg8fho5w().s[89]++;if(!delTracks){cov_23gg8fho5w().b[16][0]++;cov_23gg8fho5w().s[90]++;return res.status(404).send('Track not found to be deleted');}else{cov_23gg8fho5w().b[16][1]++;}cov_23gg8fho5w().s[91]++;res.status(200).send("Track "+trackName1+" was deleted succsesfully");}).catch(e=>{cov_23gg8fho5w().f[15]++;cov_23gg8fho5w().s[92]++;res.status(500).send("Could not delete track");});}).catch(e=>{cov_23gg8fho5w().f[16]++;cov_23gg8fho5w().s[93]++;res.status(401).send('Unauthorized Access');});});//ADD A TRACK
cov_23gg8fho5w().s[94]++;router.post('/tracks',(req,res)=>{cov_23gg8fho5w().f[17]++;var token=(cov_23gg8fho5w().s[95]++,req.header('x-auth'));cov_23gg8fho5w().s[96]++;artist.findByToken(token).then(myartist=>{cov_23gg8fho5w().f[18]++;cov_23gg8fho5w().s[97]++;if(!myartist){cov_23gg8fho5w().b[17][0]++;cov_23gg8fho5w().s[98]++;return Promise.reject();}else{cov_23gg8fho5w().b[17][1]++;}var atristId2=(cov_23gg8fho5w().s[99]++,myartist._id);cov_23gg8fho5w().s[100]++;if(!req.body.trackName){cov_23gg8fho5w().b[18][0]++;cov_23gg8fho5w().s[101]++;return res.status(400).send("Track name is required");}else{cov_23gg8fho5w().b[18][1]++;}cov_23gg8fho5w().s[102]++;if(!req.body.genre){cov_23gg8fho5w().b[19][0]++;cov_23gg8fho5w().s[103]++;return res.status(400).send("Track genre is required");}else{cov_23gg8fho5w().b[19][1]++;}cov_23gg8fho5w().s[104]++;if(!req.body.image){cov_23gg8fho5w().b[20][0]++;cov_23gg8fho5w().s[105]++;return res.status(400).send("Track image is required");}else{cov_23gg8fho5w().b[20][1]++;}cov_23gg8fho5w().s[106]++;if(!req.body.url){cov_23gg8fho5w().b[21][0]++;cov_23gg8fho5w().s[107]++;return res.status(400).send("Track url is required");}else{cov_23gg8fho5w().b[21][1]++;}cov_23gg8fho5w().s[108]++;if(!req.body.duration){cov_23gg8fho5w().b[22][0]++;cov_23gg8fho5w().s[109]++;return res.status(400).send("Track duration is required");}else{cov_23gg8fho5w().b[22][1]++;}//IF HEIGHT AND WIDTH ARE NOT REQUIRED -> TO BE REMOVED FROM THE OR CONDITION HERE
cov_23gg8fho5w().s[110]++;if((cov_23gg8fho5w().b[24][0]++,!req.body.image.height)||(cov_23gg8fho5w().b[24][1]++,!req.body.image.width)||(cov_23gg8fho5w().b[24][2]++,!req.body.image.url)){cov_23gg8fho5w().b[23][0]++;cov_23gg8fho5w().s[111]++;return res.status(400).send("Image Info of track has to be provided");}else{cov_23gg8fho5w().b[23][1]++;}cov_23gg8fho5w().s[112]++;track.findOne({url:req.body.url}).then(duptrackurl=>{cov_23gg8fho5w().f[19]++;cov_23gg8fho5w().s[113]++;if(duptrackurl){cov_23gg8fho5w().b[25][0]++;cov_23gg8fho5w().s[114]++;return res.status(409).send("This track is already created");}else{cov_23gg8fho5w().b[25][1]++;}var savedImage;cov_23gg8fho5w().s[115]++;images.findOne({url:req.body.image.url}).then(isImage=>{cov_23gg8fho5w().f[20]++;cov_23gg8fho5w().s[116]++;if(!isImage){cov_23gg8fho5w().b[26][0]++;cov_23gg8fho5w().s[117]++;savedImage=new images({url:req.body.image.url,height:req.body.image.height,width:req.body.image.width});cov_23gg8fho5w().s[118]++;savedImage.save();}else{cov_23gg8fho5w().b[26][1]++;cov_23gg8fho5w().s[119]++;if(isImage){cov_23gg8fho5w().b[27][0]++;cov_23gg8fho5w().s[120]++;savedImage=isImage;}else{cov_23gg8fho5w().b[27][1]++;}}});cov_23gg8fho5w().s[121]++;track.find({$and:[{artistId:atristId2},{trackName:req.body.trackName}]}).then(trackduplicate=>{cov_23gg8fho5w().f[21]++;cov_23gg8fho5w().s[122]++;if(trackduplicate.length==0){cov_23gg8fho5w().b[28][0]++;var trackInstance=(cov_23gg8fho5w().s[123]++,new track({artistId:atristId2,trackName:req.body.trackName,duration:req.body.duration,url:req.body.url,image:savedImage,genre:req.body.genre},e=>{cov_23gg8fho5w().f[22]++;cov_23gg8fho5w().s[124]++;res.status(500).send("Coult not add Track ("+req.body.trackName+")");}));cov_23gg8fho5w().s[125]++;trackInstance.save().then(doc=>{cov_23gg8fho5w().f[23]++;cov_23gg8fho5w().s[126]++;res.status(201).send(doc);}).catch(e=>{cov_23gg8fho5w().f[24]++;cov_23gg8fho5w().s[127]++;res.status(500).send("Coult not add Track ("+req.body.trackName+")");});}else{cov_23gg8fho5w().b[28][1]++;cov_23gg8fho5w().s[128]++;if(trackduplicate.length!=0){cov_23gg8fho5w().b[29][0]++;cov_23gg8fho5w().s[129]++;//409 is code for conflict
return res.status(409).send("Cannot create 2 Tracks with the same name ("+req.body.trackName+") for the same artist");}else{cov_23gg8fho5w().b[29][1]++;}};});});}).catch(e=>{cov_23gg8fho5w().f[25]++;cov_23gg8fho5w().s[130]++;res.status(401).send('Unauthorized Access');});});// Add a track
//     app.post('/tracks',async (req,res)=>
// {
//         var token = req.header('x-auth');
//          artist.findByToken(token).then((artist) => {
//          if(!artist){
//              console.log("you are not authorized to add a track")
//              return Promise.reject();
//          }
//          console.log("you are authorized to add a track");
//          var newTrack = new track(
//          {
//              artistId : artist._id,
//              trackName : req.body.trackName,
//              duration : req.body.duration,
//              url : req.body.url
//          })
//          console.log('Recieved info successfully');
//             newTrack.save().then((res)=>{
//                 console.log(res._id);
//                 console.log('saved')
//             },(err)=>{
//                 console.log(err);
//                 res.status(500).send('Insertion of new track has failed');
//             }
//             ).catch((e) => {
//                 console.log(e);
//                 return Promise.reject();
//             })
//         }).catch((e)=>{
//             console.log(e);
//             return Promise.reject();
//            });
//            res.status(200).send('Inserted succesfully');
//         });
///////// Like a track ///////////
cov_23gg8fho5w().s[131]++;router.post('/tracks/like/:id',(req,res)=>{cov_23gg8fho5w().f[26]++;var trackId=(cov_23gg8fho5w().s[132]++,req.params.id);var token=(cov_23gg8fho5w().s[133]++,req.header('x-auth'));cov_23gg8fho5w().s[134]++;if(!token){cov_23gg8fho5w().b[30][0]++;cov_23gg8fho5w().s[135]++;res.status(400).send('You should Pass a token to access your liked tracks');}else{cov_23gg8fho5w().b[30][1]++;}cov_23gg8fho5w().s[136]++;if(!ObjectID.isValid(trackId)){cov_23gg8fho5w().b[31][0]++;cov_23gg8fho5w().s[137]++;return res.status(404).send("invalid id");}else{cov_23gg8fho5w().b[31][1]++;}cov_23gg8fho5w().s[138]++;track.findOne({_id:trackId}).then(track=>{cov_23gg8fho5w().f[27]++;cov_23gg8fho5w().s[139]++;if(!track){cov_23gg8fho5w().b[32][0]++;cov_23gg8fho5w().s[140]++;res.status(404).send('their is no such a track in the database');}else{cov_23gg8fho5w().b[32][1]++;}});cov_23gg8fho5w().s[141]++;User.findByToken(token).then(user=>{cov_23gg8fho5w().f[28]++;cov_23gg8fho5w().s[142]++;if(!user){cov_23gg8fho5w().b[33][0]++;cov_23gg8fho5w().s[143]++;res.status(401).send();}else{cov_23gg8fho5w().b[33][1]++;}cov_23gg8fho5w().s[144]++;console.log('user was found');var len=(cov_23gg8fho5w().s[145]++,user.likedTracks.length);cov_23gg8fho5w().s[146]++;if(len==0){cov_23gg8fho5w().b[34][0]++;cov_23gg8fho5w().s[147]++;user.likedTracks[0]=ObjectID(trackId.toString());cov_23gg8fho5w().s[148]++;user.markModified('likedTracks');cov_23gg8fho5w().s[149]++;user.save();cov_23gg8fho5w().s[150]++;track.findOne({_id:trackId}).then(track=>{cov_23gg8fho5w().f[29]++;cov_23gg8fho5w().s[151]++;track.likes=track.likes+1;cov_23gg8fho5w().s[152]++;track.markModified('likes');cov_23gg8fho5w().s[153]++;track.save();});cov_23gg8fho5w().s[154]++;res.status(200).send();}else{cov_23gg8fho5w().b[34][1]++;cov_23gg8fho5w().s[155]++;for(var i=(cov_23gg8fho5w().s[156]++,0);i<len;i++){cov_23gg8fho5w().s[157]++;if(trackId==user.likedTracks[i]){cov_23gg8fho5w().b[35][0]++;cov_23gg8fho5w().s[158]++;return res.status(403).send('you are trying to like the same track twice');}else{cov_23gg8fho5w().b[35][1]++;}}cov_23gg8fho5w().s[159]++;user.likedTracks[len]=ObjectID(trackId.toString());cov_23gg8fho5w().s[160]++;user.markModified('likedTracks');cov_23gg8fho5w().s[161]++;user.save();cov_23gg8fho5w().s[162]++;track.findOne({_id:trackId}).then(track=>{cov_23gg8fho5w().f[30]++;cov_23gg8fho5w().s[163]++;track.likes=track.likes+1;cov_23gg8fho5w().s[164]++;track.markModified('likes');cov_23gg8fho5w().s[165]++;track.save();});cov_23gg8fho5w().s[166]++;res.status(200).send();}});});/////// Get Liked Tracks //////////
cov_23gg8fho5w().s[167]++;router.get('/tracks/like/me',(req,res)=>{cov_23gg8fho5w().f[31]++;var token=(cov_23gg8fho5w().s[168]++,req.header('x-auth'));cov_23gg8fho5w().s[169]++;if(!token){cov_23gg8fho5w().b[36][0]++;cov_23gg8fho5w().s[170]++;res.status(400).send('You should Pass a token to access your liked tracks');}else{cov_23gg8fho5w().b[36][1]++;}cov_23gg8fho5w().s[171]++;User.findByToken(token).then(user=>{cov_23gg8fho5w().f[32]++;cov_23gg8fho5w().s[172]++;if(!user){cov_23gg8fho5w().b[37][0]++;cov_23gg8fho5w().s[173]++;res.status(401).send('you are not a user or your token is expired');}else{cov_23gg8fho5w().b[37][1]++;}cov_23gg8fho5w().s[174]++;res.status(302).send(user.likedTracks);}).catch(e=>{cov_23gg8fho5w().f[33]++;cov_23gg8fho5w().s[175]++;res.status(500).send('invalid token');});});cov_23gg8fho5w().s[176]++;module.exports=router;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlRyYWNrc0NvbnRyb2xsZXIuanMiXSwibmFtZXMiOlsiZXhwcmVzcyIsInJlcXVpcmUiLCJfIiwibW9uZ29vc2UiLCJ0cmFjayIsInBsYXlsaXN0IiwiYWxidW0iLCJVc2VyIiwiaW1hZ2VzIiwiT2JqZWN0SUQiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJnZXQiLCJyZXEiLCJyZXMiLCJpZCIsInBhcmFtcyIsImlzVmFsaWQiLCJzdGF0dXMiLCJqc29uIiwiZmluZEJ5SWQiLCJ0aGVuIiwidHJhY2tzIiwic2VuZCIsImNhdGNoIiwiZSIsInBvc3QiLCJmbGFnZyIsInVzZXJJZCIsInRva2VuIiwiaGVhZGVyIiwidXJsIiwiYm9keSIsInRyYWNrc2FyciIsImxlbmd0aCIsImZsYWciLCJpIiwiZmluZCIsIlByb21pc2UiLCJyZWplY3QiLCJwbGF5bGlzdElkIiwicGxheWxpc3RzIiwiZmluZEJ5VG9rZW4iLCJ1c2VyIiwiX2lkIiwidG9TdHJpbmciLCJ0cmFja0lkIiwibWFwIiwibGVuIiwibWFya01vZGlmaWVkIiwic2F2ZSIsImNvbnNvbGUiLCJsb2ciLCJhcnIiLCJyZXR1cm5lZFRyYWNrQXJyYXkiLCJkZWxldGUiLCJhcnRpc3QiLCJteWFydGlzdCIsImF0cmlzdElkMiIsInRyYWNrTmFtZSIsInRyYWNrTmFtZTEiLCJmaW5kT25lQW5kUmVtb3ZlIiwiJGFuZCIsImFydGlzdElkIiwiZGVsVHJhY2tzIiwiZ2VucmUiLCJpbWFnZSIsImR1cmF0aW9uIiwiaGVpZ2h0Iiwid2lkdGgiLCJmaW5kT25lIiwiZHVwdHJhY2t1cmwiLCJzYXZlZEltYWdlIiwiaXNJbWFnZSIsInRyYWNrZHVwbGljYXRlIiwidHJhY2tJbnN0YW5jZSIsImRvYyIsImxpa2VkVHJhY2tzIiwibGlrZXMiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoid3N5QkFBQSxLQUFNQSxDQUFBQSxPQUFPLDBCQUFDQyxPQUFPLENBQUMsU0FBRCxDQUFSLENBQWIsQ0FDQTtBQUNBLEtBQU1D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STdCLEdBQUcsQ0FBQ0ksTUFBSixDQUFXLEdBQVgsRUFBZ0JLLElBQWhCLENBQXFCLDZDQUFyQixFQUNILENBSEQsa0NBREosMEJBS0lULEdBQUcsQ0FBQ0ksTUFBSixDQUFXLEdBQVgsRUFBZ0JLLElBQWhCLENBQXFCb0IsSUFBSSxDQUFDa0MsV0FBMUIsRUFDSCxDQVBELEVBT0dyRCxLQVBILENBT1VDLENBQUQsRUFDVCxvREFDSVgsR0FBRyxDQUFDSSxNQUFKLENBQVcsR0FBWCxFQUFnQkssSUFBaEIsQ0FBcUIsZUFBckIsRUFDSCxDQVZELEVBV0gsQ0FsQkQsRSwwQkFvQkF3RCxNQUFNLENBQUNDLE9BQVAsQ0FBZXRFLE1BQWYiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzPXJlcXVpcmUoJ2V4cHJlc3MnKTtcclxuLy9jb25zdCBib2R5UGFyc2VyPXJlcXVpcmUoJ2JvZHktcGFyc2VyJyk7XHJcbmNvbnN0IF89cmVxdWlyZSAoJ2xvZGFzaCcpO1xyXG5jb25zdCB7IG1vbmdvb3NlIH0gPSByZXF1aXJlKFwiLi8uLi9kYi9tb25nb29zZS5qc1wiKTtcclxuY29uc3R7dHJhY2t9PXJlcXVpcmUoXCIuLy4uL21vZGVscy90cmFja1wiKTtcclxuXHJcblxyXG5jb25zdHtwbGF5bGlzdH09cmVxdWlyZShcIi4vLi4vbW9kZWxzL3BsYXlsaXN0c1wiKTtcclxuY29uc3R7YWxidW19PXJlcXVpcmUoJy4vLi4vbW9kZWxzL2FsYnVtJyk7XHJcbi8vY29uc3R7YXJ0aXN0fT1yZXF1aXJlKCcuLy4uL21vZGVscy9hcnRpc3RzJyk7XHJcbnZhciB7IFVzZXIgfSA9IHJlcXVpcmUoXCIuLy4uL21vZGVscy91c2Vycy5qc1wiKTtcclxudmFye2ltYWdlc309IHJlcXVpcmUoXCIuLy4uL21vZGVscy9pbWFnZXMuanNcIik7IC8vIGltYWdlcyBtb2RlbFxyXG5cclxuXHJcbmNvbnN0IHtPYmplY3RJRH09cmVxdWlyZSgnbW9uZ29kYicpO1xyXG5cclxuY29uc3Qgcm91dGVyPWV4cHJlc3MuUm91dGVyKCk7XHJcblxyXG5cclxuLy9hcHAubGlzdGVuKDMwMDAsKCk9Pntjb25zb2xlLmxvZygnc3RhcnRlZCBvbiBwb3J0IDMwMDAnKTt9KTtcclxuLy9hcHAudXNlKGJvZHlQYXJzZXIuanNvbigpKTtcclxuXHJcblxyXG4vKiogR2V0QVRyYWNrXHJcbiogLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiogXHJcbiogQGFwaSB7R2V0fSBhcGkvVHJhY2tzLzppZCAgICAgICAgICAgICAgIEdldCBhIFRyYWNrXHJcbiogQGFwaU5hbWUgR2V0VHJhY2tcclxuKiBAYXBpR3JvdXAgVHJhY2tzXHJcbipcclxuKiBcclxuKiBAYXBpUGFyYW0ge3N0cmluZ30gICAgaWQgICAgICAgICAgIHRoZSBpZCBvZiB0aGUgdHJhY2sgdGhhdCB0aGUgYXJ0aXN0IHdhbnRzIHRvIGRlbGV0ZSBcclxuKiBcclxuKiBAYXBpU3VjY2VzcyB7b2JqZWN0fSAgICAgICAgICAgICAgIG9iamVjdCBvZiB0eXBlIHRyYWNrIGluIEpTT04gZm9ybWF0d2l0aCBzdGF0dXMgY29kZSAyMDBcclxuKlxyXG4qIEBhcGlTdWNjZXNzRXhhbXBsZSB7SlNPTn0gU3VjY2Vzcy1SZXNwb25zZTpcclxuKiAgICAgSFRUUC8xLjEgMjAwIE9LXHJcbiogICAgICB7XHJcbiogICAgICAgICAgXCJcInRyYWNrc1wiOiB7XHJcbiAgICAgICAgXCJyYXRpbmdcIjogMTAsXHJcbiAgICAgICAgXCJkdXJhdGlvblwiOiAzNjAwMDAsXHJcbiAgICAgICAgXCJfaWRcIjogXCI1ZTZiN2RhYzkxY2I3MjQ4Nzg0NDY2MzVcIixcclxuICAgICAgICBcInRyYWNrTmFtZVwiOiBcIkhlbGxvXCIsXHJcbiAgICAgICAgXCJ1cmxcIjogXCJjY2NjXCIsXHJcbiAgICAgICAgXCJfX3ZcIjogMFxyXG4gICAgfVxyXG4qICAgICAgfVxyXG4qIFxyXG4qICAgIFxyXG4qIFxyXG4qIEBhcGlFcnJvciAgNDA0ICAgICAgICAgICAgICAgICAgICAgIFtUcmFjayBub3QgZm91bmRdXHJcbiogIEBhcGlFcnJvckV4YW1wbGUge0pTT059IEVycm9yLVJlc3BvbnNlOlxyXG4qICAgICBIVFRQLzEuMSA0MDQgTm90IEZvdW5kXHJcbiogICAgIHtcclxuKiAgICAgICBcIm1lc3NhZ2VcIjogXCJUcmFjayBub3QgZm91bmRcIlxyXG4qICAgICB9XHJcbiogXHJcbiogQGFwaUVycm9yICA0MDQgICAgICAgICAgICAgICAgICAgIFtUcmFjayBub3QgZm91bmRdXHJcbiogIEBhcGlFcnJvckV4YW1wbGUge0pTT059IEVycm9yLVJlc3BvbnNlOlxyXG4qICAgICBIVFRQLzEuMSA0MDQgXHJcbiogICAgIHtcclxuKiAgICAgICBcIm1lc3NhZ2VcIjogXCJpbnZhbGlkIGlkXCJcclxuKiAgICAgfVxyXG4qXHJcbipcclxuKlxyXG4qIFxyXG4qL1xyXG5yb3V0ZXIuZ2V0KCcvdHJhY2tzLzppZCcsIChyZXEscmVzKT0+e1xyXG52YXIgaWQ9cmVxLnBhcmFtcy5pZDtcclxuaWYoIU9iamVjdElELmlzVmFsaWQoaWQpKVxyXG57XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe1wibWVzc2FnZVwiOlwiaW52YWxpZCBpZFwifSk7XHJcbn1cclxuXHJcbiB0cmFjay5maW5kQnlJZChpZCkudGhlbigodHJhY2tzKT0+e1xyXG4gICAgaWYoIXRyYWNrcyl7cmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHtcIm1lc3NhZ2VcIjpcIlRyYWNrIG5vdCBmb3VuZFwifSk7fVxyXG4gICAgcmVzLnNlbmQoe3RyYWNrc30pXHJcblxyXG59KS5jYXRjaCgoZSk9PnJlcy5zdGF0dXMoNDAwKS5zZW5kKCkpO1xyXG5cclxufSlcclxuXHJcblxyXG4vKipcclxuKiBBZGRUcmFja3NUb0FQbGF5bGlzdFxyXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICogXHJcbiAqIEBhcGkge3Bvc3R9IGFwaS9QbGF5bGlzdHMvOnBsYXlsaXN0SWQvVHJhY2tzICAgICAgICAgICAgICAgQWRkIHRyYWNrcyB0byBhIHBsYXlsaXN0XHJcbiAqIEBhcGlOYW1lIEFkZFRyYWNrc1RvQVBsYXlsaXN0XHJcbiAqIEBhcGlHcm91cCBQbGF5bGlzdHNcclxuICpcclxuICogQGFwaUhlYWRlciB7c3RyaW5nfSAgeC1hdXRoICAgICBcclxuICogIFxyXG4gKkBhcGlQYXJhbSB7c3RyaW5nfSAgcGxheWxpc3RJZFxyXG4gKiBcclxuICogQGFwaVBhcmFtIHtzdHJpbmdbXX0gICB1cmwgICAgICAgICAgICBhIGxpc3Qgb2YgVXJscyB0byBiZSBwYXNzZWQgaW4gdGhlIGJvZHkgcGFyYW1ldGVyc1xyXG4gKiBAYXBpU3VjY2VzcyAyMDAgICAgICAgICAgICAgICAgICAgICAgW3RyYWNrcyBoYXMgYmVlbiBzdWNjZXNzZnVsbHkgYWRkZWQgdG8gcGxheWxpc3RdXHJcbiAqICAgQGFwaVN1Y2Nlc3NFeGFtcGxlIHtqc29ufSBTdWNjZXNzLVJlc3BvbnNlOlxyXG4gKiAgICAgSFRUUC8xLjEgMjAwIE9LXHJcbiAqICAgICB7XHJcbiAqICAgICAgXHJcbiAqICAgICAgIFwibWVzc2FnZVwiOiBcInRyYWNrcyBhZGRlZCBzdWNjZXNzZnVsbHlcIlxyXG4gKiAgICAgfVxyXG4gKiBcclxuICogXHJcbiAqICpAYXBpRXJyb3IgIDQwMyAgICAgICAgICAgICAgICAgICAgICBbRm9yYmlkZGVuIGJlY2F1c2UgeW91IGNyb3NzZWQgdGhlIGxpbWl0aW5nIG51bWJlciBvZiB0cmFja3MgaW4gYSBwbGF5bGlzdCB3aGljaCBpcyAxMDAwXVxyXG4gKiAgQGFwaUVycm9yRXhhbXBsZSB7SlNPTn0gRXJyb3ItUmVzcG9uc2U6XHJcbiAqICAgICBIVFRQLzEuMSA0MDMgRm9yYmlkZGVuXHJcbiAqICAgICB7XHJcbiAqICAgICAgICBcIm1lc3NhZ2VcIjogIFwiRm9yYmlkZGVuIGJlY2F1c2UgeW91IGNyb3NzZWQgdGhlIGxpbWl0aW5nIG51bWJlciBvZiB0cmFja3MgaW4gYSBwbGF5bGlzdCB3aGljaCBpcyAxMDAwXCJcclxuICogICAgIH1cclxuICogXHJcbiAqIEBhcGlFcnJvciA0MDEgICBbYXV0aGVudGljYXRpb24gZmFpbGVkXVxyXG4gKkBhcGlFcnJvckV4YW1wbGUge0pTT059IEVycm9yLVJlc3BvbnNlOlxyXG4gKiAgICAgSFRUUC8xLjEgNDAxIFxyXG4gKiAgICAge1xyXG4gKiAgICAgICAgXCJtZXNzYWdlXCI6ICBcImF1dGhlbnRpY2F0aW9uIGZhaWxlZFwiXHJcbiAqICAgICB9XHJcbiAqIFxyXG4gKiBcclxuICogXHJcbiAqIFxyXG4gKiBAYXBpRXJyb3IgNDA0ICAgICBbcGxheWxpc3Qgbm90IGZvdW5kXVxyXG4qQGFwaUVycm9yRXhhbXBsZSB7SlNPTn0gRXJyb3ItUmVzcG9uc2U6XHJcbiAqICAgICBIVFRQLzEuMSA0MDQgXHJcbiAqICAgICB7XHJcbiAqICAgICAgICBcIm1lc3NhZ2VcIjogIFwicGxheWxpc3Qgbm90IGZvdW5kXCJcclxuICogICAgIH1cclxuICogXHJcbiAqIFxyXG4gKi9cclxuXHJcbnJvdXRlci5wb3N0KCcvdHJhY2tzLzpwbGF5bGlzdElkL3BsYXlsaXN0cycsYXN5bmMgKHJlcSxyZXMpPT5cclxue1xyXG4gICAgdmFyIGZsYWdnPTBcclxuICAgIHZhciB1c2VySWQ7XHJcbiAgICAgdmFyIHRva2VuID0gcmVxLmhlYWRlcigneC1hdXRoJyk7XHJcblxyXG52YXIgdXJsPSByZXEuYm9keS51cmw7XHJcbi8vY29uc29sZS5sb2codXJsKTtcclxuXHJcblxyXG52YXIgdHJhY2tzYXJyPVt7fV07XHJcbmlmKHVybC5sZW5ndGg+MTApXHJcbntcclxuICAgIHJlcy5zdGF0dXMoNDAzKS5qc29uKHtcIm1lc3NhZ2VcIjpcIiBGb3JiaWRkZW4gYmVjYXVzZSB5b3UgY3Jvc3NlZCB0aGUgbGltaXQgb2YgdHJhY2tzIGluIGEgcGxheWxpc3Qgd2hpY2ggaXMgMTBcIn0pO1xyXG59XHJcbnZhciBmbGFnPTA7XHJcbmZvcih2YXIgaT0wO2k8dXJsLmxlbmd0aDtpKyspICAgLy90aGVyZSBpcyBhIHByb2JsZW0gd2hlbiBpbnZhbGlkIHVybHMgYXJlIGdpdmVuICAgKCBFcnJvcjogQXJndW1lbnQgcGFzc2VkIGluIG11c3QgYmUgYSBzaW5nbGUgU3RyaW5nIG9mIDEyIGJ5dGVzIG9yIGEgc3RyaW5nIG9mIDI0IGhleCBjaGFyYWN0ZXJzKVxyXG57XHJcbiAgICBcclxuICAgIGF3YWl0IHRyYWNrLmZpbmQoe3VybDogdXJsW2ldfSkudGhlbigodHJhY2tzKT0+XHJcbntcclxuICAgIC8vY29uc29sZS5sb2coXCJnb3dhYWFhYWFhbGxsbGxsbGxsbGxsbGxsXCIpXHJcbiAgICAvL2NvbnNvbGUubG9nKFwiZWwgdHJhY2tzIGVseSByYWczYVwiKTtcclxuICAgLy8gY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkoIHRyYWNrcykpXHJcbiAgICBpZighdHJhY2tzWzBdKSBcclxuICAgeyBcclxuICAgICAgIGZsYWc9MTtcclxuICAgICAgLy8gY29uc29sZS5sb2coXCJnb3dhYWFhYWFhXCIpXHJcbiAgICAvL3JldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7XCJtZXNzYWdlXCI6XCJ0aGUgdHJhY2sgd2FzIG5vdCBmb3VuZFwifSk7XHJcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoKTtcclxuICAgfVxyXG4gICAgIHRyYWNrc2FycltpXT10cmFja3M7XHJcbiBcclxuXHJcbn0pLmNhdGNoKChlKT0+eyByZXR1cm4gfSkvL3Jlcy5zdGF0dXMoNDAwKS5zZW5kKGUpfSk7XHJcblxyXG5pZihmbGFnKSB7XHJcbiAgICAvL2NvbnNvbGUubG9nKGZsYWcpO1xyXG4gICAgYnJlYWt9XHJcbn1cclxuXHJcblxyXG5cclxuaWYgKGZsYWcpIHtyZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe1wibWVzc2FnZVwiOlwidGhlIHRyYWNrIHdhcyBub3QgZm91bmRcIn0pO31cclxuXHJcbi8vY29uc29sZS5sb2coXCJoZWxvb1wiKTtcclxuXHJcblxyXG52YXIgaWQ9cmVxLnBhcmFtcy5wbGF5bGlzdElkO1xyXG4vL2NvbnNvbGUubG9nKGlkKTtcclxuXHJcbmlmKCFPYmplY3RJRC5pc1ZhbGlkKGlkKSkgIC8vdmFsaWRhdGUgdGhlIHBsYXlsaXN0IGlkXHJcbntcclxucmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHtcIm1lc3NhZ2VcIjpcImludmFsaWQgaWRcIn0pO1xyXG59XHJcblxyXG5wbGF5bGlzdC5maW5kQnlJZChpZCkudGhlbihhc3luYyAocGxheWxpc3RzKT0+e1xyXG5cclxuaWYoIXBsYXlsaXN0cykge3JldHVybiByZXMuc3RhdHVzKDQwNCkuc2VuZCh7XCJtZXNzYWdlXCI6XCJwbGF5bGlzdCBub3QgZm91bmRcIn0pfTtcclxuLy9jb25zb2xlLmxvZyh1c2VySWQpO1xyXG4vL2NvbnNvbGUubG9nKHBsYXlsaXN0KTtcclxuXHJcbi8vY29uc29sZS5sb2coJ3dvaG9vb29vb28nKVxyXG5cclxuXHJcbmF3YWl0IFVzZXIuZmluZEJ5VG9rZW4odG9rZW4pLnRoZW4oKHVzZXIpID0+IHtcclxuICAgIGlmKCF1c2VyKXtcclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoKTtcclxuICAgIH1cclxuXHJcbiAgdXNlcklkPXVzZXIuX2lkO1xyXG5cclxuXHJcbn0pLmNhdGNoKChlKT0+e1xyXG4gICBmbGFnZz0xXHJcblxyXG4gICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oe1wibWVzc2FnZVwiOlwiYXV0aGVudGljYXRpb24gZmFpbGVkXCJ9KX0pXHJcblxyXG5pZihmbGFnZylcclxue1xyXG4gICByZXR1cm47XHJcbn1cclxuXHJcblxyXG5cclxuaWYoISAocGxheWxpc3RzLnVzZXJJZC50b1N0cmluZygpPT09IHVzZXJJZC50b1N0cmluZygpKSkgIHtyZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oe1wibWVzc2FnZVwiOlwiYXV0aCBmYWlsZWRcIn0pO31cclxuXHJcbi8vIGNvbnNvbGUubG9nKHBsYXlsaXN0KVxyXG5mb3IodmFyIGk9MDtpPHRyYWNrc2Fyci5sZW5ndGg7aSsrKVxyXG57XHJcbnZhciB0cmFja0lkPSBfLm1hcCh0cmFja3NhcnJbaV0sXCJfaWRcIik7XHJcblxyXG5cclxuXHJcbiB2YXIgbGVuID1wbGF5bGlzdHMudHJhY2tzLmxlbmd0aDtcclxuIHBsYXlsaXN0cy50cmFja3NbbGVuXT1PYmplY3RJRCh0cmFja0lkLnRvU3RyaW5nKCkpXHJcbiBcclxuIHBsYXlsaXN0cy5tYXJrTW9kaWZpZWQoJ3RyYWNrcycpXHJcbiBwbGF5bGlzdHMuc2F2ZSgpO1xyXG5cclxuXHJcbn1cclxuLy9jb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShwbGF5bGlzdHMpKTtcclxuLy9wbGF5bGlzdHMubWFya01vZGlmaWVkKCd0cmFja3MnKVxyXG4vL3BsYXlsaXN0cy5zYXZlKCk7XHJcbmNvbnNvbGUubG9nKFwiZW5kXCIpXHJcblxyXG5yZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1wibWVzc2FnZVwiOid0cmFja3MgYWRkZWQgc3VjY2Vzc2Z1bGx5J30pO1xyXG59KVxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4gfSlcclxuXHJcblxyXG5cclxuXHJcblxyXG4vKiogXHJcbiAqIEdldFNldmVyYWxUcmFja3NcclxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAqIFxyXG4gKiBAYXBpIHtHZXR9IGFwaS9UcmFja3MgICAgICAgICAgICAgICBHZXQgc2V2ZXJhbCBUcmFja1xyXG4gKiBAYXBpTmFtZSBHZXRTZXZlcmFsVHJhY2tzXHJcbiAqIEBhcGlHcm91cCBUcmFja3NcclxuICpcclxuICogXHJcbiAqIEBhcGlQYXJhbSB7c3RyaW5nW119ICAgIGlkICAgICAgICAgIEFuIGFycmF5IG9mIGNvbW1hIHNlcGFyYXRlZCB0cmFja3MgSWRzLiBNYXhpbXVtIDUwIElEcy4gXHJcbiAqIFxyXG4gKiBAYXBpU3VjY2VzcyB7b2JqZWN0W119ICAgICAyMDAgICAgICAgICAgYSBzZXQgb2JqZWN0cyBvZiB0eXBlIHRyYWNrcyBpbiBKU09OIGZvcm1hdCB3aXRoIHN0YXR1cyBjb2RlIDIwMFxyXG4gKlxyXG4gKiAqIEBhcGlTdWNjZXNzRXhhbXBsZSB7SlNPTn0gU3VjY2Vzcy1SZXNwb25zZTpcclxuICogICAgIEhUVFAvMS4xIDIwMCBPS1xyXG5bXHJcbiAgICB7XHJcbiAgICAgICAgXCJyYXRpbmdcIjogOCxcclxuICAgICAgICBcIl9pZFwiOiBcIjVlNzQ5MjVjYTkyMDBjNDA0YzU2NmVmZlwiLFxyXG4gICAgICAgIFwiYXJ0aXN0SWRcIjogXCI1ZTc0OTI1Y2E5MjAwYzQwNGM1NjZlZjVcIixcclxuICAgICAgICBcInRyYWNrTmFtZVwiOiBcInNldCBmaXJlIHRvIHRoZSByYWluXCIsXHJcbiAgICAgICAgXCJkdXJhdGlvblwiOiAyNDAwMDAsXHJcbiAgICAgICAgXCJpbWFnZVwiOiB7XHJcbiAgICAgICAgICAgIFwiX2lkXCI6IFwiNWU3NDkyNWNhOTIwMGM0MDRjNTY2ZWYyXCIsXHJcbiAgICAgICAgICAgIFwidXJsXCI6IFwid3d3LmltYWdlcy9pbWFnMjNlLzIzNDU0XCIsXHJcbiAgICAgICAgICAgIFwiaGVpZ2h0XCI6IDE3NixcclxuICAgICAgICAgICAgXCJ3aWR0aFwiOiA2NVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJ1cmxcIjogXCJubm5uXCIsXHJcbiAgICAgICAgXCJfX3ZcIjogMFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBcInJhdGluZ1wiOiA5LFxyXG4gICAgICAgIFwiX2lkXCI6IFwiNWU3NDkyNWNhOTIwMGM0MDRjNTY2ZjAzXCIsXHJcbiAgICAgICAgXCJhcnRpc3RJZFwiOiBcIjVlNzQ5MjVjYTkyMDBjNDA0YzU2NmVmN1wiLFxyXG4gICAgICAgIFwidHJhY2tOYW1lXCI6IFwiR29kemlsbGFcIixcclxuICAgICAgICBcImR1cmF0aW9uXCI6IDIyMzAwMCxcclxuICAgICAgICBcImltYWdlXCI6IHtcclxuICAgICAgICAgICAgXCJfaWRcIjogXCI1ZTc0OTI1Y2E5MjAwYzQwNGM1NjZlZjJcIixcclxuICAgICAgICAgICAgXCJ1cmxcIjogXCJ3d3cuaW1hZ2VzL2ltYWcyM2UvMjM0NTRcIixcclxuICAgICAgICAgICAgXCJoZWlnaHRcIjogMTc2LFxyXG4gICAgICAgICAgICBcIndpZHRoXCI6IDY1XHJcbiAgICAgICAgfSxcclxuICAgICAgICBcInVybFwiOiBcInZ2dlwiLFxyXG4gICAgICAgIFwiX192XCI6IDBcclxuICAgIH1cclxuXVxyXG4gKlxyXG4gKiBcclxuICogKkBhcGlFcnJvciAgNDA0ICAgICAgICAgICAgICAgICAgICAgIFtUcmFjayBub3QgZm91bmRdXHJcbiAqICBAYXBpRXJyb3JFeGFtcGxlIHtKU09OfSBFcnJvci1SZXNwb25zZTpcclxuICogICAgIEhUVFAvMS4xIDQwNCBOb3QgRm91bmRcclxuICogICAgIHtcclxuICogICAgICBcIm1lc3NhZ2VcIjogXCJjYW4gbm90IGZpbmQgdHJhY2tcIlxyXG4gKiAgICAgfVxyXG4gKiBcclxuICogQGFwaUVycm9yICA0MDQgICAgICAgICAgICAgICAgICAgICAgW2ludmFsaWQgaWRdXHJcbiAqICBAYXBpRXJyb3JFeGFtcGxlIHtKU09OfSBFcnJvci1SZXNwb25zZTpcclxuICogICAgIEhUVFAvMS4xIDQwNCBOb3QgRm91bmRcclxuICogICAgIHtcclxuICogICAgICAgXCJtZXNzYWdlXCIgOiBcImludmFsaWQgaWRcIlxyXG4gKiAgICAgfVxyXG4gKlxyXG4gKiAgQGFwaUVycm9yICA0MDMgICAgICAgICAgICAgICAgICAgICAgXHJcbiAqICBAYXBpRXJyb3JFeGFtcGxlIHtKU09OfSBFcnJvci1SZXNwb25zZTpcclxuICogICAgIEhUVFAvMS4xIDQwMyBmb3JiaWRkZW5cclxuICogICAgIHtcclxuICogICAgICAgXCJtZXNzYWdlXCIgOiBcIm1heCA1MCBJZHNcIlxyXG4gKiAgICAgfVxyXG4gKiAgXHJcbiAqIFxyXG4gKiBcclxuICovXHJcblxyXG5yb3V0ZXIuZ2V0KCcvdHJhY2tzJyxhc3luYyAocmVxLHJlcyk9PntcclxuICAgIHZhciBhcnI9cmVxLmJvZHkuaWQ7XHJcbiAgXHJcbiAgICB2YXIgcmV0dXJuZWRUcmFja0FycmF5PVt7fV07XHJcblxyXG4gICAgaWYoYXJyLmxlbmd0aD41MClcclxuICAgIHtcclxuICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMykuanNvbih7XCJtZXNzYWdlXCI6XCIgRm9yYmlkZGVuIG1heGltdW0gNTAgSWRzXCJ9KTtcclxuICAgIH1cclxuICAgIFxyXG5cclxuXHJcblxyXG4gICAgZm9yKHZhciBpPTA7aTxhcnIubGVuZ3RoO2krKylcclxuICAgIHtcclxuICAgIGlmKCFPYmplY3RJRC5pc1ZhbGlkKGFycltpXSkpXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHtcIm1lc3NhZ2VcIjpcImludmFsaWQgaWRcIn0pO1xyXG4gICAgfVxyXG5cclxuICAgIGF3YWl0IHRyYWNrLmZpbmRCeUlkKHJlcS5ib2R5LmlkW2ldKS50aGVuKCh0cmFja3MpPT5cclxuICAgIHtcclxuICAgICAgIGlmKCF0cmFja3Mpe3JldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7XCJtZXNzYWdlXCI6XCJjYW4gbm90IGZpbmQgdHJhY2tcIn0pO31cclxuICAgICAgICByZXR1cm5lZFRyYWNrQXJyYXlbaV09dHJhY2tzO1xyXG4gICAgfSkuY2F0Y2goKGUpPT5yZXMuc3RhdHVzKDQwMCkuc2VuZChlKSk7XHJcblxyXG5cclxuICAgIH1cclxucmVzLnNlbmQocmV0dXJuZWRUcmFja0FycmF5KTtcclxuICAgIH0pXHJcblxyXG5cclxuXHJcblxyXG5cclxuLy9ERUxFVEUgQSBUUkFDS1xyXG5yb3V0ZXIuZGVsZXRlKCcvdHJhY2tzJywocmVxLHJlcyk9PntcclxuICAgIHZhciB0b2tlbiA9IHJlcS5oZWFkZXIoJ3gtYXV0aCcpO1xyXG4gICAgYXJ0aXN0LmZpbmRCeVRva2VuKHRva2VuKS50aGVuKChteWFydGlzdCk9PntcclxuICAgICAgICBpZighbXlhcnRpc3Qpe1xyXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoKTtcclxuICAgICAgICB9XHJcbiAgICB2YXIgYXRyaXN0SWQyPSBteWFydGlzdC5faWQ7IFxyXG4gICAgaWYoIXJlcS5ib2R5LnRyYWNrTmFtZSl7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5zZW5kKFwiUGFzcyB0aGUgdHJhY2sgbmFtZSB0byBkZWxldGVcIik7XHJcbiAgICB9ICBcclxuICAgIHZhciB0cmFja05hbWUxPXJlcS5ib2R5LnRyYWNrTmFtZSA7ICAvL3RyYWNrIG5hbWVcclxuICAgIFxyXG5cclxuICAgIHRyYWNrLmZpbmRPbmVBbmRSZW1vdmUoeyRhbmQ6W3thcnRpc3RJZDogYXRyaXN0SWQyfSx7dHJhY2tOYW1lOnRyYWNrTmFtZTEgfV19KS50aGVuKChkZWxUcmFja3MpPT57XHJcbiAgICAgICAgaWYoIWRlbFRyYWNrcyl7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLnNlbmQoJ1RyYWNrIG5vdCBmb3VuZCB0byBiZSBkZWxldGVkJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kKFwiVHJhY2sgXCIrdHJhY2tOYW1lMStcIiB3YXMgZGVsZXRlZCBzdWNjc2VzZnVsbHlcIik7XHJcblxyXG4gICAgfSkuY2F0Y2goKGUpPT57XHJcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoXCJDb3VsZCBub3QgZGVsZXRlIHRyYWNrXCIpO1xyXG4gICAgfSlcclxuICAgIH0pLmNhdGNoKChlKT0+e1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKCdVbmF1dGhvcml6ZWQgQWNjZXNzJyk7XHJcbiAgICB9KVxyXG59KTtcclxuXHJcblxyXG5cclxuXHJcbi8vQUREIEEgVFJBQ0tcclxucm91dGVyLnBvc3QoJy90cmFja3MnLChyZXEscmVzKT0+e1xyXG4gICAgdmFyIHRva2VuID0gcmVxLmhlYWRlcigneC1hdXRoJyk7XHJcbiAgICBhcnRpc3QuZmluZEJ5VG9rZW4odG9rZW4pLnRoZW4oKG15YXJ0aXN0KT0+e1xyXG4gICAgICAgIGlmKCFteWFydGlzdCl7XHJcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgYXRyaXN0SWQyPSBteWFydGlzdC5faWQ7ICAgXHJcbiAgICAgICAgaWYoIXJlcS5ib2R5LnRyYWNrTmFtZSl7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZChcIlRyYWNrIG5hbWUgaXMgcmVxdWlyZWRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKCFyZXEuYm9keS5nZW5yZSl7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZChcIlRyYWNrIGdlbnJlIGlzIHJlcXVpcmVkXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZighcmVxLmJvZHkuaW1hZ2Upe1xyXG4gICAgICAgICAgIHJldHVybiAgcmVzLnN0YXR1cyg0MDApLnNlbmQoXCJUcmFjayBpbWFnZSBpcyByZXF1aXJlZFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoIXJlcS5ib2R5LnVybCl7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZChcIlRyYWNrIHVybCBpcyByZXF1aXJlZFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoIXJlcS5ib2R5LmR1cmF0aW9uKXtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5zZW5kKFwiVHJhY2sgZHVyYXRpb24gaXMgcmVxdWlyZWRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vSUYgSEVJR0hUIEFORCBXSURUSCBBUkUgTk9UIFJFUVVJUkVEIC0+IFRPIEJFIFJFTU9WRUQgRlJPTSBUSEUgT1IgQ09ORElUSU9OIEhFUkVcclxuICAgICAgICBpZighcmVxLmJvZHkuaW1hZ2UuaGVpZ2h0IHx8ICFyZXEuYm9keS5pbWFnZS53aWR0aCB8fCAhcmVxLmJvZHkuaW1hZ2UudXJsKXtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5zZW5kKFwiSW1hZ2UgSW5mbyBvZiB0cmFjayBoYXMgdG8gYmUgcHJvdmlkZWRcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0cmFjay5maW5kT25lKHt1cmw6cmVxLmJvZHkudXJsfSkudGhlbigoZHVwdHJhY2t1cmwpPT57XHJcbiAgICAgICAgICAgIGlmKGR1cHRyYWNrdXJsKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwOSkuc2VuZChcIlRoaXMgdHJhY2sgaXMgYWxyZWFkeSBjcmVhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIHNhdmVkSW1hZ2U7XHJcbiAgICAgICAgICAgIGltYWdlcy5maW5kT25lKHt1cmw6cmVxLmJvZHkuaW1hZ2UudXJsfSkudGhlbigoaXNJbWFnZSk9PntcclxuICAgICAgICAgICAgICAgIGlmKCFpc0ltYWdlKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZWRJbWFnZT0gbmV3IGltYWdlcyAoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6cmVxLmJvZHkuaW1hZ2UudXJsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6cmVxLmJvZHkuaW1hZ2UuaGVpZ2h0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDpyZXEuYm9keS5pbWFnZS53aWR0aCx9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZWRJbWFnZS5zYXZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYoaXNJbWFnZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNhdmVkSW1hZ2U9aXNJbWFnZVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICAgICAgICAgIHRyYWNrLmZpbmQoeyRhbmQ6W3thcnRpc3RJZDphdHJpc3RJZDJ9LHt0cmFja05hbWU6cmVxLmJvZHkudHJhY2tOYW1lIH1dfSkudGhlbigodHJhY2tkdXBsaWNhdGUpPT57XHJcbiAgICAgICAgICAgICAgICBpZih0cmFja2R1cGxpY2F0ZS5sZW5ndGg9PTApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdHJhY2tJbnN0YW5jZSA9IG5ldyB0cmFjayh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFydGlzdElkOiBhdHJpc3RJZDIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNrTmFtZTogcmVxLmJvZHkudHJhY2tOYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjpyZXEuYm9keS5kdXJhdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOnJlcS5ib2R5LnVybCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2U6c2F2ZWRJbWFnZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2VucmU6cmVxLmJvZHkuZ2VucmUsXHJcbiAgICBcclxuICAgICAgICAgICAgICAgICAgICB9LChlKT0+e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZChcIkNvdWx0IG5vdCBhZGQgVHJhY2sgKFwiK3JlcS5ib2R5LnRyYWNrTmFtZStcIilcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICB0cmFja0luc3RhbmNlLnNhdmUoKS50aGVuKChkb2MpPT57XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAxKS5zZW5kKGRvYyk7ICBcclxuICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaCgoZSk9PntcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoXCJDb3VsdCBub3QgYWRkIFRyYWNrIChcIityZXEuYm9keS50cmFja05hbWUrXCIpXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZih0cmFja2R1cGxpY2F0ZS5sZW5ndGghPTApeyAgLy80MDkgaXMgY29kZSBmb3IgY29uZmxpY3RcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDkpLnNlbmQoXCJDYW5ub3QgY3JlYXRlIDIgVHJhY2tzIHdpdGggdGhlIHNhbWUgbmFtZSAoXCIrcmVxLmJvZHkudHJhY2tOYW1lK1wiKSBmb3IgdGhlIHNhbWUgYXJ0aXN0XCIpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIFxyXG5cclxuICAgICAgICB9KTtcclxuXHJcblxyXG5cclxuICAgIFxyXG4gICAgfSkuY2F0Y2goKGUpPT57XHJcbiAgICAgICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoJ1VuYXV0aG9yaXplZCBBY2Nlc3MnKTtcclxuICAgIH0pXHJcbn0pO1xyXG5cclxuXHJcbiAgICBcclxuXHJcbiAgICAvLyBBZGQgYSB0cmFja1xyXG4vLyAgICAgYXBwLnBvc3QoJy90cmFja3MnLGFzeW5jIChyZXEscmVzKT0+XHJcbi8vIHtcclxuLy8gICAgICAgICB2YXIgdG9rZW4gPSByZXEuaGVhZGVyKCd4LWF1dGgnKTtcclxuLy8gICAgICAgICAgYXJ0aXN0LmZpbmRCeVRva2VuKHRva2VuKS50aGVuKChhcnRpc3QpID0+IHtcclxuLy8gICAgICAgICAgaWYoIWFydGlzdCl7XHJcbi8vICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInlvdSBhcmUgbm90IGF1dGhvcml6ZWQgdG8gYWRkIGEgdHJhY2tcIilcclxuLy8gICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgpO1xyXG4vLyAgICAgICAgICB9XHJcbi8vICAgICAgICAgIGNvbnNvbGUubG9nKFwieW91IGFyZSBhdXRob3JpemVkIHRvIGFkZCBhIHRyYWNrXCIpO1xyXG4gICAgICAgIFxyXG4vLyAgICAgICAgICB2YXIgbmV3VHJhY2sgPSBuZXcgdHJhY2soXHJcbi8vICAgICAgICAgIHtcclxuLy8gICAgICAgICAgICAgIGFydGlzdElkIDogYXJ0aXN0Ll9pZCxcclxuLy8gICAgICAgICAgICAgIHRyYWNrTmFtZSA6IHJlcS5ib2R5LnRyYWNrTmFtZSxcclxuLy8gICAgICAgICAgICAgIGR1cmF0aW9uIDogcmVxLmJvZHkuZHVyYXRpb24sXHJcbi8vICAgICAgICAgICAgICB1cmwgOiByZXEuYm9keS51cmxcclxuLy8gICAgICAgICAgfSlcclxuLy8gICAgICAgICAgY29uc29sZS5sb2coJ1JlY2lldmVkIGluZm8gc3VjY2Vzc2Z1bGx5Jyk7XHJcbi8vICAgICAgICAgICAgIG5ld1RyYWNrLnNhdmUoKS50aGVuKChyZXMpPT57XHJcbi8vICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMuX2lkKTtcclxuLy8gICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzYXZlZCcpXHJcbi8vICAgICAgICAgICAgIH0sKGVycik9PntcclxuLy8gICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbi8vICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCgnSW5zZXJ0aW9uIG9mIG5ldyB0cmFjayBoYXMgZmFpbGVkJyk7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgKS5jYXRjaCgoZSkgPT4ge1xyXG4vLyAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbi8vICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoKTtcclxuLy8gICAgICAgICAgICAgfSlcclxuLy8gICAgICAgICB9KS5jYXRjaCgoZSk9PntcclxuLy8gICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbi8vICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgpO1xyXG4vLyAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgIFxyXG4vLyAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kKCdJbnNlcnRlZCBzdWNjZXNmdWxseScpO1xyXG4vLyAgICAgICAgIH0pO1xyXG5cclxuLy8vLy8vLy8vIExpa2UgYSB0cmFjayAvLy8vLy8vLy8vL1xyXG5yb3V0ZXIucG9zdCgnL3RyYWNrcy9saWtlLzppZCcsIChyZXEscmVzKSA9PlxyXG57XHJcbiAgICB2YXIgdHJhY2tJZCA9IHJlcS5wYXJhbXMuaWQ7XHJcbiAgICB2YXIgdG9rZW4gPSByZXEuaGVhZGVyKCd4LWF1dGgnKTtcclxuICAgIGlmKCF0b2tlbilcclxuICAgIHtcclxuICAgICAgICByZXMuc3RhdHVzKDQwMCkuc2VuZCgnWW91IHNob3VsZCBQYXNzIGEgdG9rZW4gdG8gYWNjZXNzIHlvdXIgbGlrZWQgdHJhY2tzJyk7XHJcbiAgICB9XHJcbiAgICBpZighT2JqZWN0SUQuaXNWYWxpZCh0cmFja0lkKSlcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLnNlbmQoXCJpbnZhbGlkIGlkXCIpO1xyXG4gICAgfVxyXG4gICAgdHJhY2suZmluZE9uZSh7X2lkOnRyYWNrSWR9KS50aGVuKCh0cmFjaykgPT4ge1xyXG4gICAgaWYoIXRyYWNrKXtcclxuICAgICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCgndGhlaXIgaXMgbm8gc3VjaCBhIHRyYWNrIGluIHRoZSBkYXRhYmFzZScpO1xyXG4gICAgfVxyXG4gICAgfSlcclxuICAgIFVzZXIuZmluZEJ5VG9rZW4odG9rZW4pLnRoZW4oKHVzZXIpID0+e1xyXG4gICAgICAgIGlmKCF1c2VyKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc29sZS5sb2coJ3VzZXIgd2FzIGZvdW5kJyk7XHJcbiAgICAgICAgdmFyIGxlbiA9dXNlci5saWtlZFRyYWNrcy5sZW5ndGg7XHJcbiAgICAgICAgaWYobGVuID09IDApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB1c2VyLmxpa2VkVHJhY2tzWzBdPU9iamVjdElEKHRyYWNrSWQudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgIHVzZXIubWFya01vZGlmaWVkKCdsaWtlZFRyYWNrcycpXHJcbiAgICAgICAgICAgIHVzZXIuc2F2ZSgpO1xyXG4gICAgICAgICAgICB0cmFjay5maW5kT25lKHtfaWQ6dHJhY2tJZH0pLnRoZW4oKHRyYWNrKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0cmFjay5saWtlcyA9IHRyYWNrLmxpa2VzICsxO1xyXG4gICAgICAgICAgICAgICAgdHJhY2subWFya01vZGlmaWVkKCdsaWtlcycpO1xyXG4gICAgICAgICAgICAgICAgdHJhY2suc2F2ZSgpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZXtcclxuICAgICAgICBmb3IodmFyIGkgPSAwO2k8bGVuO2krKylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmKHRyYWNrSWQ9PXVzZXIubGlrZWRUcmFja3NbaV0pXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMykuc2VuZCgneW91IGFyZSB0cnlpbmcgdG8gbGlrZSB0aGUgc2FtZSB0cmFjayB0d2ljZScpOyAgIFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHVzZXIubGlrZWRUcmFja3NbbGVuXT1PYmplY3RJRCh0cmFja0lkLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgIHVzZXIubWFya01vZGlmaWVkKCdsaWtlZFRyYWNrcycpXHJcbiAgICAgICAgdXNlci5zYXZlKCk7XHJcbiAgICAgICAgdHJhY2suZmluZE9uZSh7X2lkOnRyYWNrSWR9KS50aGVuKCh0cmFjaykgPT4ge1xyXG4gICAgICAgICAgICB0cmFjay5saWtlcyA9IHRyYWNrLmxpa2VzICsxO1xyXG4gICAgICAgICAgICB0cmFjay5tYXJrTW9kaWZpZWQoJ2xpa2VzJyk7XHJcbiAgICAgICAgICAgIHRyYWNrLnNhdmUoKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2VuZCgpO1xyXG4gICAgICAgIH1cclxuICAgIH0pIFxyXG59KVxyXG5cclxuXHJcbi8vLy8vLy8gR2V0IExpa2VkIFRyYWNrcyAvLy8vLy8vLy8vXHJcbnJvdXRlci5nZXQoJy90cmFja3MvbGlrZS9tZScsIChyZXEscmVzKSA9PlxyXG57XHJcbiAgICB2YXIgdG9rZW4gPSByZXEuaGVhZGVyKCd4LWF1dGgnKTtcclxuICAgIGlmKCF0b2tlbilcclxuICAgIHtcclxuICAgICAgICByZXMuc3RhdHVzKDQwMCkuc2VuZCgnWW91IHNob3VsZCBQYXNzIGEgdG9rZW4gdG8gYWNjZXNzIHlvdXIgbGlrZWQgdHJhY2tzJyk7XHJcbiAgICB9XHJcbiAgICBVc2VyLmZpbmRCeVRva2VuKHRva2VuKS50aGVuKCh1c2VyKSA9PlxyXG4gICAge1xyXG4gICAgICAgIGlmKCF1c2VyKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoJ3lvdSBhcmUgbm90IGEgdXNlciBvciB5b3VyIHRva2VuIGlzIGV4cGlyZWQnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmVzLnN0YXR1cygzMDIpLnNlbmQodXNlci5saWtlZFRyYWNrcyk7XHJcbiAgICB9KS5jYXRjaCgoZSkgPT5cclxuICAgIHtcclxuICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCgnaW52YWxpZCB0b2tlbicpO1xyXG4gICAgfSlcclxufSlcclxuXHJcbm1vZHVsZS5leHBvcnRzPXJvdXRlcjsiXX0=